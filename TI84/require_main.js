/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */

/* ===================================================
 * bootstrap-transition.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ==========================================================
 * bootstrap-alert.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ============================================================
 * bootstrap-button.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-carousel.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* =============================================================
 * bootstrap-collapse.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ============================================================
 * bootstrap-dropdown.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =========================================================
 * bootstrap-modal.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/* ===========================================================
 * bootstrap-tooltip.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ===========================================================
 * bootstrap-popover.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */

/* =============================================================
 * bootstrap-scrollspy.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */

/* ========================================================
 * bootstrap-tab.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */

/* =============================================================
 * bootstrap-typeahead.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ==========================================================
 * bootstrap-affix.js v2.3.0
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

// (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://backbonejs.org

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

// i18next, v1.10.2
// Copyright (c)2015 Jan MÃ¼hlemann (jamuhl).
// Distributed under MIT license
// http://i18next.com

/**! hopscotch - v0.3.1
*
* Copyright 2017 LinkedIn Corp. All rights reserved.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

if(!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){var i,o=(t=t||re).createElement("script");if(o.text=e,n)for(i in Ee)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function i(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[pe.call(e)]||"object":typeof e}function o(e){var t=!!e&&"length"in e&&e.length,n=i(e);return!Te(e)&&!_e(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function r(e,t,n){return Te(t)?be.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?be.grep(e,function(e){return e===t!==n}):"string"!=typeof t?be.grep(e,function(e){return de.call(t,e)>-1!==n}):be.filter(t,e,n)}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return be.each(e.match(Le)||[],function(e,n){t[n]=!0}),t}function c(e){return e}function u(e){throw e}function d(e,t,n,i){var o;try{e&&Te(o=e.promise)?o.call(e).done(t).fail(n):e&&Te(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}function h(){re.removeEventListener("DOMContentLoaded",h),e.removeEventListener("load",h),be.ready()}function p(e,t){return t.toUpperCase()}function f(e){return e.replace(Pe,"ms-").replace(Me,p)}function g(){this.expando=be.expando+g.uid++}function m(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function v(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ve,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=m(n)}catch(e){}je.set(e,t,n)}else n=void 0;return n}function T(e,t,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return be.css(e,t,"")},l=a(),c=n&&n[3]||(be.cssNumber[t]?"":"px"),u=(be.cssNumber[t]||"px"!==c&&+l)&&We.exec(be.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)be.style(e,t,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),u/=s;u*=2,be.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function _(e){var t,n=e.ownerDocument,i=e.nodeName,o=Ke[i];return o||(t=n.body.appendChild(n.createElement(i)),o=be.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Ke[i]=o,o)}function E(e,t){for(var n,i,o=[],s=0,r=e.length;s<r;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(o[s]=Ue.get(i,"display")||null,o[s]||(i.style.display="")),""===i.style.display&&ze(i)&&(o[s]=_(i))):"none"!==n&&(o[s]="none",Ue.set(i,"display",n)));for(s=0;s<r;s++)null!=o[s]&&(e[s].style.display=o[s]);return e}function b(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&s(e,t)?be.merge([e],n):n}function y(e,t){for(var n=0,i=e.length;n<i;n++)Ue.set(e[n],"globalEval",!t||Ue.get(t[n],"globalEval"))}function w(e,t,n,o,s){for(var r,a,l,c,u,d,h=t.createDocumentFragment(),p=[],f=0,g=e.length;f<g;f++)if((r=e[f])||0===r)if("object"===i(r))be.merge(p,r.nodeType?[r]:r);else if(Ze.test(r)){for(a=a||h.appendChild(t.createElement("div")),l=(Ye.exec(r)||["",""])[1].toLowerCase(),c=Qe[l]||Qe._default,a.innerHTML=c[1]+be.htmlPrefilter(r)+c[2],d=c[0];d--;)a=a.lastChild;be.merge(p,a.childNodes),(a=h.firstChild).textContent=""}else p.push(t.createTextNode(r));for(h.textContent="",f=0;r=p[f++];)if(o&&be.inArray(r,o)>-1)s&&s.push(r);else if(u=be.contains(r.ownerDocument,r),a=b(h.appendChild(r),"script"),u&&y(a),n)for(d=0;r=a[d++];)Je.test(r.type||"")&&n.push(r);return h}function S(){return!0}function C(){return!1}function N(){try{return re.activeElement}catch(e){}}function I(e,t,n,i,o,s){var r,a;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(a in t)I(e,a,n,i,t[a],s);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=C;else if(!o)return e;return 1===s&&(r=o,(o=function(e){return be().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=be.guid++)),e.each(function(){be.event.add(this,t,o,i,n)})}function A(e,t){return s(e,"table")&&s(11!==t.nodeType?t:t.firstChild,"tr")?be(e).children("tbody")[0]||e:e}function x(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function O(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function R(e,t){var n,i,o,s,r,a,l,c;if(1===t.nodeType){if(Ue.hasData(e)&&(s=Ue.access(e),r=Ue.set(t,s),c=s.events)){delete r.handle,r.events={};for(o in c)for(n=0,i=c[o].length;n<i;n++)be.event.add(t,o,c[o][n])}je.hasData(e)&&(a=je.access(e),l=be.extend({},a),je.set(t,l))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function $(e,t,i,o){t=ce.apply([],t);var s,r,a,l,c,u,d=0,h=e.length,p=h-1,f=t[0],g=Te(f);if(g||h>1&&"string"==typeof f&&!ve.checkClone&&rt.test(f))return e.each(function(n){var s=e.eq(n);g&&(t[0]=f.call(this,n,s.html())),$(s,t,i,o)});if(h&&(s=w(t,e[0].ownerDocument,!1,e,o),r=s.firstChild,1===s.childNodes.length&&(s=r),r||o)){for(l=(a=be.map(b(s,"script"),x)).length;d<h;d++)c=s,d!==p&&(c=be.clone(c,!0,!0),l&&be.merge(a,b(c,"script"))),i.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,be.map(a,O),d=0;d<l;d++)c=a[d],Je.test(c.type||"")&&!Ue.access(c,"globalEval")&&be.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?be._evalUrl&&be._evalUrl(c.src):n(c.textContent.replace(at,""),u,c))}return e}function k(e,t,n){for(var i,o=t?be.filter(t,e):e,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||be.cleanData(b(i)),i.parentNode&&(n&&be.contains(i.ownerDocument,i)&&y(b(i,"script")),i.parentNode.removeChild(i));return e}function D(e,t,n){var i,o,s,r,a=e.style;return(n=n||ct(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||be.contains(e.ownerDocument,e)||(r=be.style(e,t)),!ve.pixelBoxStyles()&&lt.test(r)&&ut.test(t)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in mt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=gt.length;n--;)if((e=gt[n]+t)in mt)return e}function F(e){var t=be.cssProps[e];return t||(t=be.cssProps[e]=M(e)||e),t}function U(e,t,n){var i=We.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function j(e,t,n,i,o,s){var r="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=be.css(e,n+Ge[r],!0,o)),i?("content"===n&&(l-=be.css(e,"padding"+Ge[r],!0,o)),"margin"!==n&&(l-=be.css(e,"border"+Ge[r]+"Width",!0,o))):(l+=be.css(e,"padding"+Ge[r],!0,o),"padding"!==n?l+=be.css(e,"border"+Ge[r]+"Width",!0,o):a+=be.css(e,"border"+Ge[r]+"Width",!0,o));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))),l}function B(e,t,n){var i=ct(e),o=D(e,t,i),s="border-box"===be.css(e,"boxSizing",!1,i),r=s;if(lt.test(o)){if(!n)return o;o="auto"}return r=r&&(ve.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===be.css(e,"display",!1,i))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],r=!0),(o=parseFloat(o)||0)+j(e,t,n||(s?"border":"content"),r,i,o)+"px"}function V(e,t,n,i,o){return new V.prototype.init(e,t,n,i,o)}function H(){Tt&&(!1===re.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(H):e.setTimeout(H,be.fx.interval),be.fx.tick())}function W(){return e.setTimeout(function(){vt=void 0}),vt=Date.now()}function G(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=Ge[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function z(e,t,n){for(var i,o=(X.tweeners[t]||[]).concat(X.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function q(e,t,n){var i,o,s,r,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&ze(e),m=Ue.get(e,"fxshow");n.queue||(null==(r=be._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,be.queue(e,"fx").length||r.empty.fire()})}));for(i in t)if(o=t[i],_t.test(o)){if(delete t[i],s=s||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||be.style(e,i)}if((l=!be.isEmptyObject(t))||!be.isEmptyObject(p)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=Ue.get(e,"display")),"none"===(u=be.css(e,"display"))&&(c?u=c:(E([e],!0),c=e.style.display||c,u=be.css(e,"display"),E([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===be.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(m?"hidden"in m&&(g=m.hidden):m=Ue.access(e,"fxshow",{display:c}),s&&(m.hidden=!g),g&&E([e],!0),h.done(function(){g||E([e]),Ue.remove(e,"fxshow");for(i in p)be.style(e,i,p[i])})),l=z(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}}function K(e,t){var n,i,o,s,r;for(n in e)if(i=f(n),o=t[i],s=e[n],Array.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(r=be.cssHooks[i])&&"expand"in r){s=r.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=o)}else t[i]=o}function X(e,t,n){var i,o,s=0,r=X.prefilters.length,a=be.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=vt||W(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(i);return a.notifyWith(e,[c,i,n]),i<1&&r?n:(r||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:be.extend({},t),opts:be.extend(!0,{specialEasing:{},easing:be.easing._default},n),originalProperties:t,originalOptions:n,startTime:vt||W(),duration:n.duration,tweens:[],createTween:function(t,n){var i=be.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(K(u,c.opts.specialEasing);s<r;s++)if(i=X.prefilters[s].call(c,e,u,c.opts))return Te(i.stop)&&(be._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return be.map(u,z,c),Te(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),be.fx.timer(be.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function Y(e){return(e.match(Le)||[]).join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function Q(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Le)||[]:[]}function Z(e,t,n,o){var s;if(Array.isArray(t))be.each(t,function(t,i){n||Rt.test(e)?o(e,i):Z(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,o)});else if(n||"object"!==i(t))o(e,t);else for(s in t)Z(e+"["+s+"]",t[s],n,o)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,s=t.toLowerCase().match(Le)||[];if(Te(n))for(;i=s[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function te(e,t,n,i){function o(a){var l;return s[a]=!0,be.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||r||s[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var s={},r=e===Ht;return o(t.dataTypes[0])||!s["*"]&&o("*")}function ne(e,t){var n,i,o=be.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&be.extend(!0,e,i),e}function ie(e,t,n){for(var i,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}function oe(e,t,n,i){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}var se=[],re=e.document,ae=Object.getPrototypeOf,le=se.slice,ce=se.concat,ue=se.push,de=se.indexOf,he={},pe=he.toString,fe=he.hasOwnProperty,ge=fe.toString,me=ge.call(Object),ve={},Te=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},_e=function(e){return null!=e&&e===e.window},Ee={type:!0,src:!0,noModule:!0},be=function(e,t){return new be.fn.init(e,t)},ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;be.fn=be.prototype={jquery:"3.3.1",constructor:be,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=be.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return be.each(this,e)},map:function(e){return this.pushStack(be.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:se.sort,splice:se.splice},be.extend=be.fn.extend=function(){var e,t,n,i,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||Te(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],r!==(i=e[t])&&(c&&i&&(be.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,s=n&&Array.isArray(n)?n:[]):s=n&&be.isPlainObject(n)?n:{},r[t]=be.extend(c,s,i)):void 0!==i&&(r[t]=i));return r},be.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==pe.call(e)||(t=ae(e))&&("function"!=typeof(n=fe.call(t,"constructor")&&t.constructor)||ge.call(n)!==me))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,i=0;if(o(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ye,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?be.merge(n,"string"==typeof e?[e]:e):ue.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:de.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i,o=[],s=0,r=e.length,a=!n;s<r;s++)(i=!t(e[s],s))!==a&&o.push(e[s]);return o},map:function(e,t,n){var i,s,r=0,a=[];if(o(e))for(i=e.length;r<i;r++)null!=(s=t(e[r],r,n))&&a.push(s);else for(r in e)null!=(s=t(e[r],r,n))&&a.push(s);return ce.apply([],a)},guid:1,support:ve}),"function"==typeof Symbol&&(be.fn[Symbol.iterator]=se[Symbol.iterator]),be.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var we=function(e){function t(e,t,n,i){var o,s,r,a,l,c,u,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:B)!==$&&L(t),t=t||$,D)){if(11!==f&&(l=ve.exec(e)))if(o=l[1]){if(9===f){if(!(r=t.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(h&&(r=h.getElementById(o))&&U(t,r)&&r.id===o)return n.push(r),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&y.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(y.qsa&&!z[e+" "]&&(!P||!P.test(e))){if(1!==f)h=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,ye):t.setAttribute("id",a=j),s=(c=N(e)).length;s--;)c[s]="#"+a+" "+p(c[s]);u=c.join(","),h=Te.test(e)&&d(t.parentNode)||t}if(u)try{return Q.apply(n,h.querySelectorAll(u)),n}catch(e){}finally{a===j&&t.removeAttribute("id")}}}return A(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[j]=!0,e}function o(e){var t=$.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var o,s=e([],n.length,t),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,o=t.next,s=o||i,r=n&&"parentNode"===s,a=H++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,h=[V,a];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(d=t[j]||(t[j]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[s])&&c[0]===V&&c[1]===a)return h[2]=c[2];if(u[s]=h,h[2]=e(t,n,l))return!0}return!1}}function g(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var o=0,s=n.length;o<s;o++)t(e,n[o],i);return i}function v(e,t,n,i,o){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,i,o)||(r.push(s),c&&t.push(a)));return r}function T(e,t,n,o,s,r){return o&&!o[j]&&(o=T(o)),s&&!s[j]&&(s=T(s,r)),i(function(i,r,a,l){var c,u,d,h=[],p=[],f=r.length,g=i||m(t||"*",a.nodeType?[a]:a,[]),T=!e||!i&&t?g:v(g,h,e,a,l),_=n?s||(i?e:f||o)?[]:r:T;if(n&&n(T,_,a,l),o)for(c=v(_,p),o(c,[],a,l),u=c.length;u--;)(d=c[u])&&(_[p[u]]=!(T[p[u]]=d));if(i){if(s||e){if(s){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(T[u]=d);s(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=s?ee(i,d):h[u])>-1&&(i[c]=!(r[c]=d))}}else _=v(_===r?_.splice(f,_.length):_),s?s(null,r,_,l):Q.apply(r,_)})}function _(e){for(var t,n,i,o=e.length,s=w.relative[e[0].type],r=s||w.relative[" "],a=s?1:0,l=f(function(e){return e===t},r,!0),c=f(function(e){return ee(t,e)>-1},r,!0),u=[function(e,n,i){var o=!s&&(i||n!==x)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,o}];a<o;a++)if(n=w.relative[e[a].type])u=[f(g(u),n)];else{if((n=w.filter[e[a].type].apply(null,e[a].matches))[j]){for(i=++a;i<o&&!w.relative[e[i].type];i++);return T(a>1&&g(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&_(e.slice(a,i)),i<o&&_(e=e.slice(i)),i<o&&p(e))}u.push(n)}return g(u)}function E(e,n){var o=n.length>0,s=e.length>0,r=function(i,r,a,l,c){var u,d,h,p=0,f="0",g=i&&[],m=[],T=x,_=i||s&&w.find.TAG("*",c),E=V+=null==T?1:Math.random()||.1,b=_.length;for(c&&(x=r===$||r||c);f!==b&&null!=(u=_[f]);f++){if(s&&u){for(d=0,r||u.ownerDocument===$||(L(u),a=!D);h=e[d++];)if(h(u,r||$,a)){l.push(u);break}c&&(V=E)}o&&((u=!h&&u)&&p--,i&&g.push(u))}if(p+=f,o&&f!==p){for(d=0;h=n[d++];)h(g,m,r,a);if(i){if(p>0)for(;f--;)g[f]||m[f]||(m[f]=Y.call(l));m=v(m)}Q.apply(l,m),c&&!i&&m.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(V=E,x=T),g};return o?i(r):r}var b,y,w,S,C,N,I,A,x,O,R,L,$,k,D,P,M,F,U,j="sizzle"+1*new Date,B=e.document,V=0,H=0,W=n(),G=n(),z=n(),q=function(e,t){return e===t&&(R=!0),0},K={}.hasOwnProperty,X=[],Y=X.pop,J=X.push,Q=X.push,Z=X.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",re=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Te=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ye=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){L()},Se=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(X=Z.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(e){Q={apply:X.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}y=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:B;return i!==$&&9===i.nodeType&&i.documentElement?($=i,k=$.documentElement,D=!C($),B!==$&&(n=$.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),y.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=o(function(e){return e.appendChild($.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=me.test($.getElementsByClassName),y.getById=o(function(e){return k.appendChild(e).id=j,!$.getElementsByName||!$.getElementsByName(j).length}),y.getById?(w.filter.ID=function(e){var t=e.replace(_e,Ee);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var t=e.replace(_e,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&D){var n,i,o,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(o=t.getElementsByName(e),i=0;s=o[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),w.find.TAG=y.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},w.find.CLASS=y.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&D)return t.getElementsByClassName(e)},M=[],P=[],(y.qsa=me.test($.querySelectorAll))&&(o(function(e){k.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||P.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=$.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),k.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(y.matchesSelector=me.test(F=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&o(function(e){y.disconnectedMatch=F.call(e,"*"),F.call(e,"[s!='']:x"),M.push("!=",se)}),P=P.length&&new RegExp(P.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(k.compareDocumentPosition),U=t||me.test(k.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return R=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===n?e===$||e.ownerDocument===B&&U(B,e)?-1:t===$||t.ownerDocument===B&&U(B,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return R=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!o||!s)return e===$?-1:t===$?1:o?-1:s?1:O?ee(O,e)-ee(O,t):0;if(o===s)return r(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?r(a[i],l[i]):a[i]===B?-1:l[i]===B?1:0},$):$},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==$&&L(e),n=n.replace(ue,"='$1']"),y.matchesSelector&&D&&!z[n+" "]&&(!M||!M.test(n))&&(!P||!P.test(n)))try{var i=F.call(e,n);if(i||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,$,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==$&&L(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==$&&L(e);var n=w.attrHandle[t.toLowerCase()],i=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==i?i:y.attributes||!D?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(be,ye)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,o=0;if(R=!y.detectDuplicates,O=!y.sortStable&&e.slice(0),e.sort(q),R){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return O=null,e},S=t.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},(w=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(o){var s=t.attr(o,e);return null==s?"!="===n:!n||(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,g=s!==r?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),T=!l&&!a,_=!1;if(m){if(s){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?m.firstChild:m.lastChild],r&&T){for(_=(p=(c=(u=(d=(h=m)[j]||(h[j]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===V&&c[1])&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(_=p=0)||f.pop();)if(1===h.nodeType&&++_&&h===t){u[e]=[V,p,_];break}}else if(T&&(_=p=(c=(u=(d=(h=t)[j]||(h[j]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===V&&c[1]),!1===_)for(;(h=++p&&h&&h[g]||(_=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(T&&((u=(d=h[j]||(h[j]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[V,_]),h!==t)););return(_-=o)===i||_%i==0&&_/i>=0}}},PSEUDO:function(e,n){var o,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[j]?s(n):s.length>1?(o=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,o=s(e,n),r=o.length;r--;)e[i=ee(e,o[r])]=!(t[i]=o[r])}):function(e){return s(e,0,o)}):s}},pseudos:{not:i(function(e){var t=[],n=[],o=I(e.replace(ae,"$1"));return o[j]?i(function(e,t,n,i){for(var s,r=o(e,null,i,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,i,s){return t[0]=e,o(t,null,s,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(_e,Ee),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,Ee).toLowerCase(),function(t){var n;do if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=l(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,N=t.tokenize=function(e,n){var i,o,s,r,a,l,c,u=G[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=w.preFilter;a;){i&&!(o=le.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),i=!1,(o=ce.exec(a))&&(i=o.shift(),s.push({value:i,type:o[0].replace(ae," ")}),a=a.slice(i.length));for(r in w.filter)!(o=pe[r].exec(a))||c[r]&&!(o=c[r](o))||(i=o.shift(),s.push({value:i,type:r,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):G(e,l).slice(0)},I=t.compile=function(e,t){var n,i=[],o=[],s=z[e+" "];if(!s){for(t||(t=N(e)),n=t.length;n--;)(s=_(t[n]))[j]?i.push(s):o.push(s);(s=z(e,E(o,i))).selector=e}return s},A=t.select=function(e,t,n,i){var o,s,r,a,l,c="function"==typeof e&&e,u=!i&&N(e=c.selector||e);if(n=n||[],1===u.length){if((s=u[0]=u[0].slice(0)).length>2&&"ID"===(r=s[0]).type&&9===t.nodeType&&D&&w.relative[s[1].type]){if(!(t=(w.find.ID(r.matches[0].replace(_e,Ee),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=pe.needsContext.test(e)?0:s.length;o--&&(r=s[o],!w.relative[a=r.type]);)if((l=w.find[a])&&(i=l(r.matches[0].replace(_e,Ee),Te.test(s[0].type)&&d(t.parentNode)||t))){if(s.splice(o,1),!(e=i.length&&p(s)))return Q.apply(n,i),n;break}}return(c||I(e,u))(i,t,!D,n,!t||Te.test(e)&&d(t.parentNode)||t),n},y.sortStable=j.split("").sort(q).join("")===j,y.detectDuplicates=!!R,L(),y.sortDetached=o(function(e){return 1&e.compareDocumentPosition($.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);be.find=we,be.expr=we.selectors,be.expr[":"]=be.expr.pseudos,be.uniqueSort=be.unique=we.uniqueSort,be.text=we.getText,be.isXMLDoc=we.isXML,be.contains=we.contains,be.escapeSelector=we.escape;var Se=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&be(e).is(n))break;i.push(e)}return i},Ce=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ne=be.expr.match.needsContext,Ie=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;be.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?be.find.matchesSelector(i,e)?[i]:[]:be.find.matches(e,be.grep(t,function(e){return 1===e.nodeType}))},be.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(be(e).filter(function(){for(t=0;t<i;t++)if(be.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)be.find(e,o[t],n);return i>1?be.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&Ne.test(e)?be(e):e||[],!1).length}});var Ae,xe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(be.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:xe.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof be?t[0]:t,be.merge(this,be.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Ie.test(i[1])&&be.isPlainObject(t))for(i in t)Te(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=re.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Te(e)?void 0!==n.ready?n.ready(e):e(be):be.makeArray(e,this)}).prototype=be.fn,Ae=be(re);var Oe=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};be.fn.extend({has:function(e){var t=be(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(be.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,s=[],r="string"!=typeof e&&be(e);if(!Ne.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&be.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?be.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?de.call(be(e),this[0]):de.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(be.uniqueSort(be.merge(this.get(),be(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),be.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Se(e,"parentNode")},parentsUntil:function(e,t,n){return Se(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Se(e,"nextSibling")},prevAll:function(e){return Se(e,"previousSibling")},nextUntil:function(e,t,n){return Se(e,"nextSibling",n)},prevUntil:function(e,t,n){return Se(e,"previousSibling",n)},siblings:function(e){return Ce((e.parentNode||{}).firstChild,e)},children:function(e){return Ce(e.firstChild)},contents:function(e){return s(e,"iframe")?e.contentDocument:(s(e,"template")&&(e=e.content||e),be.merge([],e.childNodes))}},function(e,t){be.fn[e]=function(n,i){var o=be.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=be.filter(i,o)),this.length>1&&(Re[e]||be.uniqueSort(o),Oe.test(e)&&o.reverse()),this.pushStack(o)}});var Le=/[^\x20\t\r\n\f]+/g;be.Callbacks=function(e){e="string"==typeof e?l(e):be.extend({},e);var t,n,o,s,r=[],a=[],c=-1,u=function(){for(s=s||e.once,o=t=!0;a.length;c=-1)for(n=a.shift();++c<r.length;)!1===r[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=r.length,n=!1);e.memory||(n=!1),t=!1,s&&(r=n?[]:"")},d={add:function(){return r&&(n&&!t&&(c=r.length-1,a.push(n)),function t(n){be.each(n,function(n,o){Te(o)?e.unique&&d.has(o)||r.push(o):o&&o.length&&"string"!==i(o)&&t(o)})}(arguments),n&&!t&&u()),this},remove:function(){return be.each(arguments,function(e,t){for(var n;(n=be.inArray(t,r,n))>-1;)r.splice(n,1),n<=c&&c--}),this},has:function(e){return e?be.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return s=a=[],n||t||(r=n=""),this},locked:function(){return!!s},fireWith:function(e,n){return s||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},be.extend({Deferred:function(t){var n=[["notify","progress",be.Callbacks("memory"),be.Callbacks("memory"),2],["resolve","done",be.Callbacks("once memory"),be.Callbacks("once memory"),0,"resolved"],["reject","fail",be.Callbacks("once memory"),be.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return be.Deferred(function(t){be.each(n,function(n,i){var o=Te(e[i[4]])&&e[i[4]];s[i[1]](function(){var e=o&&o.apply(this,arguments);e&&Te(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,i,o){function s(t,n,i,o){return function(){var a=this,l=arguments,d=function(){var e,d;if(!(t<r)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,Te(d)?o?d.call(e,s(r,n,c,o),s(r,n,u,o)):(r++,d.call(e,s(r,n,c,o),s(r,n,u,o),s(r,n,c,n.notifyWith))):(i!==c&&(a=void 0,l=[e]),(o||n.resolveWith)(a,l))}},h=o?d:function(){try{d()}catch(e){be.Deferred.exceptionHook&&be.Deferred.exceptionHook(e,h.stackTrace),t+1>=r&&(i!==u&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?h():(be.Deferred.getStackHook&&(h.stackTrace=be.Deferred.getStackHook()),e.setTimeout(h))}}var r=0;return be.Deferred(function(e){n[0][3].add(s(0,e,Te(o)?o:c,e.notifyWith)),n[1][3].add(s(0,e,Te(t)?t:c)),n[2][3].add(s(0,e,Te(i)?i:u))}).promise()},promise:function(e){return null!=e?be.extend(e,o):o}},s={};return be.each(n,function(e,t){var r=t[2],a=t[5];o[t[1]]=r.add,a&&r.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),o=le.call(arguments),s=be.Deferred(),r=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?le.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(d(e,s.done(r(n)).resolve,s.reject,!t),"pending"===s.state()||Te(o[n]&&o[n].then)))return s.then();for(;n--;)d(o[n],r(n),s.reject);return s.promise()}});var $e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;be.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&$e.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},be.readyException=function(t){e.setTimeout(function(){throw t})};var ke=be.Deferred();be.fn.ready=function(e){return ke.then(e).catch(function(e){be.readyException(e)}),this},be.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--be.readyWait:be.isReady)||(be.isReady=!0,!0!==e&&--be.readyWait>0||ke.resolveWith(re,[be]))}}),be.ready.then=ke.then,"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll?e.setTimeout(be.ready):(re.addEventListener("DOMContentLoaded",h),e.addEventListener("load",h));var De=function(e,t,n,o,s,r,a){var l=0,c=e.length,u=null==n;if("object"===i(n)){s=!0;for(l in n)De(e,t,l,n[l],!0,r,a)}else if(void 0!==o&&(s=!0,Te(o)||(a=!0),u&&(a?(t.call(e,o),t=null):(u=t,t=function(e,t,n){return u.call(be(e),n)})),t))for(;l<c;l++)t(e[l],n,a?o:o.call(e[l],l,t(e[l],n)));return s?e:u?t.call(e):c?t(e[0],n):r},Pe=/^-ms-/,Me=/-([a-z])/g,Fe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[f(t)]=n;else for(i in t)o[f(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][f(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(f):(t=f(t))in i?[t]:t.match(Le)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||be.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!be.isEmptyObject(t)}};var Ue=new g,je=new g,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ve=/[A-Z]/g;be.extend({hasData:function(e){return je.hasData(e)||Ue.hasData(e)},data:function(e,t,n){return je.access(e,t,n)},removeData:function(e,t){je.remove(e,t)},_data:function(e,t,n){return Ue.access(e,t,n)},_removeData:function(e,t){Ue.remove(e,t)}}),be.fn.extend({data:function(e,t){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(o=je.get(s),1===s.nodeType&&!Ue.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=f(i.slice(5)),v(s,i,o[i]));Ue.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){je.set(this,e)}):De(this,function(t){var n;if(s&&void 0===t){if(void 0!==(n=je.get(s,e)))return n;if(void 0!==(n=v(s,e)))return n}else this.each(function(){je.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){je.remove(this,e)})}}),be.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Ue.get(e,t),n&&(!i||Array.isArray(n)?i=Ue.access(e,t,be.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=be.queue(e,t),i=n.length,o=n.shift(),s=be._queueHooks(e,t),r=function(){be.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,r,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ue.get(e,n)||Ue.access(e,n,{empty:be.Callbacks("once memory").add(function(){Ue.remove(e,[t+"queue",n])})})}}),be.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?be.queue(this[0],e):void 0===t?this:this.each(function(){var n=be.queue(this,e,t);be._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&be.dequeue(this,e)})},dequeue:function(e){return this.each(function(){be.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=be.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=Ue.get(s[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,We=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],ze=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&be.contains(e.ownerDocument,e)&&"none"===be.css(e,"display")},qe=function(e,t,n,i){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];o=n.apply(e,i||[]);for(s in t)e.style[s]=r[s];return o},Ke={};be.fn.extend({show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ze(this)?be(this).show():be(this).hide()})}});var Xe=/^(?:checkbox|radio)$/i,Ye=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Je=/^$|^module$|\/(?:java|ecma)script/i,Qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td;var Ze=/<|&#?\w+;/;!function(){var e=re.createDocumentFragment().appendChild(re.createElement("div")),t=re.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),ve.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var et=re.documentElement,tt=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;be.event={global:{},add:function(e,t,n,i,o){var s,r,a,l,c,u,d,h,p,f,g,m=Ue.get(e);if(m)for(n.handler&&(n=(s=n).handler,o=s.selector),o&&be.find.matchesSelector(et,o),n.guid||(n.guid=be.guid++),(l=m.events)||(l=m.events={}),(r=m.handle)||(r=m.handle=function(t){return"undefined"!=typeof be&&be.event.triggered!==t.type?be.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Le)||[""]).length;c--;)p=g=(a=it.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=be.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=be.event.special[p]||{},u=be.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&be.expr.match.needsContext.test(o),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(p,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),be.event.global[p]=!0)},remove:function(e,t,n,i,o){var s,r,a,l,c,u,d,h,p,f,g,m=Ue.hasData(e)&&Ue.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(Le)||[""]).length;c--;)if(a=it.exec(t[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=be.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||be.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)be.event.remove(e,p+t[c],n,i,!0);be.isEmptyObject(l)&&Ue.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,s,r,a=be.event.fix(e),l=new Array(arguments.length),c=(Ue.get(this,"events")||{})[a.type]||[],u=be.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(r=be.event.handlers.call(this,a,c),t=0;(o=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(i=((be.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,s,r,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],r={},n=0;n<l;n++)void 0===r[o=(i=t[n]).selector+" "]&&(r[o]=i.needsContext?be(o,this).index(c)>-1:be.find(o,this,null,[c]).length),r[o]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(be.Event.prototype,e,{enumerable:!0,configurable:!0,get:Te(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[be.expando]?e:new be.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==N()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===N()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function(e){return s(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},be.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},be.Event=function(e,t){return this instanceof be.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?S:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&be.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[be.expando]=!0,void 0):new be.Event(e,t)},be.Event.prototype={constructor:be.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=S,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=S,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=S,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},be.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&tt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&nt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},be.event.addProp),be.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){be.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,s=e.handleObj;return o&&(o===i||be.contains(i,o))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),be.fn.extend({on:function(e,t,n,i){return I(this,e,t,n,i)},one:function(e,t,n,i){return I(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,be(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=C),this.each(function(){be.event.remove(this,e,n,t)})}});var ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,st=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;be.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(e,t,n){var i,o,s,r,a=e.cloneNode(!0),l=be.contains(e.ownerDocument,e);if(!(ve.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||be.isXMLDoc(e)))for(r=b(a),i=0,o=(s=b(e)).length;i<o;i++)L(s[i],r[i]);if(t)if(n)for(s=s||b(e),r=r||b(a),i=0,o=s.length;i<o;i++)R(s[i],r[i]);else R(e,a);return(r=b(a,"script")).length>0&&y(r,!l&&b(e,"script")),a},cleanData:function(e){for(var t,n,i,o=be.event.special,s=0;void 0!==(n=e[s]);s++)if(Fe(n)){if(t=n[Ue.expando]){if(t.events)for(i in t.events)o[i]?be.event.remove(n,i):be.removeEvent(n,i,t.handle);n[Ue.expando]=void 0}n[je.expando]&&(n[je.expando]=void 0)}}}),be.fn.extend({detach:function(e){return k(this,e,!0)},remove:function(e){return k(this,e)},text:function(e){return De(this,function(e){return void 0===e?be.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,e).appendChild(e)})},prepend:function(){return $(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=A(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(be.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return be.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!st.test(e)&&!Qe[(Ye.exec(e)||["",""])[1].toLowerCase()]){e=be.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(be.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return $(this,arguments,function(t){var n=this.parentNode;be.inArray(this,e)<0&&(be.cleanData(b(this)),n&&n.replaceChild(t,this))},e)}}),be.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){be.fn[e]=function(e){for(var n,i=[],o=be(e),s=o.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),be(o[r])[t](n),ue.apply(i,n.get());return this.pushStack(i)}});var lt=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ct=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ut=new RegExp(Ge.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",et.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,a=12===n(t.marginLeft),c.style.right="60%",r=36===n(t.right),o=36===n(t.width),c.style.position="absolute",s=36===c.offsetWidth||"absolute",et.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,s,r,a,l=re.createElement("div"),c=re.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===c.style.backgroundClip,be.extend(ve,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),s}}))}();var dt=/^(none|table(?!-c[ea]).+)/,ht=/^--/,pt={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:"0",fontWeight:"400"},gt=["Webkit","Moz","ms"],mt=re.createElement("div").style;be.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=D(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=f(t),l=ht.test(t),c=e.style;if(l||(t=F(a)),r=be.cssHooks[t]||be.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:c[t];"string"==(s=typeof n)&&(o=We.exec(n))&&o[1]&&(n=T(e,t,o),s="number"),null!=n&&n===n&&("number"===s&&(n+=o&&o[3]||(be.cssNumber[a]?"":"px")),ve.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var o,s,r,a=f(t);return ht.test(t)||(t=F(a)),(r=be.cssHooks[t]||be.cssHooks[a])&&"get"in r&&(o=r.get(e,!0,n)),void 0===o&&(o=D(e,t,i)),"normal"===o&&t in ft&&(o=ft[t]),""===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),be.each(["height","width"],function(e,t){be.cssHooks[t]={get:function(e,n,i){if(n)return!dt.test(be.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,i):qe(e,pt,function(){return B(e,t,i)})},set:function(e,n,i){var o,s=ct(e),r="border-box"===be.css(e,"boxSizing",!1,s),a=i&&j(e,t,i,r,s);return r&&ve.scrollboxSize()===s.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-j(e,t,"border",!1,s)-.5)),a&&(o=We.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=be.css(e,t)),U(e,n,a)}}}),be.cssHooks.marginLeft=P(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(D(e,"marginLeft"))||e.getBoundingClientRect().left-qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),be.each({margin:"",padding:"",border:"Width"},function(e,t){be.cssHooks[e+t]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+Ge[i]+t]=s[i]||s[i-2]||s[0];return o}},"margin"!==e&&(be.cssHooks[e+t].set=U)}),be.fn.extend({css:function(e,t){return De(this,function(e,t,n){var i,o,s={},r=0;if(Array.isArray(t)){for(i=ct(e),o=t.length;r<o;r++)s[t[r]]=be.css(e,t[r],!1,i);return s}return void 0!==n?be.style(e,t,n):be.css(e,t)},e,t,arguments.length>1)}}),be.Tween=V,V.prototype={constructor:V,init:function(e,t,n,i,o,s){this.elem=e,this.prop=n,this.easing=o||be.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(be.cssNumber[n]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t,n=V.propHooks[this.prop];return this.options.duration?this.pos=t=be.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=be.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){be.fx.step[e.prop]?be.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[be.cssProps[e.prop]]&&!be.cssHooks[e.prop]?e.elem[e.prop]=e.now:be.style(e.elem,e.prop,e.now+e.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},be.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},be.fx=V.prototype.init,be.fx.step={};var vt,Tt,_t=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;be.Animation=be.extend(X,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return T(n.elem,e,We.exec(t),n),n}]},tweener:function(e,t){Te(e)?(t=e,e=["*"]):e=e.match(Le);for(var n,i=0,o=e.length;i<o;i++)n=e[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(t)},prefilters:[q],prefilter:function(e,t){t?X.prefilters.unshift(e):X.prefilters.push(e)}}),be.speed=function(e,t,n){var i=e&&"object"==typeof e?be.extend({},e):{complete:n||!n&&t||Te(e)&&e,duration:e,easing:n&&t||t&&!Te(t)&&t};return be.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in be.fx.speeds?i.duration=be.fx.speeds[i.duration]:i.duration=be.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){Te(i.old)&&i.old.call(this),i.queue&&be.dequeue(this,i.queue)},i},be.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ze).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=be.isEmptyObject(e),s=be.speed(t,n,i),r=function(){var t=X(this,be.extend({},e),s);(o||Ue.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",s=be.timers,r=Ue.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&Et.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(n),t=!1,s.splice(o,1));!t&&n||be.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){
var t,n=Ue.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],s=be.timers,r=i?i.length:0;for(n.finish=!0,be.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),be.each(["toggle","show","hide"],function(e,t){var n=be.fn[t];be.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(G(t,!0),e,i,o)}}),be.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){be.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),be.timers=[],be.fx.tick=function(){var e,t=0,n=be.timers;for(vt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||be.fx.stop(),vt=void 0},be.fx.timer=function(e){be.timers.push(e),be.fx.start()},be.fx.interval=13,be.fx.start=function(){Tt||(Tt=!0,H())},be.fx.stop=function(){Tt=null},be.fx.speeds={slow:600,fast:200,_default:400},be.fn.delay=function(t,n){return t=be.fx?be.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},function(){var e=re.createElement("input"),t=re.createElement("select").appendChild(re.createElement("option"));e.type="checkbox",ve.checkOn=""!==e.value,ve.optSelected=t.selected,(e=re.createElement("input")).value="t",e.type="radio",ve.radioValue="t"===e.value}();var bt,yt=be.expr.attrHandle;be.fn.extend({attr:function(e,t){return De(this,be.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){be.removeAttr(this,e)})}}),be.extend({attr:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?be.prop(e,t,n):(1===s&&be.isXMLDoc(e)||(o=be.attrHooks[t.toLowerCase()]||(be.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void be.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=be.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&s(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(Le);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?be.removeAttr(e,n):e.setAttribute(n,n),n}},be.each(be.expr.match.bool.source.match(/\w+/g),function(e,t){var n=yt[t]||be.find.attr;yt[t]=function(e,t,i){var o,s,r=t.toLowerCase();return i||(s=yt[r],yt[r]=o,o=null!=n(e,t,i)?r:null,yt[r]=s),o}});var wt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;be.fn.extend({prop:function(e,t){return De(this,be.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[be.propFix[e]||e]})}}),be.extend({prop:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&be.isXMLDoc(e)||(t=be.propFix[t]||t,o=be.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=be.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ve.optSelected||(be.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),be.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){be.propFix[this.toLowerCase()]=this}),be.fn.extend({addClass:function(e){var t,n,i,o,s,r,a,l=0;if(Te(e))return this.each(function(t){be(this).addClass(e.call(this,t,J(this)))});if((t=Q(e)).length)for(;n=this[l++];)if(o=J(n),i=1===n.nodeType&&" "+Y(o)+" "){for(r=0;s=t[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");o!==(a=Y(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,s,r,a,l=0;if(Te(e))return this.each(function(t){be(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if((t=Q(e)).length)for(;n=this[l++];)if(o=J(n),i=1===n.nodeType&&" "+Y(o)+" "){for(r=0;s=t[r++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");o!==(a=Y(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):Te(e)?this.each(function(n){be(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,o,s,r;if(i)for(o=0,s=be(this),r=Q(e);t=r[o++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=J(this))&&Ue.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ue.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Y(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;be.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=Te(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,be(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=be.map(o,function(e){return null==e?"":e+""})),(t=be.valHooks[this.type]||be.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=be.valHooks[o.type]||be.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Ct,""):null==n?"":n:void 0}}),be.extend({valHooks:{option:{get:function(e){var t=be.find.attr(e,"value");return null!=t?t:Y(be.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,a="select-one"===e.type,l=a?null:[],c=a?r+1:o.length;for(i=r<0?c:a?r:0;i<c;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!s(n.parentNode,"optgroup"))){if(t=be(n).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var n,i,o=e.options,s=be.makeArray(t),r=o.length;r--;)((i=o[r]).selected=be.inArray(be.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),be.each(["radio","checkbox"],function(){be.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=be.inArray(be(e).val(),t)>-1}},ve.checkOn||(be.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ve.focusin="onfocusin"in e;var Nt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};be.extend(be.event,{trigger:function(t,n,i,o){var s,r,a,l,c,u,d,h,p=[i||re],f=fe.call(t,"type")?t.type:t,g=fe.call(t,"namespace")?t.namespace.split("."):[];if(r=h=a=i=i||re,3!==i.nodeType&&8!==i.nodeType&&!Nt.test(f+be.event.triggered)&&(f.indexOf(".")>-1&&(f=(g=f.split(".")).shift(),g.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[be.expando]?t:new be.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:be.makeArray(n,[t]),d=be.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!_e(i)){for(l=d.delegateType||f,Nt.test(l+f)||(r=r.parentNode);r;r=r.parentNode)p.push(r),a=r;a===(i.ownerDocument||re)&&p.push(a.defaultView||a.parentWindow||e)}for(s=0;(r=p[s++])&&!t.isPropagationStopped();)h=r,t.type=s>1?l:d.bindType||f,(u=(Ue.get(r,"events")||{})[t.type]&&Ue.get(r,"handle"))&&u.apply(r,n),(u=c&&r[c])&&u.apply&&Fe(r)&&(t.result=u.apply(r,n),!1===t.result&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!Fe(i)||c&&Te(i[f])&&!_e(i)&&((a=i[c])&&(i[c]=null),be.event.triggered=f,t.isPropagationStopped()&&h.addEventListener(f,It),i[f](),t.isPropagationStopped()&&h.removeEventListener(f,It),be.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=be.extend(new be.Event,n,{type:e,isSimulated:!0});be.event.trigger(i,null,t)}}),be.fn.extend({trigger:function(e,t){return this.each(function(){be.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return be.event.trigger(e,t,n,!0)}}),ve.focusin||be.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){be.event.simulate(t,e.target,be.event.fix(e))};be.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Ue.access(i,t);o||i.addEventListener(e,n,!0),Ue.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Ue.access(i,t)-1;o?Ue.access(i,t,o):(i.removeEventListener(e,n,!0),Ue.remove(i,t))}}});var At=e.location,xt=Date.now(),Ot=/\?/;be.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||be.error("Invalid XML: "+t),n};var Rt=/\[\]$/,Lt=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;be.param=function(e,t){var n,i=[],o=function(e,t){var n=Te(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!be.isPlainObject(e))be.each(e,function(){o(this.name,this.value)});else for(n in e)Z(n,e[n],t,o);return i.join("&")},be.fn.extend({serialize:function(){return be.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=be.prop(this,"elements");return e?be.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!be(this).is(":disabled")&&kt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!Xe.test(e))}).map(function(e,t){var n=be(this).val();return null==n?null:Array.isArray(n)?be.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Dt=/%20/g,Pt=/#.*$/,Mt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Vt={},Ht={},Wt="*/".concat("*"),Gt=re.createElement("a");Gt.href=At.href,be.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:Ut.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":be.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,be.ajaxSettings),t):ne(be.ajaxSettings,e)},ajaxPrefilter:ee(Vt),ajaxTransport:ee(Ht),ajax:function(t,n){function i(t,n,i,a){var c,h,p,E,b,y=n;u||(u=!0,l&&e.clearTimeout(l),o=void 0,r=a||"",w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(E=ie(f,w,i)),E=oe(f,E,w,c),c?(f.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(be.lastModified[s]=b),(b=w.getResponseHeader("etag"))&&(be.etag[s]=b)),204===t||"HEAD"===f.type?y="nocontent":304===t?y="notmodified":(y=E.state,h=E.data,c=!(p=E.error))):(p=y,!t&&y||(y="error",t<0&&(t=0))),w.status=t,w.statusText=(n||y)+"",c?v.resolveWith(g,[h,y,w]):v.rejectWith(g,[w,y,p]),w.statusCode(_),_=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[w,f,c?h:p]),T.fireWith(g,[w,y]),d&&(m.trigger("ajaxComplete",[w,f]),--be.active||be.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,s,r,a,l,c,u,d,h,p,f=be.ajaxSetup({},n),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?be(g):be.event,v=be.Deferred(),T=be.Callbacks("once memory"),_=f.statusCode||{},E={},b={},y="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ft.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(e,t){return null==u&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||y;return o&&o.abort(t),i(0,t),this}};if(v.promise(w),f.url=((t||f.url||At.href)+"").replace(Bt,At.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Le)||[""],null==f.crossDomain){c=re.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Gt.protocol+"//"+Gt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=be.param(f.data,f.traditional)),te(Vt,f,n,w),u)return w;(d=be.event&&f.global)&&0==be.active++&&be.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!jt.test(f.type),s=f.url.replace(Pt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(p=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(Ot.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(Mt,"$1"),p=(Ot.test(s)?"&":"?")+"_="+xt++ +p),f.url=s+p),f.ifModified&&(be.lastModified[s]&&w.setRequestHeader("If-Modified-Since",be.lastModified[s]),be.etag[s]&&w.setRequestHeader("If-None-Match",be.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Wt+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)w.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(g,w,f)||u))return w.abort();if(y="abort",T.add(f.complete),w.done(f.success),w.fail(f.error),o=te(Ht,f,n,w)){if(w.readyState=1,d&&m.trigger("ajaxSend",[w,f]),u)return w;f.async&&f.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},f.timeout));try{u=!1,o.send(E,i)}catch(e){if(u)throw e;i(-1,e)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return be.get(e,t,n,"json")},getScript:function(e,t){return be.get(e,void 0,t,"script")}}),be.each(["get","post"],function(e,t){be[t]=function(e,n,i,o){return Te(n)&&(o=o||i,i=n,n=void 0),be.ajax(be.extend({url:e,type:t,dataType:o,data:n,success:i},be.isPlainObject(e)&&e))}}),be._evalUrl=function(e){return be.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},be.fn.extend({wrapAll:function(e){var t;return this[0]&&(Te(e)&&(e=e.call(this[0])),t=be(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Te(e)?this.each(function(t){be(this).wrapInner(e.call(this,t))}):this.each(function(){var t=be(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Te(e);return this.each(function(n){be(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){be(this).replaceWith(this.childNodes)}),this}}),be.expr.pseudos.hidden=function(e){return!be.expr.pseudos.visible(e)},be.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},be.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},qt=be.ajaxSettings.xhr();ve.cors=!!qt&&"withCredentials"in qt,ve.ajax=qt=!!qt,be.ajaxTransport(function(t){var n,i;if(ve.cors||qt&&!t.crossDomain)return{send:function(o,s){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(r in o)a.setRequestHeader(r,o[r]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),be.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),be.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return be.globalEval(e),e}}}),be.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),be.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=be("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),re.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Kt=[],Xt=/(=)\?(?=&|$)|\?\?/;be.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||be.expando+"_"+xt++;return this[e]=!0,e}}),be.ajaxPrefilter("json jsonp",function(t,n,i){var o,s,r,a=!1!==t.jsonp&&(Xt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=Te(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Xt,"$1"+o):!1!==t.jsonp&&(t.url+=(Ot.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||be.error(o+" was not called"),r[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){r=arguments},i.always(function(){void 0===s?be(e).removeProp(o):e[o]=s,t[o]&&(t.jsonpCallback=n.jsonpCallback,Kt.push(o)),r&&Te(s)&&s(r[0]),r=s=void 0}),"script"}),ve.createHTMLDocument=function(){var e=re.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),be.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,s;return t||(ve.createHTMLDocument?((i=(t=re.implementation.createHTMLDocument("")).createElement("base")).href=re.location.href,t.head.appendChild(i)):t=re),o=Ie.exec(e),s=!n&&[],o?[t.createElement(o[1])]:(o=w([e],t,s),s&&s.length&&be(s).remove(),be.merge([],o.childNodes))},be.fn.load=function(e,t,n){var i,o,s,r=this,a=e.indexOf(" ");return a>-1&&(i=Y(e.slice(a)),e=e.slice(0,a)),Te(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&be.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){s=arguments,r.html(i?be("<div>").append(be.parseHTML(e)).find(i):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},be.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){be.fn[t]=function(e){return this.on(t,e)}}),be.expr.pseudos.animated=function(e){return be.grep(be.timers,function(t){return e===t.elem}).length},be.offset={setOffset:function(e,t,n){var i,o,s,r,a,l,c,u=be.css(e,"position"),d=be(e),h={};"static"===u&&(e.style.position="relative"),a=d.offset(),s=be.css(e,"top"),l=be.css(e,"left"),(c=("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1)?(r=(i=d.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),Te(t)&&(t=t.call(e,n,be.extend({},a))),null!=t.top&&(h.top=t.top-a.top+r),null!=t.left&&(h.left=t.left-a.left+o),"using"in t?t.using.call(e,h):d.css(h)}},be.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){be.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===be.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===be.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=be(e).offset()).top+=be.css(e,"borderTopWidth",!0),o.left+=be.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-be.css(i,"marginTop",!0),left:t.left-o.left-be.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===be.css(e,"position");)e=e.offsetParent;return e||et})}}),be.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;be.fn[e]=function(i){return De(this,function(e,i,o){var s;return _e(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===o?s?s[t]:e[i]:void(s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):e[i]=o)},e,i,arguments.length)}}),be.each(["top","left"],function(e,t){be.cssHooks[t]=P(ve.pixelPosition,function(e,n){if(n)return n=D(e,t),lt.test(n)?be(e).position()[t]+"px":n})}),be.each({Height:"height",Width:"width"},function(e,t){be.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){be.fn[i]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===s?"margin":"border");return De(this,function(t,n,o){var s;return _e(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===o?be.css(t,n,a):be.style(t,n,o,a)},t,r?o:void 0,r)}})}),be.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){be.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),be.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),be.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),be.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),Te(e))return i=le.call(arguments,2),o=function(){return e.apply(t||this,i.concat(le.call(arguments)))},o.guid=e.guid=e.guid||be.guid++,o},be.holdReady=function(e){e?be.readyWait++:be.ready(!0)},be.isArray=Array.isArray,be.parseJSON=JSON.parse,be.nodeName=s,be.isFunction=Te,be.isWindow=_e,be.camelCase=f,be.type=i,be.now=Date.now,be.isNumeric=function(e){var t=be.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return be});var Yt=e.jQuery,Jt=e.$;return be.noConflict=function(t){return e.$===be&&(e.$=Jt),t&&e.jQuery===be&&(e.jQuery=Yt),be},t||(e.jQuery=e.$=be),be}),$.fn.tnOffset=function(){var e=this.offset();if(document.documentElement.clientWidth>window.innerWidth){var t=document.documentElement.getBoundingClientRect();e={top:e.top-window.pageYOffset-t.top,left:e.left-window.pageXOffset-t.left}}return e},$.fn.iOS10_3_tnOffset=function(){var e=this.offset();if(document.documentElement.clientWidth>window.innerWidth){document.documentElement.getBoundingClientRect();e={top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}return e},$.isIdevice=function(){for(var e=["iPad","iPhone","iPod","iPad Simulator"],t=0;t<e.length;t++)if(navigator.platform===e[t])return!0;return!1},define("javascripts/jquery",function(e){return function(){var t;return t||e.$}}(this)),!function(e){e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}e.ui=e.ui||{};var n=(e.ui.version="1.12.1",0),i=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,o,s;for(s=0;null!=(o=n[s]);s++)try{i=e._data(o,"events"),i&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var o,s,r,a={},l=t.split(".")[0];t=t.split(".")[1];var c=l+"-"+t;return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),r=new n,r.options=e.widget.extend({},r.options),e.each(i,function(t,i){return e.isFunction(i)?void(a[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=i.apply(this,arguments),this._super=n,this._superApply=s,t}}()):void(a[t]=i)}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||t:t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,o,s=i.call(arguments,1),r=0,a=s.length;r<a;r++)for(n in s[r])o=s[r][n],s[r].hasOwnProperty(n)&&void 0!==o&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(s){var r="string"==typeof s,a=i.call(arguments,1),l=this;return r?this.length||"instance"!==s?this.each(function(){var n,i=e.data(this,o);return"instance"===s?(l=i,!1):i?e.isFunction(i[s])&&"_"!==s.charAt(0)?(n=i[s].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each(function(){var t=e.data(this,o);t?(t.option(s||{}),t._init&&t._init()):e.data(this,o,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(o=r[t]=e.widget.extend({},this.options[t]),s=0;s<i.length-1;s++)o[i[s]]=o[i[s]]||{},o=o[i[s]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,o;for(n in t)o=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&o&&o.length&&(i=e(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,s){var r,a;for(a=0;a<n.length;a++)r=o.classesElementLookup[n[a]]||e(),r=e(t.add?e.unique(r.get().concat(t.element.get())):r.not(t.element).get()),o.classesElementLookup[n[a]]=r,i.push(n[a]),s&&t.classes[n[a]]&&i.push(t.classes[n[a]])}var i=[],o=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,o){e.inArray(t.target,o)!==-1&&(n.classesElementLookup[i]=e(o.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof e||null===e,s={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:i};return s.element.toggleClass(this._classes(s),i),this},_on:function(t,n,i){var o,s=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,function(i,r){function a(){if(t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?s[r]:r).apply(s,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.on(c,u,a):n.on(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var o,s,r=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(o in s)o in n||(n[o]=s[o]);return this.element.trigger(n,i),!(e.isFunction(r)&&r.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?n:o.effect||n:t;o=o||{},"number"==typeof o&&(o={duration:o
}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&i.delay(o.delay),r&&e.effects&&e.effects.effect[a]?i[t](o):a!==t&&i[a]?i[a](o.duration,o.easing,s):i.queue(function(n){e(this)[t](),s&&s.call(i[0]),n()})}}),e.widget,!function(){function t(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var o,s=Math.max,r=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,d=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return e("body").append(i),t=s.offsetWidth,i.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),o=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType,s=!i&&!o;return{element:n,isWindow:i,isDocument:o,offset:s?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return h.apply(this,arguments);o=e.extend({},o);var d,p,f,g,m,v,T=e(o.of),_=e.position.getWithinInfo(o.within),E=e.position.getScrollInfo(_),b=(o.collision||"flip").split(" "),y={};return v=i(T),T[0].preventDefault&&(o.at="left top"),p=v.width,f=v.height,g=v.offset,m=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(o[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),y[this]=[e?e[0]:0,t?t[0]:0],o[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===o.at[0]?m.left+=p:"center"===o.at[0]&&(m.left+=p/2),"bottom"===o.at[1]?m.top+=f:"center"===o.at[1]&&(m.top+=f/2),d=t(y.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,a,l=e(this),c=l.outerWidth(),u=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),w=c+h+n(this,"marginRight")+E.width,S=u+v+n(this,"marginBottom")+E.height,C=e.extend({},m),N=t(y.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?C.left-=c:"center"===o.my[0]&&(C.left-=c/2),"bottom"===o.my[1]?C.top-=u:"center"===o.my[1]&&(C.top-=u/2),C.left+=N[0],C.top+=N[1],i={marginLeft:h,marginTop:v},e.each(["left","top"],function(t,n){e.ui.position[b[t]]&&e.ui.position[b[t]][n](C,{targetWidth:p,targetHeight:f,elemWidth:c,elemHeight:u,collisionPosition:i,collisionWidth:w,collisionHeight:S,offset:[d[0]+N[0],d[1]+N[1]],my:o.my,at:o.at,within:_,elem:l})}),o.using&&(a=function(e){var t=g.left-C.left,n=t+p-c,i=g.top-C.top,a=i+f-u,d={target:{element:T,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:C.left,top:C.top,width:c,height:u},horizontal:n<0?"left":t>0?"right":"center",vertical:a<0?"top":i>0?"bottom":"middle"};p<c&&r(t+n)<p&&(d.horizontal="center"),f<u&&r(i+a)<f&&(d.vertical="middle"),s(r(t),r(n))>s(r(i),r(a))?d.important="horizontal":d.important="vertical",o.using.call(this,e,d)}),l.offset(e.extend(C,{using:a}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-r-o;t.collisionWidth>r?l>0&&c<=0?(n=e.left+l+t.collisionWidth-r-o,e.left+=l-n):c>0&&l<=0?e.left=o:l>c?e.left=o+r-t.collisionWidth:e.left=o:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-a,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-r-o;t.collisionHeight>r?l>0&&c<=0?(n=e.top+l+t.collisionHeight-r-o,e.top+=l-n):c>0&&l<=0?e.top=o:l>c?e.top=o+r-t.collisionHeight:e.top=o:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,o=t.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?(n=e.left+h+p+f+t.collisionWidth-a-s,(n<0||n<r(u))&&(e.left+=h+p+f)):d>0&&(i=e.left-t.collisionPosition.marginLeft+h+p+f-l,(i>0||r(i)<d)&&(e.left+=h+p+f))},top:function(e,t){var n,i,o=t.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];u<0?(i=e.top+p+f+g+t.collisionHeight-a-s,(i<0||i<r(u))&&(e.top+=p+f+g)):d>0&&(n=e.top-t.collisionPosition.marginTop+p+f+g-l,(n>0||r(n)<d)&&(e.top+=p+f+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}}),e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),e.ui.focusable=function(n,i){var o,s,r,a,l,c=n.nodeName.toLowerCase();return"area"===c?(o=n.parentNode,s=o.name,!(!n.href||!s||"map"!==o.nodeName.toLowerCase())&&(r=e("img[usemap='#"+s+"']"),r.length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(a=!n.disabled,a&&(l=e(n).closest("fieldset")[0],l&&(a=!l.disabled))):a="a"===c?n.href||i:i,a&&e(n).is(":visible")&&t(e(n)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});var o=(e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}(),e.fn.labels=function(){var t,n,i,o,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),i=this.attr("id"),i&&(t=this.eq(0).parents().last(),s=t.add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(i)+"']",o=o.add(s.find(n).addBack(n))),this.pushStack(o))},e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}}),e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);e(document).on("mouseup",function(){o=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!s&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,n,i){var o,s=e.ui[t].prototype;for(o in i)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,s=e.plugins[t];if(s&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,n)}},e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")},e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},isiOS10_3:!1,_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName();var t=e.isIdevice()?navigator.userAgent.toLowerCase().match(/(\d+)_(\d+)_?(\d+)?/).slice(1):"";this.isiOS10_3=""!==t&&10===parseInt(t[0])&&parseInt(t[1])>=3,this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]),i=e(t.target);i.closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,"fixed"===this.cssPosition&&this.isiOS10_3?this.offset=this.positionAbs=this.element.iOS10_3_tnOffset():this.offset=this.positionAbs=this.element.offset(),this._refreshOffsets(t),t.isPinch=this.isPinch=document.documentElement.clientWidth>window.innerWidth,this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),o=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options,s=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),n=e(o.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,n){var i,o,s,r,a=this.options,l=this._isRootNode(this.scrollParent[0]),c=t.pageX,u=t.pageY,d=t.isPinch,h=document.documentElement.getBoundingClientRect();return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),n&&(this.containment&&(this.relativeContainer?(o=this.relativeContainer.offset(),i=[this.containment[0]+o.left,this.containment[1]+o.top,this.containment[2]+o.left,this.containment[3]+o.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(c=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(c=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),a.grid&&(s=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-a.grid[1]:s+a.grid[1]:s,r=a.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,c=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-a.grid[0]:r+a.grid[0]:r),"y"===a.axis&&(c=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(!e.isIdevice()&&d?"fixed"==this.cssPosition?-this.scrollParent.scrollTop()+window.pageYOffset+h.top:-this.scrollParent.scrollTop()+window.pageYOffset:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():l?0:this.scrollParent.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(!e.isIdevice()&&d?"fixed"==this.cssPosition?-this.scrollParent.scrollLeft()+window.pageXOffset+h.left:-this.scrollParent.scrollLeft()+window.pageXOffset:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():l?0:this.scrollParent.scrollLeft())}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var o=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n,i){var o=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,n,i){e.each(i.sortables,function(){var o=!1,s=this;s.positionAbs=i.positionAbs,s.helperProportions=i.helperProportions,s.offset.click=i.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(o=!1),o})),o?(s.isOver||(s.isOver=1,i._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=i.offset.click.top,s.offset.click.left=i.offset.click.left,s.offset.parent.left-=i.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=i.offset.parent.top-s.offset.parent.top,i._trigger("toSortable",t),i.dropped=s.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,s.fromOutside=i),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var o=e("body"),s=i.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,n,i){var o=i.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var o=e(n.helper),s=i.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,n,i){var o=i.options;o._opacity&&e(n.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var o=i.options,s=!1,r=i.scrollParentNotHidden[0],a=i.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-t.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:t.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-t.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:t.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):window.innerHeight-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):window.innerWidth-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var o=i.options;i.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var o,s,r,a,l,c,u,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,T=n.offset.top,_=T+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,d=u+i.snapElements[h].height,v<l-g||m>c+g||_<u-g||T>d+g||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(u-_)<=g,s=Math.abs(d-T)<=g,r=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),s&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=o||s||r||a,"outer"!==f.snapMode&&(o=Math.abs(u-T)<=g,s=Math.abs(d-_)<=g,r=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),s&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||s||r||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||s||r||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var o,s=i.options,r=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});r.length&&(o=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var o=e(n.helper),s=i.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,n,i){var o=i.options;o._zIndex&&e(n.helper).css("zIndex",o._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){
e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&s(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return o=!0,!1}),!o&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var s=e.ui.intersect=function(){function t(e,t,n){return e>=t&&e<t+n}return function(n,i,o,s){if(!i.offset)return!1;var r=(n.positionAbs||n.position.absolute).left+n.margins.left,a=(n.positionAbs||n.position.absolute).top+n.margins.top,l=r+n.helperProportions.width,c=a+n.helperProportions.height,u=i.offset.left,d=i.offset.top,h=u+i.proportions().width,p=d+i.proportions().height;switch(e("body").hasClass("android")&&"fixed"===n.cssPosition&&(r=n.helper.offset().left,l=r+n.helperProportions.width,a=n.helper.offset().top,c=a+n.helperProportions.height,u=i.element.offset().left,h=u+i.proportions.width,d=i.element.offset().top,p=d+i.proportions.height),o){case"fit":return u<=r&&l<=h&&d<=a&&c<=p;case"intersect":return u<r+n.helperProportions.width/2&&l-n.helperProportions.width/2<h&&d<a+n.helperProportions.height/2&&c-n.helperProportions.height/2<p;case"pointer":return t(s.pageY,d,i.proportions().height)&&t(s.pageX,u,i.proportions().width);case"touch":return(a>=d&&a<=p||c>=d&&c<=p||a<d&&c>p)&&(r>=u&&r<=h||l>=u&&l<=h||r<u&&l>h);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||t&&!s[i].accept.call(s[i].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===s[i].element[0]){s[i].proportions().height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===r&&s[i]._activate.call(s[i],n),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&s(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,r,a=s(t,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,r=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),r.length&&(i=e(r[0]).droppable("instance"),i.greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.uiBackCompat!==!1&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",o=!1;return t[i]>0||(t[i]=1,o=t[i]>0,t[i]=0,o)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,n,i,o,s,r=this.options,a=this;if(this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)t=e.trim(i[n]),o="ui-resizable-"+t,s=e("<div>"),this._addClass(s,"ui-resizable-handle "+o),s.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(s);this._renderAxis=function(t){var n,i,o,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,o=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,i,o,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,i+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,o=this.originalMousePosition,s=this.axis,r=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,o,s,r,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),o=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,s=i?0:u.sizeDiff.width,r={width:u.helper.width()-s,height:u.helper.height()-o},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),r&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(o[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a=s?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-r},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,o,s,r,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:s,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:r,height:a}))},resize:function(t){var n,i,o,s,r=e(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,o=t.containerPosition,s=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),o=i.options,s=i.originalSize,r=i.originalPosition,a={height:i.size.height-s.height||0,width:i.size.width-s.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0};e(o.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},s=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),e.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,o=n.size,s=n.originalSize,r=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-s.width)/c)*c,h=Math.round((o.height-s.height)/u)*u,p=s.width+d,f=s.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,T=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),T&&(f+=u),g&&(p-=c),m&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=r.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=r.left-d):((f-u<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=r.top-h):(f=u-t.height,n.size.height=f,n.position.top=r.top+s.height-f),p-c>0?(n.size.width=p,n.position.left=r.left-d):(p=c-t.width,n.size.width=p,n.position.left=r.left+s.width-p))}});var r=(e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var n=e(this),i=n.offset(),o={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:o.left,top:o.top,right:o.left+n.outerWidth(),bottom:o.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,o=e.data(this,"selectable-item");if(o)return i=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),n._removeClass(o.$element,i?"ui-unselecting":"ui-selected")._addClass(o.$element,i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",t,{selecting:o.element}):n._trigger("unselecting",t,{unselecting:o.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,s=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(n=a,a=s,s=n),r>l&&(n=l,l=r,r=n),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===o.tolerance?c=!(u.left>a||u.right<s||u.top>l||u.bottom<r):"fit"===o.tolerance&&(c=u.left>s&&u.right<a&&u.top>r&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_restoreState:function(){this.storedCursor&&(e("body").css("cursor",this.storedCursor),this.storedStylesheet&&this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex)},_destroy:function(){this._restoreState(),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,o=!1,s=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return i=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(i=e(t.target)),!i||this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(o=!0)}),!o)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,n,i){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),
this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],s=this._intersectsWithPointer(i),s&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&i+c<l,h="y"===this.options.axis||t+u>s&&t+u<r,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<r&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=i&&o;return!!s&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,o,s,r,a=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(s=e(c[i],this.document[0]),o=s.length-1;o>=0;o--)r=e.data(s[o],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,o,s,r,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(o=e(h[n],this.document[0]),i=o.length-1;i>=0;i--)s=e.data(o[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(d.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=d.length-1;n>=0;n--)for(r=d[n][1],a=d[n][0],i=0,c=a.length;i<c;i++)l=e(a[i]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,s;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=o.outerWidth(),i.height=o.outerHeight()),s=o.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+i+">",t.document[0]);return t._addClass(o,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===i?t._createTrPlaceholder(t.currentItem,o):"img"===i&&o.attr("src",t.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(e,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,o,s,r,a,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,s=null,u=h.floating||this._isFloating(this.currentItem),r=u?"left":"top",a=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[r],c=!1,t[d]-l>this.items[i][a]/2&&(c=!0),Math.abs(t[d]-l)<o&&(o=Math.abs(t[d]-l),s=this.items[i],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],n=e(o.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*i}},_generatePosition:function(t){var n,i,o=this.options,s=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<o.length;i++)o[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,o=this.element.find(".ui-slider-handle"),s="<span tabindex='0'></span>",r=[];for(n=i.values&&i.values.length||1,o.length>n&&(o.slice(n).remove(),o=o.slice(0,n)),t=o.length;t<n;t++)r.push(s);this.handles=o.add(e(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,o,s,r,a,l,c,u=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-u.values(t));(o>n||o===n&&(t===u._lastChangedValue||u.values(t)===d.min))&&(o=n,s=e(this),r=t)}),a=this._start(t,r),a!==!1&&(this._mouseSliding=!0,this._handleIndex=r,this._addClass(s,null,"ui-state-active"),s.trigger("focus"),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),o=this._valueMax()-this._valueMin(),s=this._valueMin()+i*o,this._trimAlignValue(s)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,o,s=this.value(),r=this.values();this._hasMultipleValues()&&(o=this.values(t?0:1),s=this.values(t),2===this.options.values.length&&this.options.range===!0&&(n=0===t?Math.min(o,n):Math.max(o,n)),r[t]=n),n!==s&&(i=this._trigger("slide",e,this._uiHash(t,n,r)),i!==!1&&(this._hasMultipleValues()?this.values(t,n):this.value(n)))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,o=arguments[0],s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var i,o=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=o-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.round((e-t)/n)*n;e=i+t,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,o,s,r=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),o=this._valueMin(),s=this._valueMax(),n=s!==o?(i-o)/(s-o)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var n,i,o,s,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),n=this._start(t,r),n===!1))return}switch(s=this.options.step,i=o=this._hasMultipleValues()?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;o=this._trimAlignValue(i+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;o=this._trimAlignValue(i-s)}this._slide(t,r,o)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}}),"ui-effects-"),a="ui-effects-style",l="ui-effects-animated",c=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var i=d[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=c(),i=n._rgba=[];
return t=t.toLowerCase(),f(l,function(e,o){var s,r=o.re.exec(t),a=r&&o.parse(r),l=o.space||"rgba";if(a)return s=n[l](a),n[u[l].cache]=s[u[l].cache],i=n._rgba=s._rgba,!1}),i.length?("0,0,0,0"===i.join()&&e.extend(i,s.transparent),n):s[t]}function o(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var s,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,i,o){return new e.Color.fn.parse(t,n,i,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(o,r,a,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(r),r=t);var d=this,h=e.type(o),p=this._rgba=[];return r!==t&&(o=[o,r,a,l],h="array"),"string"===h?this.parse(i(o)||s._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=n(o[t.idx],t)}),this):"object"===h?(o instanceof c?f(u,function(e,t){o[t.cache]&&(d[t.cache]=o[t.cache].slice())}):f(u,function(t,i){var s=i.cache;f(i.props,function(e,t){if(!d[s]&&i.to){if("alpha"===e||null==o[e])return;d[s]=i.to(d._rgba)}d[s][t.idx]=n(o[e],t,!0)}),d[s]&&e.inArray(null,d[s].slice(0,3))<0&&(d[s][3]=1,i.from&&(d._rgba=i.from(d[s])))}),this):void 0},is:function(e){var t=c(e),n=!0,i=this;return f(u,function(e,o){var s,r=t[o.cache];return r&&(s=i[o.cache]||o.to&&o.to(i._rgba)||[],f(o.props,function(e,t){if(null!=r[t.idx])return n=r[t.idx]===s[t.idx]})),n}),n},_space:function(){var e=[],t=this;return f(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=c(e),o=i._space(),s=u[o],r=0===this.alpha()?c("transparent"):this,a=r[s.cache]||s.to(r._rgba),l=a.slice();return i=i[s.cache],f(s.props,function(e,o){var s=o.idx,r=a[s],c=i[s],u=d[o.type]||{};null!==c&&(null===r?l[s]=c:(u.mod&&(c-r>u.mod/2?r+=u.mod:r-c>u.mod/2&&(r-=u.mod)),l[s]=n((c-r)*t+r,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=c(t)._rgba;return c(e.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,s=e[2]/255,r=e[3],a=Math.max(i,o,s),l=Math.min(i,o,s),c=a-l,u=a+l,d=.5*u;return t=l===a?0:i===a?60*(o-s)/c+360:o===a?60*(s-i)/c+120:60*(i-o)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],s=e[3],r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*o(a,r,t+1/3)),Math.round(255*o(a,r,t)),Math.round(255*o(a,r,t-1/3)),s]},f(u,function(i,o){var s=o.props,r=o.cache,l=o.to,u=o.from;c.fn[i]=function(i){if(l&&!this[r]&&(this[r]=l(this._rgba)),i===t)return this[r].slice();var o,a=e.type(i),d="array"===a||"object"===a?i:arguments,h=this[r].slice();return f(s,function(e,t){var i=d["object"===a?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),u?(o=c(u(h)),o[r]=h,o):c(h)},f(s,function(t,n){c.fn[t]||(c.fn[t]=function(o){var s,r=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===r?u:("function"===r&&(o=o.call(this,u),r=e.type(o)),null==o&&n.empty?this:("string"===r&&(s=a.exec(o),s&&(o=u+parseFloat(s[2])*("+"===s[1]?1:-1))),c[n.idx]=o,this[l](c)))})})}),c.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,o){var s,r,a="";if("transparent"!==o&&("string"!==e.type(o)||(s=i(o)))){if(o=c(s||o),!h.rgba&&1!==o._rgba[3]){for(r="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&r&&r.style;)try{a=e.css(r,"backgroundColor"),r=r.parentNode}catch(e){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[n]=o}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(c),function(){function t(t){var n,i,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)n=o[i],"string"==typeof o[n]&&(s[e.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(s[n]=o[n]);return s}function n(t,n){var i,s,r={};for(i in n)s=n[i],t[i]!==s&&(o[i]||!e.fx.step[i]&&isNaN(parseFloat(s))||(r[i]=s));return r}var i=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(c.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(o,s,r,a){var l=e.speed(s,r,a);return this.queue(function(){var s,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){var n=e(this);return{el:n,start:t(this)}}),s=function(){e.each(i,function(e,t){o[t]&&r[t+"Class"](o[t])})},s(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(n,i,o,s){return i?e.effects.animateClass.call(this,{add:n},i,o,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,o,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,o,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,o,s,r){return"boolean"==typeof i||void 0===i?o?e.effects.animateClass.call(this,i?{add:n}:{remove:n},o,s,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,o,s)}}(e.fn.toggleClass),switchClass:function(t,n,i,o,s){return e.effects.animateClass.call(this,{add:n,remove:t},i,o,s)}})}(),function(){function t(t,n,i,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=i,i=n,n={}),e.isFunction(i)&&(o=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=o||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||"string"==typeof t&&!e.effects.effect[t]||!!e.isFunction(t)||"object"==typeof t&&!t.effect}function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,s=o.exec(e)||["",0,n,i,0];return{top:parseFloat(s[1])||0,right:"auto"===s[2]?n:parseFloat(s[2]),bottom:"auto"===s[3]?i:parseFloat(s[3]),left:parseFloat(s[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(l)||t(n)}}(e.expr.filters.animated)),e.uiBackCompat!==!1&&e.extend(e.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data(r+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,o=t.length;i<o;i++)null!==t[i]&&(n=e.data(r+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(i),(t[0]===s||e.contains(t[0],s))&&e(s).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){return i||(i=n,n="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=n,i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,o="vertical"!==n?(t||100)/100:1;return{height:e.height()*o,width:e.width()*i,outerHeight:e.outerHeight()*o,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(a,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(a)||"",e.removeData(a)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),o=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(r+"placeholder",n)),t.css({position:i,left:o.left,top:o.top}),n},removePlaceholder:function(e){var t=r+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,i,o){return o=o||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(o[n]=s[0]*i+s[1])}),o}}),e.fn.extend({effect:function(){function n(t){function n(){a.removeData(l),e.effects.cleanUp(a),"hide"===i.mode&&a.hide(),r()}function r(){e.isFunction(c)&&c.call(a[0]),e.isFunction(t)&&t()}var a=e(this);i.mode=d.shift(),e.uiBackCompat===!1||s?"none"===i.mode?(a[u](),r()):o.call(a[0],i,n):(a.is(":hidden")?"hide"===u:"show"===u)?(a[u](),r()):o.call(a[0],i,r)}var i=t.apply(this,arguments),o=e.effects.effect[i.effect],s=o.mode,r=i.queue,a=r||"fx",c=i.complete,u=i.mode,d=[],h=function(t){var n=e(this),i=e.effects.mode(n,u)||s;n.data(l,!0),d.push(i),s&&("show"===i||i===s&&"hide"===i)&&n.show(),s&&"none"===i||e.effects.saveStyle(n),e.isFunction(t)&&t()};return e.fx.off||!o?u?this[u](i.duration,c):this.each(function(){c&&c.call(this)}):r===!1?this.each(h).each(n):this.queue(a,h).queue(a,n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),o=e(t.to),s="fixed"===o.css("position"),r=e("body"),a=s?r.scrollTop():0,l=s?r.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),e.isFunction(n)&&n()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=i(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(e*-2+2)/2}})}(),e.effects}),define("javascripts/jquery-ui.min",["javascripts/jquery"],function(){}),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,o=e(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i=e(s),t&&t.preventDefault(),i.length||(i=o.hasClass("alert")?o:o.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),o=i.data("alert");o||i.data("alert",o=new n(this)),"string"==typeof t&&o[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),o=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[o]()),n[o](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),o=i.data("button"),s="object"==typeof n&&n;o||i.data("button",o=new t(this,s)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,n){var i,o=this.$element.find(".item.active"),s=n||o[t](),r=this.interval,a="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,r&&this.pause(),s=s.length?s:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:s[0],direction:a}),!s.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;s.addClass(t),s[0].offsetWidth,o.addClass(a),s.addClass(a),this.$element.one(e.support.transition.end,function(){s.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),o=i.data("carousel"),s=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),r="string"==typeof n?n:s.slide;o||i.data("carousel",o=new t(this,s)),"number"==typeof n?o.to(n):r?o[r]():s.interval&&o.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,o=e(this),s=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=e.extend({},s.data(),o.data());s.carousel(r),(i=o.attr("data-slide-to"))&&s.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,o;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(o=i.data("collapse"),o&&o.transitioning)return;i.collapse("hide"),o||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var o=this,s=function(){"show"==n.type&&o.reset(),o.transitioning=0,o.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),o=i.data("collapse"),s=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);o||i.data("collapse",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),o=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=e(o).data("collapse")?"toggle":i.data();i[e(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(o).collapse(s)})}(window.jQuery),!function(e){"use strict";function t(){e(i).each(function(){var t=n(e(this));if(t.hasClass("open")){if(event&&event.target.nodeType===Node.ELEMENT_NODE&&e(".zoomControlsContainer")[0]&&e(".zoomControlsContainer")[0].contains(event.target))return;setTimeout(function(){t.removeClass("open").trigger("close.bs.dropdown")},0)}})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),i&&"#"!==i&&(n=e(i)),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",o=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){var e=n.parent();e.hasClass("open")&&e.removeClass("open").trigger("close.bs.dropdown")})};o.prototype={constructor:o,toggle:function(i){var o,s,r=e(this);if(!r.is(".disabled, :disabled"))return o=n(r),s=o.hasClass("open"),t(),s||o.addClass("open").trigger("open.bs.dropdown"),r.focus(),!1},keyup:function(t){var i,o,s,r;if(i=e(this),t.preventDefault(),s=n(i),r=s.hasClass("open"),o=e("[role=menu] li:not(.divider):visible a",s),32===t.keyCode){if(r)return o.filter(":focus").click();s.addClass("open").trigger("open.bs.dropdown")}},keydown:function(t){var o,s,r,a,l;if(/(38|40|27|32)/.test(t.keyCode)&&(o=e(this),t.preventDefault(),t.stopPropagation(),!o.is(".disabled, :disabled"))){if(r=n(o),a=r.hasClass("open"),(!a&&32!=t.keyCode||a&&27==t.keyCode)&&(a||27!=t.keyCode))return 27==t.which&&r.find(i).focus(),o.click();s=e("[role=menu] li:not(.divider):visible a",r),s.length&&(l=s.index(s.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<s.length-1&&l++,~l||(l=0),s.get(l).focus())}}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",t).on("touchstart.dropdown.data-api",function(n){e(n.target).closest(".dropdown-toggle").length<1&&e(n.target).closest(".dropdown-menu").length<1&&t()}).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on(".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,o.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",o.prototype.keydown).on("keyup.dropdown.data-api",i+", [role=menu]",o.prototype.keyup)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$element.find('[data-dismiss="modal"]').on("click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.$element.hasClass("tn8-draggable-modal")||"softstop-modal"==t.$element.attr("id")||t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),e("div.modal.in").length<=1&&this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){var n=TN8.deepZoomLayer&&TN8.deepZoomLayer.isActive;n||t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),o=i.data("modal"),s=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);o||i.data("modal",o=new t(this,s)),"string"==typeof n?o[n]():s.show&&o.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),o=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),n.data());t.preventDefault(),o.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var o,s,r,a,l;this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,this.touched=!1,r=this.options.trigger.split(" ");var c=this;for(l=r.length;l--;)a=r[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseenter":"focus",s="hover"==a?"mouseleave":"blur",this.$element.on("touchstart",function(e){c.touched=!0}),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type),i=!(!t.originalEvent||!t.originalEvent.mozInputSource||5!=t.originalEvent.mozInputSource),o=!!(t.originalEvent&&t.originalEvent.sourceCapabilities&&t.originalEvent.sourceCapabilities.firesTouchEvents);return!t.originalEvent||this.touched||i||o?void(this.touched=!1):n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var t,n,i,o,s,r,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,
t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,o=t[0].offsetHeight,s){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":r={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":r={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":r={top:n.top+n.height/2-o/2,left:n.left+n.width}}this.applyPlacement(r,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,o,s,r=this.tip(),a=r[0].offsetWidth,l=r[0].offsetHeight;r.offset(e).addClass(t).addClass("in"),n=r[0].offsetWidth,i=r[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,s=!0),"bottom"==t||"top"==t?(o=0,e.left<0&&(o=e.left*-2,e.left=0,r.offset(e),n=r[0].offsetWidth,i=r[0].offsetHeight),this.replaceArrow(o-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),s&&r.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),o=i.data("tooltip"),s="object"==typeof n&&n;o||i.data("tooltip",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" aria-hidden="true"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),o=i.data("popover"),s="object"==typeof n&&n;o||i.data("popover",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";function t(t,n){var i,o=e.proxy(this.process,this),s=e(e(t).is("body")?window:t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=s.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#\w/.test(i)&&e(i);return o&&o.length&&[[o.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(t>=i)return r!=(e=s.last()[0])&&this.activate(e);for(e=o.length;e--;)r!=s[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(s[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),o=i.data("scrollspy"),s="object"==typeof n&&n;o||i.data("scrollspy",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,o=this.element,s=o.closest("ul:not(.dropdown-menu)"),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(t=s.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),o.trigger(i),i.isDefaultPrevented()||(n=e(r),this.activate(o.parent("li"),s),this.activate(n,n.parent(),function(){o.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var s=n.find("> .active"),r=i&&e.support.transition&&s.hasClass("fade");r?s.one(e.support.transition.end,o):o(),s.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),o=i.data("tab");o||i.data("tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):o.push(t):n.push(t);return n.concat(i,o)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),i=n.next();i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),o=i.data("typeahead"),s="object"==typeof n&&n;o||i.data("typeahead",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),o=this.$element.offset(),s=this.options.offset,r=s.bottom,a=s.top,l="affix affix-top affix-bottom";"object"!=typeof s&&(r=a=s),"function"==typeof a&&(a=s.top()),"function"==typeof r&&(r=s.bottom()),t=!(null!=this.unpin&&i+this.unpin<=o.top)&&(null!=r&&o.top+this.$element.height()>=n-r?"bottom":null!=a&&i<=a&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?o.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),o=i.data("affix"),s="object"==typeof n&&n;o||i.data("affix",o=new t(this,s)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(e){"use strict";e.fn.tab.Constructor.prototype.keydown=function(t){var n,i,o=e(this),s=o.closest("ul[role=tablist] "),r=t.which||t.keyCode;if(o=e(this),/(37|38|39|40)/.test(r)){n=s.find("[role=tab]:visible"),i=n.index(n.filter(":focus")),38!=r&&37!=r||i--,39!=r&&40!=r||i++,i<0&&(i=n.length-1),i==n.length&&(i=0);var a=n.eq(i);"tab"===a.attr("role")&&a.tab("show").focus(),t.preventDefault(),t.stopPropagation()}};var t=e.fn.tab.Constructor.prototype.activate;e.fn.tab.Constructor.prototype.activate=function(e,n,i){var o=n.find("> .active");o.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"-1","aria-selected":!1}),o.filter(".tab-pane").attr({"aria-hidden":!0,tabIndex:"-1"}),t.apply(this,arguments),e.addClass("active"),e.find("[data-toggle=tab], [data-toggle=pill]").attr({tabIndex:"0","aria-selected":!0}),e.filter(".tab-pane").attr({"aria-hidden":!1,tabIndex:"0"})}}(window.jQuery),define("javascripts/bootstrap",["javascripts/jquery-ui.min"],function(){}),function(){var e=this,t=e._,n={},i=Array.prototype,o=Object.prototype,s=Function.prototype,r=i.push,a=i.slice,l=i.concat,c=o.toString,u=o.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,g=i.filter,m=i.every,v=i.some,T=i.indexOf,_=i.lastIndexOf,E=Array.isArray,b=Object.keys,y=s.bind,w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):e._=w,w.VERSION="1.4.4";var S=w.each=w.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var o=0,s=e.length;s>o;o++)if(t.call(i,e[o],o,e)===n)return}else for(var r in e)if(w.has(e,r)&&t.call(i,e[r],r,e)===n)return};w.map=w.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(S(e,function(e,o,s){i[i.length]=t.call(n,e,o,s)}),i)};var C="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=w.bind(t,i)),o?e.reduce(t,n):e.reduce(t);if(S(e,function(e,s,r){o?n=t.call(i,n,e,s,r):(n=e,o=!0)}),!o)throw new TypeError(C);return n},w.reduceRight=w.foldr=function(e,t,n,i){var o=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=w.bind(t,i)),o?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var r=w.keys(e);s=r.length}if(S(e,function(a,l,c){l=r?r[--s]:--s,o?n=t.call(i,n,e[l],l,c):(n=e[l],o=!0)}),!o)throw new TypeError(C);return n},w.find=w.detect=function(e,t,n){var i;return N(e,function(e,o,s){return t.call(n,e,o,s)?(i=e,!0):void 0}),i},w.filter=w.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(S(e,function(e,o,s){t.call(n,e,o,s)&&(i[i.length]=e)}),i)},w.reject=function(e,t,n){return w.filter(e,function(e,i,o){return!t.call(n,e,i,o)},n)},w.every=w.all=function(e,t,i){t||(t=w.identity);var o=!0;return null==e?o:m&&e.every===m?e.every(t,i):(S(e,function(e,s,r){return(o=o&&t.call(i,e,s,r))?void 0:n}),!!o)};var N=w.some=w.any=function(e,t,i){t||(t=w.identity);var o=!1;return null==e?o:v&&e.some===v?e.some(t,i):(S(e,function(e,s,r){return o||(o=t.call(i,e,s,r))?n:void 0}),!!o)};w.contains=w.include=function(e,t){return null!=e&&(T&&e.indexOf===T?e.indexOf(t)!=-1:N(e,function(e){return e===t}))},w.invoke=function(e,t){var n=a.call(arguments,2),i=w.isFunction(t);return w.map(e,function(e){return(i?t:e[t]).apply(e,n)})},w.pluck=function(e,t){return w.map(e,function(e){return e[t]})},w.where=function(e,t,n){return w.isEmpty(t)?n?null:[]:w[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},w.findWhere=function(e,t){return w.where(e,t,!0)},w.max=function(e,t,n){if(!t&&w.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&w.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return S(e,function(e,o,s){var r=t?t.call(n,e,o,s):e;r>=i.computed&&(i={value:e,computed:r})}),i.value},w.min=function(e,t,n){if(!t&&w.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&w.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return S(e,function(e,o,s){var r=t?t.call(n,e,o,s):e;i.computed>r&&(i={value:e,computed:r})}),i.value},w.shuffle=function(e){var t,n=0,i=[];return S(e,function(e){t=w.random(n++),i[n-1]=i[t],i[t]=e}),i};var I=function(e){return w.isFunction(e)?e:function(t){return t[e]}};w.sortBy=function(e,t,n){var i=I(t);return w.pluck(w.map(e,function(e,t,o){return{value:e,index:t,criteria:i.call(n,e,t,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,i){var o={},s=I(t||w.identity);return S(e,function(t,r){var a=s.call(n,t,r,e);i(o,a,t)}),o};w.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(w.has(e,t)?e[t]:e[t]=[]).push(n)})},w.countBy=function(e,t,n){return A(e,t,n,function(e,t){w.has(e,t)||(e[t]=0),e[t]++})},w.sortedIndex=function(e,t,n,i){n=null==n?w.identity:I(n);for(var o=n.call(i,t),s=0,r=e.length;r>s;){var a=s+r>>>1;o>n.call(i,e[a])?s=a+1:r=a}return s},w.toArray=function(e){return e?w.isArray(e)?a.call(e):e.length===+e.length?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:e.length===+e.length?e.length:w.keys(e).length},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:a.call(e,0,t)},w.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},w.rest=w.tail=w.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var x=function(e,t,n){return S(e,function(e){w.isArray(e)?t?r.apply(n,e):x(e,t,n):n.push(e)}),n};w.flatten=function(e,t){return x(e,t,[])},w.without=function(e){return w.difference(e,a.call(arguments,1))},w.uniq=w.unique=function(e,t,n,i){w.isFunction(t)&&(i=n,n=t,t=!1);var o=n?w.map(e,n,i):e,s=[],r=[];return S(o,function(n,i){(t?i&&r[r.length-1]===n:w.contains(r,n))||(r.push(n),s.push(e[i]))}),s},w.union=function(){return w.uniq(l.apply(i,arguments))},w.intersection=function(e){var t=a.call(arguments,1);return w.filter(w.uniq(e),function(e){return w.every(t,function(t){return w.indexOf(t,e)>=0})})},w.difference=function(e){var t=l.apply(i,a.call(arguments,1));return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){for(var e=a.call(arguments),t=w.max(w.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=w.pluck(e,""+i);return n},w.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;o>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},w.indexOf=function(e,t,n){if(null==e)return-1;var i=0,o=e.length;if(n){if("number"!=typeof n)return i=w.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,o+n):n}if(T&&e.indexOf===T)return e.indexOf(t,n);for(;o>i;i++)if(e[i]===t)return i;return-1},w.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(_&&e.lastIndexOf===_)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var o=i?n:e.length;o--;)if(e[o]===t)return o;return-1},w.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=0,s=Array(i);i>o;)s[o++]=e,e+=n;return s},w.bind=function(e,t){if(e.bind===y&&y)return y.apply(e,a.call(arguments,1));var n=a.call(arguments,2);return function(){return e.apply(t,n.concat(a.call(arguments)))}},w.partial=function(e){var t=a.call(arguments,1);return function(){return e.apply(this,t.concat(a.call(arguments)))}},w.bindAll=function(e){var t=a.call(arguments,1);return 0===t.length&&(t=w.functions(e)),S(t,function(t){e[t]=w.bind(e[t],e)}),e},w.memoize=function(e,t){var n={};return t||(t=w.identity),function(){var i=t.apply(this,arguments);return w.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},w.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=function(e){return w.delay.apply(w,[e,1].concat(a.call(arguments,1)))},w.throttle=function(e,t){var n,i,o,s,r=0,a=function(){r=new Date,o=null,s=e.apply(n,i)};return function(){var l=new Date,c=t-(l-r);return n=this,i=arguments,0>=c?(clearTimeout(o),o=null,r=l,s=e.apply(n,i)):o||(o=setTimeout(a,c)),s}},w.debounce=function(e,t,n){var i,o;return function(){var s=this,r=arguments,a=function(){i=null,n||(o=e.apply(s,r))},l=n&&!i;return clearTimeout(i),i=setTimeout(a,t),l&&(o=e.apply(s,r)),o}},w.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},w.wrap=function(e,t){return function(){var n=[e];return r.apply(n,arguments),t.apply(this,n)}},w.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},w.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},w.keys=b||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)w.has(e,n)&&(t[t.length]=n);return t},w.values=function(e){var t=[];for(var n in e)w.has(e,n)&&t.push(e[n]);return t},w.pairs=function(e){var t=[];for(var n in e)w.has(e,n)&&t.push([n,e[n]]);return t},w.invert=function(e){var t={};for(var n in e)w.has(e,n)&&(t[e[n]]=n);return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=function(e){return S(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},w.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},w.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var o in e)w.contains(n,o)||(t[o]=e[o]);return t},w.defaults=function(e){return S(a.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e};var O=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var o=c.call(e);if(o!=c.call(t))return!1;switch(o){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return i[s]==t;n.push(e),i.push(t);var r=0,a=!0;if("[object Array]"==o){if(r=e.length,a=r==t.length)for(;r--&&(a=O(e[r],t[r],n,i)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!(w.isFunction(l)&&l instanceof l&&w.isFunction(u)&&u instanceof u))return!1;for(var d in e)if(w.has(e,d)&&(r++,!(a=w.has(t,d)&&O(e[d],t[d],n,i))))break;if(a){for(d in t)if(w.has(t,d)&&!r--)break;a=!r}}return n.pop(),i.pop(),a};w.isEqual=function(e,t){return O(e,t,[],[])},w.isEmpty=function(e){if(null==e)return!0;if(w.isArray(e)||w.isString(e))return 0===e.length;for(var t in e)if(w.has(e,t))return!1;return!0},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=E||function(e){return"[object Array]"==c.call(e)},w.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){w["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return!(!e||!w.has(e,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(e){return"function"==typeof e}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!=+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return u.call(e,t)},w.noConflict=function(){return e._=t,this},w.identity=function(e){return e},w.times=function(e,t,n){for(var i=Array(e),o=0;e>o;o++)i[o]=t.call(n,o);return i},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};R.unescape=w.invert(R.escape);var L={escape:RegExp("["+w.keys(R.escape).join("")+"]","g"),unescape:RegExp("("+w.keys(R.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(e){w[e]=function(t){return null==t?"":(""+t).replace(L[e],function(t){return R[e][t]})}}),w.result=function(e,t){if(null==e)return null;var n=e[t];return w.isFunction(n)?n.call(e):n},w.mixin=function(e){S(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),M.call(this,n.apply(w,e))}})};var $=0;w.uniqueId=function(e){var t=++$+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(e,t,n){var i;n=w.defaults({},n,w.templateSettings);var o=RegExp([(n.escape||k).source,(n.interpolate||k).source,(n.evaluate||k).source].join("|")+"|$","g"),s=0,r="__p+='";e.replace(o,function(t,n,i,o,a){return r+=e.slice(s,a).replace(P,function(e){return"\\"+D[e]}),n&&(r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(r+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(r+="';\n"+o+"\n__p+='"),s=a+t.length,t}),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{i=Function(n.variable||"obj","_",r)}catch(e){throw e.source=r,e}if(t)return i(t,w);var a=function(e){return i.call(this,e,w)};return a.source="function("+(n.variable||"obj")+"){\n"+r+"}",a},w.chain=function(e){return w(e).chain()};var M=function(e){return this._chain?w(e).chain():e};w.mixin(w),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],M.call(this,n)}}),S(["concat","join","slice"],function(e){var t=i[e];w.prototype[e]=function(){return M.call(this,t.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("javascripts/underscore-min",function(e){return function(){var t;return t||e._}}(this)),function(){var e,t=this,n=t.Backbone,i=[],o=i.push,s=i.slice,r=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.9";var a=t._;!a&&"undefined"!=typeof require&&(a=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n)for(var o in n)e[t].apply(e,[o,n[o]].concat(i));else{if(!l.test(n))return!0;n=n.split(l),o=0;for(var s=n.length;o<s;o++)e[t].apply(e,[n[o]].concat(i))}},u=function(e,t,n){var i,e=-1,o=t.length;switch(n.length){case 0:for(;++e<o;)(i=t[e]).callback.call(i.ctx);break;case 1:for(;++e<o;)(i=t[e]).callback.call(i.ctx,n[0]);break;case 2:for(;++e<o;)(i=t[e]).callback.call(i.ctx,n[0],n[1]);break;case 3:for(;++e<o;)(i=t[e]).callback.call(i.ctx,n[0],n[1],n[2]);break;default:for(;++e<o;)(i=t[e]).callback.apply(i.ctx,n)}},i=e.Events={on:function(e,t,n){return c(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this,o=a.once(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,n),this},off:function(e,t,n){var i,o,s,r,l,u,d,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(r=e?[e]:a.keys(this._events),l=0,u=r.length;l<u;l++)if(e=r[l],i=this._events[e]){if(s=[],t||n)for(d=0,h=i.length;d<h;d++)o=i[d],(t&&t!==(o.callback._callback||o.callback)||n&&n!==o.context)&&s.push(o);this._events[e]=s}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(this,n,t),i&&u(this,i,arguments),this},listenTo:function(e,t,n){var i=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=a.uniqueId("l"));return i[o]=e,e.on(t,n||this,this),this},stopListening:function(e,t,n){var i=this._listeners;if(i){if(e)e.off(t,n,this),!t&&!n&&delete i[e._listenerId];else{for(var o in i)i[o].off(null,null,this);this._listeners={}}return this}}};i.bind=i.on,i.unbind=i.off,a.extend(e,i);var d=e.Model=function(e,t){var n,i=e||{};this.cid=a.uniqueId("c"),this.changed={},this.attributes={},this._changes=[],t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i)),(n=a.result(this,"defaults"))&&a.defaults(i,n),this.set(i,{silent:!0}),this._currentAttributes=a.clone(this.attributes),this._previousAttributes=a.clone(this.attributes),this.initialize.apply(this,arguments)};a.extend(d.prototype,i,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,o;if(null==e)return this;a.isObject(e)?(o=e,n=t):(o={})[e]=t;var e=n&&n.silent,s=n&&n.unset;if(!this._validate(o,n))return!1;this.idAttribute in o&&(this.id=o[this.idAttribute]);var r=this.attributes;for(i in o)t=o[i],s?delete r[i]:r[i]=t,this._changes.push(i,t);return this._hasComputed=!1,e||this.change(n),this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t,n={};for(t in this.attributes)n[t]=void 0;return this.set(n,a.extend({},e,{unset:!0}))},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return!!t.set(t.parse(i),e)&&void(n&&n(t,i,e))},this.sync("read",this,e)},save:function(e,t,n){var i,o,s;if(null==e||a.isObject(e)?(i=e,
n=t):null!=e&&((i={})[e]=t),n=n?a.clone(n):{},n.wait){if(i&&!this._validate(i,n))return!1;o=a.clone(this.attributes)}if(e=a.extend({},n,{silent:!0}),i&&!this.set(i,n.wait?e:n)||!i&&!this._validate(null,n))return!1;var r=this,l=n.success;return n.success=function(e){s=!0;var t=r.parse(e);return n.wait&&(t=a.extend(i||{},t)),!!r.set(t,n)&&void(l&&l(r,e,n))},t=this.isNew()?"create":n.patch?"patch":"update","patch"==t&&(n.attrs=i),t=this.sync(t,this,n),!s&&n.wait&&(this.clear(e),this.set(o,e)),t},destroy:function(e){var e=e?a.clone(e):{},t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(o){(e.wait||t.isNew())&&i(),n&&n(t,o,e)},this.isNew())return e.success(),!1;var o=this.sync("delete",this,e);return e.wait||i(),o},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||I();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){var t=this._changing;this._changing=!0;var n=this._computeChanges(!0);this._pending=!!n.length;for(var i=n.length-2;0<=i;i-=2)this.trigger("change:"+n[i],this,n[i+1],e);if(t)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,e),this._previousAttributes=a.clone(this.attributes);return this._changing=!1,this},hasChanged:function(e){return this._hasComputed||this._computeChanges(),null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var t,n,i=!1,o=this._previousAttributes;for(n in e)a.isEqual(o[n],t=e[n])||((i||(i={}))[n]=t);return i},_computeChanges:function(e){this.changed={};for(var t={},n=[],i=this._currentAttributes,o=this._changes,s=o.length-2;0<=s;s-=2){var r=o[s],a=o[s+1];t[r]||(t[r]=!0,i[r]!==a&&(this.changed[r]=a,e&&(n.push(r,a),i[r]=a)))}return e&&(this._changes=[]),this._hasComputed=!0,n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},_validate:function(e,t){if(!this.validate)return!0;var e=a.extend({},this.attributes,e),n=this.validate(e,t);return!n||(t&&t.error&&t.error(this,n,t),this.trigger("error",this,n,t),!1)}});var h=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))};a.extend(h.prototype,i,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){var n,i,s,l,c=t&&t.at,u=null==(t&&t.sort)||t.sort,e=a.isArray(e)?e.slice():[e];for(n=e.length-1;0<=n;n--)(i=this._prepareModel(e[n],t))?(e[n]=i,(s=null!=i.id&&this._byId[i.id])||this._byCid[i.cid]?(t&&t.merge&&s&&(s.set(i.attributes,t),l=u),e.splice(n,1)):(i.on("all",this._onModelEvent,this),this._byCid[i.cid]=i,null!=i.id&&(this._byId[i.id]=i))):(this.trigger("error",this,e[n],t),e.splice(n,1));if(e.length&&(l=u),this.length+=e.length,n=[null!=c?c:this.models.length,0],o.apply(n,e),r.apply(this.models,n),l&&this.comparator&&null==c&&this.sort({silent:!0}),t&&t.silent)return this;for(;i=e.shift();)i.trigger("add",i,this,t);return this},remove:function(e,t){var n,i,o,s;for(t||(t={}),e=a.isArray(e)?e.slice():[e],n=0,i=e.length;n<i;n++)(s=this.get(e[n]))&&(delete this._byId[s.id],delete this._byCid[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]||this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return a.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),(!e||!e.silent)&&this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},update:function(e,t){var n,i,o,s,r=[],l=[],c={},u=this.model.prototype.idAttribute,t=a.extend({add:!0,merge:!0,remove:!0},t);if(t.parse&&(e=this.parse(e)),a.isArray(e)||(e=e?[e]:[]),t.add&&!t.remove)return this.add(e,t);for(i=0,o=e.length;i<o;i++)n=e[i],s=this.get(n.id||n.cid||n[u]),t.remove&&s&&(c[s.cid]=!0),(t.add&&!s||t.merge&&s)&&r.push(n);if(t.remove)for(i=0,o=this.models.length;i<o;i++)n=this.models[i],c[n.cid]||l.push(n);return l.length&&this.remove(l,t),r.length&&this.add(r,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e));for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e&&this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){t[e.update?"update":"reset"](i,e),n&&n(t,i,e)},this.sync("read",this,e)},create:function(e,t){var n=this,t=t?a.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var i=t.success;return t.success=function(e,t,o){o.wait&&n.add(e,o),i&&i(e,t,o)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return a(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return!!n._validate(e,t)&&n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"===e||"remove"===e)&&n!==this||("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}}),a.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min sortedIndex toArray size first head take initial rest tail last without indexOf shuffle lastIndexOf isEmpty".split(" "),function(e){h.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}}),a.each(["groupBy","countBy","sortBy"],function(e){h.prototype[e]=function(t,n){var i=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,i,n)}});var p=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},f=/\((.*?)\)/g,g=/:\w+/g,m=/\*\w+/g,v=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(p.prototype,i,{initialize:function(){},route:function(t,n,i){return a.isRegExp(t)||(t=this._routeToRegExp(t)),i||(i=this[n]),e.history.route(t,a.bind(function(o){o=this._extractParameters(t,o),i&&i.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),e.history.trigger("route",this,n,o)},this)),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes)for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(f,"(?:$1)?").replace(g,"([^/]+)").replace(m,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var T=e.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,b=/msie [\w.]+/,y=/\/$/;T.started=!1,a.extend(T.prototype,i,{interval:50,getHash:function(e){return(e=(e||this).location.href.match(/#(.*)$/))?e[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){var e=this.location.pathname,n=this.root.replace(y,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(t){if(T.started)throw Error("Backbone.history has already been started");T.started=!0,this.options=a.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var t=this.getFragment(),n=document.documentMode,n=b.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);return this.root=("/"+this.root+"/").replace(E,"/"),n&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?e.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?e.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t,t=this.location,n=t.pathname.replace(/[^\/]$/,"$&/")===this.root,this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!n?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&n&&t.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment+t.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e!==this.fragment&&(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e);return a.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(e,t){if(!T.started)return!1;if(t&&!0!==t||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){n?(n=e.href.replace(/(javascript:|#).*$/,""),e.replace(n+"#"+t)):e.hash="#"+t}}),e.history=new T;var w=e.View=function(e){this.cid=a.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,C="model collection el id attributes className tagName events".split(" ");a.extend(w.prototype,i,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(t,n,i){return t=document.createElement(t),n&&e.$(t).attr(n),null!=i&&e.$(t).html(i),t},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=a.result(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];if(a.isFunction(n)||(n=this[e[t]]),!n)throw Error('Method "'+e[t]+'" does not exist');var i=t.match(S),o=i[1],i=i[2],n=a.bind(n,this),o=o+(".delegateEvents"+this.cid);""===i?this.$el.bind(o,n):this.$el.delegate(i,o,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=a.extend({},a.result(this,"options"),e)),a.extend(this,a.pick(e,C)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e.class=a.result(this,"className")),this.setElement(this.make(a.result(this,"tagName"),e),!1)}}});var N={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.sync=function(t,n,i){var o=N[t];a.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=a.result(n,"url")||I()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var r=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),r)return r.apply(this,arguments)}}"GET"!==s.type&&!i.emulateJSON&&(s.processData=!1);var l=i.success;i.success=function(e,t,o){l&&l(e,t,o),n.trigger("sync",n,e,i)};var c=i.error;return i.error=function(e){c&&c(n,e,i),n.trigger("error",n,e,i)},t=e.ajax(a.extend(s,i)),n.trigger("request",n,t,i),t},e.ajax=function(){return e.$.ajax.apply(e.$,arguments)},d.extend=h.extend=p.extend=w.extend=T.extend=function(e,t){var n,i=this;n=e&&a.has(e,"constructor")?e.constructor:function(){i.apply(this,arguments)},a.extend(n,i,t);var o=function(){this.constructor=n};return o.prototype=i.prototype,n.prototype=new o,e&&a.extend(n.prototype,e),n.__super__=i.prototype,n};var I=function(){throw Error('A "url" property or function must be specified')}}.call(this),define("javascripts/backbone-min",["javascripts/underscore-min","javascripts/jquery"],function(e){return function(){var t;return t||e.Backbone}}(this)),define("tools/ToolSwitch",[],function(){"use strict";function e(e,t){function n(){var n=a(e);$(document).on("cleanup.betweenTest",i),$(document).on("userDude.accommodationItem.clicked",o);try{d=t.accessForAllUser.displays.screenEnhancement[0];var c=l(d);f=c.enabledTools,g=c.disabledTools;var u=r(n,g);f=s(f,u),h=Object.keys(f).length>0}catch(e){return console.log("PNP not defined"),void(f=s({},n))}}function i(){$(document).off("userDude.accommodationItem.clicked",o),$(document).off("cleanup.betweenTest",i),d=null,f={},g=[]}function o(e,t){var n=t.enabled,i=t.accommodationName;f[i]&&!_.isEmpty(f[i])&&f[i].activateByDefault&&(f[i].active=n,TN8.Application.accommodationTools[i].active=n)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.hasOwnProperty(i)||(e[i]={})}return e}function r(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];_.indexOf(t,o)===-1&&n.push(o)}return n}function a(e){for(var t=[],n=0;n<e.length;n++){var i=p[e[n]];"undefined"!=typeof i&&t.push(i)}return t}function l(e){for(var t={},n=[],i=_.keys(e),o=0;o<i.length;o++){var s=i[o],r=e[s];r.assignedSupport?(t[s]=r,r.active=!!r.activateByDefault):"undefined"!=typeof r.assignedSupport&&r.assignedSupport!==!1||n.push(s)}return{enabledTools:t,disabledTools:n}}function c(){return f}function u(){TN8.Application.accommodationTools=TN8.Application.settings.filterAccomTools(c())}var d,h,p={1:"contrastSettings",3:"magnifier",5:"lineReader",7:"masking",8:"tnavTutorial",10:"zoomControls",8e3:"readableMode"},f={},g=[];return n(),{setAccomodationTools:u,pnpToolsEnabled:h}}return e}),define("timer/TimerUtils",[],function(){"use strict";var e={_isPart:!1,_isSection:!1,buildTime:function(t){if(!e.isDate(t))return"";var n=t.getMinutes(),i=t.getSeconds(),o=t.getHours();return n<10&&(n="0"+n),i<10&&(i="0"+i),o>0?o+":"+n+":"+i:n+":"+i},secondsToDate:function(e){var t=Math.floor(e%86400/3600),n=Math.floor(e%86400%3600/60),i=e%86400%3600%60,o=new Date;return o.setSeconds(i),o.setMinutes(n),o.setHours(t),o.setMilliseconds(0),o},toSeconds:function(t){return t&&e.isDate(t)?60*t.getHours()*60+60*t.getMinutes()+t.getSeconds():null},getZeroTime:function(){var e=new Date;return e.setSeconds(0),e.setMinutes(0),e.setHours(0),e.setMilliseconds(0),e},isDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)},buildTimeString:function(e){if(!(e<=0)){var t,n,i,o=Math.floor(e/3600),s=Math.floor(e%3600/60);return o>0&&(t=o+" "+$.i18n.t("generalWords:hour")+(o>1?"s":"")),s>0&&(n=s+" "+$.i18n.t("generalWords:minute")+(s>1?"s":"")),t&&n?i=t+" "+$.i18n.t("generalWords:and")+" "+n:t?i=t:n&&(i=n),i}},isTestTimer:function(){return"undefined"!=typeof TestEngine.getTestDefine().getCountdown()&&TestEngine.getTestDefine().getCountdown()!==-1&&0!==TestEngine.getTestDefine().getCountdown()},isPart:function(){return e._isPart},setIsPart:function(t){var n=TestEngine.getNavigation().getCurrentTestPart();e._isPart="undefined"!=typeof n.getCountdown()&&0!==n.getCountdown()&&n.getCountdown()!==-1},isSection:function(){return e._isSection},setIsSection:function(t){var n=TestEngine.getNavigation().getCurrentTestPart().getAssessmentSections(),i=_(n).some(function(e){return null!==e.getTimer()&&0!==e.getTimer()});e._isSection=i&&!t},setLevel:function(){var e="undefined"!=typeof TestEngine.getTestDefine().getCountdown()&&TestEngine.getTestDefine().getCountdown()!==-1;this.setIsPart(e),this.setIsSection(e)}};return e}),define("util/shortcuts",[],function(){"use strict";function e(e){e.preventDefault?e.preventDefault():window.event.returnValue=!1}function t(e){var t="",i=e.keyCode;return n(i)&&(i-=48),e.ctrlKey&&"ctrl"!==u[i]&&(t+="ctrl+"),e.metaKey&&"meta"!==u[i]&&(t+="meta+"),e.altKey&&"alt"!==u[i]&&(t+="alt+"),e.shiftKey&&"shift"!==u[i]&&(t+="shift+"),t+=i>=65&&i<=90||i>=48&&i<=57?String.fromCharCode(i).toLowerCase():u[i]}function n(e){return e>=96&&e<=105}function i(e,t){return 1==t.length&&"shift"==t[0]&&(e.keyCode>=65&&e.keyCode<=90||!u[e.keyCode]||r(e.target))}function o(e){if(e&&e.target&&r(e.target))return h;if(e&&e.target&&a(e.target))return p;if(s()){var t=["meta+a","meta+c","meta+v","ctrl+a","ctrl+c","ctrl+v"],n=h.filter(function(e){return t.indexOf(e)<0});return n}return f}function s(){return document.activeElement&&document.activeElement.id&&0===document.activeElement.id.indexOf("calculator_")}function r(e){return"text"===e.type||"textarea"===e.type||"password"===e.type||e.isContentEditable}function a(e){return!!($(e).hasClass("int-pp-passageContent")||$(e).hasClass("passage-scrolling")||$(e).hasClass("tab-scrolling"))&&($(e).hasClass(".scrollbar-new")||$(e).closest(".scrollbar-new")[0]||$(e).closest(".tab-content").siblings(".scrollbar-new")[0])}function l(e){var t=[];return e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),t}function c(e){if(e.shiftKey===!0)return!1}for(var u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",61:"plus",91:"meta",93:"meta",107:"plus",109:"minus",111:"/",121:"f10",166:"BrowserBack",167:"BrowserForward",168:"BrowserRefresh",173:"minus",187:"plus",189:"minus",191:"/",220:"\\",222:"'",224:"meta",229:"combined"},d=1;d<20;++d)u[111+d]="f"+d;var h=["tab","shift+tab","backspace","esc","enter","up","down","left","right","space","/","\\","'","home","end","del","plus","minus","pageup","pagedown","home","end","shift+plus","shift+minus","meta+a","meta+c","meta+v","meta+x","meta+z","meta+plus","meta+minus","meta+0","meta+shift+left","meta+shift+right","meta+shift+up","meta+shift+down","shift+left","shift+right","shift+up","shift+down","shift+home","shift+end","ctrl+a","ctrl+c","ctrl+v","ctrl+x","ctrl+z","ctrl+y","ctrl+home","ctrl+end","ctrl+left","ctrl+right","ctrl+up","ctrl+down","ctrl+plus","ctrl+minus","ctrl+0","ctrl+shift+left","ctrl+shift+right","ctrl+shift+up","ctrl+shift+down","ctrl+shift+home","ctrl+shift+end","alt","alt+a","alt+e","alt+u","alt+n","alt+\\","combined","alt+combined","alt+0","alt+1","alt+2","alt+3","alt+4","alt+5","alt+6","alt+7","alt+8","alt+9","ctrl+alt+z","alt+shift+left","alt+shift+right","alt+shift+up","alt+shift+down","alt+shift+a","alt+shift+/","alt+shift+\\","alt+shift+3","alt+shift+4"],p=["esc","tab","shift+tab","enter","shift+space","space","meta+plus","meta+minus","ctrl+plus","ctrl+minus","meta+0","ctrl+0","up","down","left","right","plus","minus","pageup","pagedown","home","end","ctrl+alt+z"],f=["esc","tab","shift+tab","enter","space","meta+plus","meta+minus","ctrl+plus","ctrl+minus","meta+0","ctrl+0","up","down","left","right","plus","minus","ctrl+alt+z","pageup","pagedown"],g=["shift+esc","shift+f10","shift+BrowserBack"];/MSIE/.test(navigator.userAgent)?h.push("ctrl+y"):(h.push("ctrl+shift+z"),h.push("meta+shift+z")),/CrOS/.test(navigator.userAgent)&&h.push("ctrl+shift+combined");var m={addContext:function(n){$(n).on&&!TestEngine.isIdevice()?$(n).on("keydown.blocker",function(n){var s=l(n);if(s.length>0||u[n.keyCode]){var r=o(n),a=t(n);(r.indexOf(a)===-1&&!i(n,s)||g.indexOf(a)!==-1)&&e(n)}}):console.log("Shortcut filtering disabled due to iOS device or incompatible element.")},unblock:function(e,t){var n=o(t),i=n.indexOf(e);i===-1&&n.push(e)},block:function(e,t){var n=o(t),i=n.indexOf(e);i!==-1&&n.splice(i,1)},blockShiftScrollNav:function(){TN8.fnOn("mousewheel",c)}};return m}),define("models/SettingsModel",["javascripts/backbone-min"],function(e){"use strict";var t="ansElimOn",n="ansMaskOn",i="closedCaption",o="contrastOn",s="contrastColor",r="dynTTSOn",a="highlighterOn",l="keyWordTranslation",c="language",u="lineReaderOn",d="magnifierOn",h="notepadOn",p="readerModeOn",f="zoomPercentage",g="glossaryOnScreenOn",m="translationsVariant",v="americanSignLanguage",T="mousePointer",_="brailleOnDemand",E="illustrationsGlossary",b=e.Model.extend({defaults:{enabled:!1,ANSWER_ELIMINATOR_SETTING:!1,ANSWER_MASKER_SETTING:!1,CLOSED_CAPTION_SETTING:"off",CONTRAST_COLOR_SETTING:"",DYNAMIC_TTS_SETTING:!1,HIGHLIGHTER_SETTING:!1,KEYWORD_TRANSLATION_SETTING:"",LANGUAGE_SETTING:"en",LINE_READER_SETTING:!1,MAGNIFIER_SETTING:!1,NOTEPAD_SETTING:!1,READER_MODE_SETTING:!1,ZOOM_SETTING:"",GLOSSARY_ON_SCREEN:!1,TRANSLATIONS_VARIANT:1,AMERICAN_SIGN_LANGUAGE:!1,MOUSE_POINTER:!1,BRAILLE_ON_DEMAND:!1,ILLUSTRATIONS_GLOSSARY:!1},initialize:function(){$(document).on("cleanup.betweenTest",$.proxy(this.reset,this))},reset:function(){for(var e in this.defaults)this.set(b[e],void 0)},filterToolset:function(e,n){if(!this.get("enabled"))return e;var i=e.slice(),o={};o[t]=n.ANSWER_ELIMINATOR,o[a]=n.HIGHLIGHTER,o[h]=n.NOTEPAD;for(var s in o){var r=this.get(s);if("undefined"!=typeof r){var l=o[s];if(r)i.indexOf(l)===-1&&i.push(l);else for(var c=i.length-1;c>=0;c--){var u=i.indexOf(l);u!==-1&&i.splice(u,1)}}}return i},filterAccomTools:function(e){if(!this.get("enabled"))return e;var t=jQuery.extend(!0,{},e),i={};i[n]="masking",i[o]="contrastSettings",i[l]="keyWordTranslation",i[u]="lineReader",i[d]="magnifier",i[p]="readableMode",i[f]="zoomControls";for(var r in i){var a=this.get(r),c=i[r];"undefined"!=typeof a&&(("boolean"!=typeof a||a!==!0)&&"boolean"==typeof a||c in e?"boolean"==typeof a&&a===!1&&t[c]&&"undefined"==typeof t[c].active&&delete t[c]:t[c]={}),c===i[o]&&t[c]&&(t[c].color=this.get(s),t[c].active=t[c].activateByDefault=this.get(o)),c===i[p]&&t[c]&&(t[c].assignedSupport=!0,t[c].active=a,t[c].activateByDefault=!0)}return t}});return b.ANSWER_ELIMINATOR_SETTING=t,b.ANSWER_MASKER_SETTING=n,b.CLOSED_CAPTION_SETTING=i,b.CONTRAST_SETTING=o,b.CONTRAST_COLOR_SETTING=s,b.DYNAMIC_TTS_SETTING=r,b.HIGHLIGHTER_SETTING=a,b.KEYWORD_TRANSLATION_SETTING=l,b.LANGUAGE_SETTING=c,b.LINE_READER_SETTING=u,b.MAGNIFIER_SETTING=d,b.NOTEPAD_SETTING=h,b.READER_MODE_SETTING=p,b.ZOOM_SETTING=f,b.GLOSSARY_ON_SCREEN=g,b.TRANSLATIONS_VARIANT=m,b.AMERICAN_SIGN_LANGUAGE=v,b.MOUSE_POINTER=T,b.BRAILLE_ON_DEMAND=_,b.ILLUSTRATIONS_GLOSSARY=E,b}),define("controllers/PnpController",["tools/ToolSwitch","timer/TimerUtils","util/shortcuts","models/SettingsModel"],function(e,t,n,i){"use strict";return{pnp:{},pnpToolsEnabled:!1,init:function(e){try{this.pnp=e.pnp?JSON.parse(e.pnp):{}}catch(e){this.pnp={},TN8.log("pnpController.init  . pnp is not JSON : "+e,TN8.CRITICAL)}this.setAccomodations(),this.registerEvents()},applyPnpSettings:function(){var e=this;$(document).one("tn.testStart.render",function(){e.checkForSR(),e.checkForContrast(),e.checkForZoom(),e.getCursor()})},registerEvents:function(){$(document).off("cleanup.betweenTest",this.cleanup).on("cleanup.betweenTest",this.cleanup),$(document).off("inform.settingsChanged",$.proxy(this.settingsChanged,this)).on("inform.settingsChanged",$.proxy(this.settingsChanged,this))},settingsChanged:function(){this.getCursor()},cleanup:function(){this.pnp={}},getTimeMultiplier:function(){var e;try{e=this.pnp.accessForAllUser.controls[0].control[0].addTime}catch(t){e={support:!1,mult:1}}return e.support&&"number"==typeof e.mult&&(0===e.mult||e.mult>=1&&e.mult<=10)?e.mult:1},setAccomodations:function(){var t=[],n=TestEngine.getTestDefine()._sourceJson;n&&n.accomtools&&(t=n.accomtools);var i=new e(t,this.pnp);i.setAccomodationTools(),this.pnpToolsEnabled=i.pnpToolsEnabled,this.pnp.accessForAllUser&&this.pnp.accessForAllUser.spoken&&(TN8.apip.pnp=this.pnp.accessForAllUser.spoken,$(document).on("tn.navigate.logout",function(){TN8.apip.pnp&&(TN8.apip.pnp=null)}))},checkForSR:function(){var e;try{e=!!this.pnp.accessForAllUser.displays.screenReader.application}catch(t){e=!1}return TestEngine.isKeyboardDisabeldForScreenReader&&e&&($(window).off("keydown.blocker"),$(document).one("test.end.cleanup",function(){n.addContext($(window))})),e},checkForContrast:function(){var e;try{e=this.pnp.accessForAllUser.displays.screenEnhancement[0].contrastSettings}catch(t){e=!1}return e&&"black-white"!=e.color&&e.activateByDefault&&TN8.Application.accommodationTools.contrastSettings&&$(document).trigger("perform.contrastChange",e.color),e},checkForDesmos:function(){var e=!1;try{var t=!1;try{this.pnp.accessForAllUser.displays.calculator&&(t=!0)}catch(e){}t&&(e=this.pnp.accessForAllUser.displays.calculator.some(function(e){return e.assignedSupport===!0&&("desmosFourFunction"===e.type||"desmosGraphing"===e.type||"desmosScientific"===e.type)}))}catch(e){console.log(e)}return e},checkForTTS:function(){var e;try{"dynamic-tts"!==this.pnp.accessForAllUser.spoken.type&&(e=this.pnp.accessForAllUser.spoken.assignedSupport)}catch(e){}return e},checkForDynamicTTS:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.DYNAMIC_TTS_SETTING);var e;try{"dynamic-tts"===this.pnp.accessForAllUser.spoken.type&&(e=this.pnp.accessForAllUser.spoken.assignedSupport)}catch(e){}return e},getTTS:function(){try{return this.pnp.accessForAllUser.spoken}catch(e){}},getKeywordLang:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.KEYWORD_TRANSLATION_SETTING);var e;try{e=this.pnp.accessForAllUser.displays.keyWordTranslation}catch(t){e=!1}return e},isCrVoxWhitelisted:function(){var e;try{e=this.pnp.accessForAllUser.displays.screenReader.application}catch(e){return!1}return e&&e.toLowerCase().indexOf("chromevox")!==-1},getCalculators:function(){var e=!1;try{this.pnp.accessForAllUser.displays.calculator&&this.pnp.accessForAllUser.displays.calculator.length>0&&(e=this.pnp.accessForAllUser.displays.calculator)}catch(t){e=!1}return e},getDictionaries:function(){var e=!1;try{this.pnp.accessForAllUser.displays.dictionary&&this.pnp.accessForAllUser.displays.dictionary.length>0&&(e=this.pnp.accessForAllUser.displays.dictionary)}catch(t){e=!1}return e},getTTSAssignedSupport:function(){return!this.pnp.accessForAllUser||!this.pnp.accessForAllUser.spoken||"undefined"==typeof this.pnp.accessForAllUser.spoken.assignedSupport||"dynamic-tts"===this.pnp.accessForAllUser.spoken.type||this.pnp.accessForAllUser.spoken.assignedSupport},checkforOnScreenPopup:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.GLOSSARY_ON_SCREEN);var e;try{if(this.pnp.accessForAllUser.displays.screenEnhancement[0].glossaryOnScreen)return e=this.pnp.accessForAllUser.displays.screenEnhancement[0].glossaryOnScreen.assignedSupport,"undefined"==typeof e||1==e}catch(e){return!0}return!0},checkforOnScreenRegularPopup:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.GLOSSARY_ON_SCREEN);var e;try{if(this.pnp.accessForAllUser.displays.screenEnhancement[0].glossaryOnScreen)return e=this.pnp.accessForAllUser.displays.screenEnhancement[0].glossaryOnScreen.assignedSupport,"undefined"==typeof e||e!==!1}catch(e){return!0}return!0},checkforOnScreenIllustration:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.ILLUSTRATIONS_GLOSSARY);var e;try{return e=this.pnp.accessForAllUser.content["ext:sbac-glossary-illustration"].assignedSupport,"undefined"==typeof e||e===!0}catch(e){return!1}},getFlavorVariant:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.TRANSLATIONS_VARIANT);var e=1;try{e=this.pnp.accessForAllUser.displays.variant}catch(t){e=1}return e},checkForZoom:function(){var e;if(TestEngine.isJXBrowserApp()||TestEngine.isChromeApp())try{if(this.pnp.accessForAllUser.displays.screenEnhancement[0].magnification){var t=this.pnp.accessForAllUser.displays.screenEnhancement[0].magnification.assignedSupport;if("undefined"!=typeof t&&t!==!1){var n=[100,110,120,150,175,200];e=this.pnp.accessForAllUser.displays.screenEnhancement[0].magnification.percentage,n.indexOf(e)>-1?setTimeout(function(){require(["controllers/ZoomControllerWrapper"],function(t){t.initialize(e)})},0):e=-1}}}catch(t){e=0}return e},getAsl:function(){if(TN8.Application.settings.get("enabled"))return!!TN8.Application.settings.get(i.AMERICAN_SIGN_LANGUAGE)&&"ase";try{if(this.pnp.accessForAllUser.content.signing){var e=this.pnp.accessForAllUser.content.signing;if(e.assignedSupport===!0)return e.signingType;if(e.assignedSupport===!1)return!1}}catch(e){return}},getBraille:function(){var e;if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.BRAILLE_ON_DEMAND);try{return e=this.pnp.accessForAllUser.content["ext:sbac-braille-files"],e.assignedSupport=e.assignedSupport===!0,!!e.assignedSupport&&e}catch(e){return!1}},checkForClosedCaption:function(){if(TN8.Application.settings.get("enabled"))return TN8.Application.settings.get(i.CLOSED_CAPTION_SETTING);try{if(this.pnp.accessForAllUser.content.captions){var e=this.pnp.accessForAllUser.content.captions.assignedSupport;if(e!==!0&&e!==!1)return;var t=this.pnp.accessForAllUser.content.captions.languageByDefault;return"undefined"==typeof t||null==t?"off":t}}catch(e){return}},getCursor:function(){var e=!1;try{if(TN8.Application.settings.get("enabled"))e=TN8.Application.settings.get(i.MOUSE_POINTER);else if(this.pnp.accessForAllUser.displays.screenEnhancement[0].mousePointer&&"undefined"!=typeof this.pnp.accessForAllUser.displays.screenEnhancement[0].mousePointer.assignedSupport&&this.pnp.accessForAllUser.displays.screenEnhancement[0].mousePointer.assignedSupport===!0){var t=["medium","large","extra-large","extra-large-black","extra-large-green","extra-large-yellow"],n=this.pnp.accessForAllUser.displays.screenEnhancement[0].mousePointer.pointerType;"undefined"!==n&&t.indexOf(n)>-1&&(e=n)}}catch(t){e=!1}return"default"!==e&&e?require(["controllers/cursorStylist"],function(t){t.init(),$(document).trigger("do.setCursorStyle",e)}):$(document).trigger("do.setCursorStyleToDefault"),
e},isExtensionEnabled:function(){return void 0!==this.pnp.accessForAllUser&&void 0!==this.pnp.accessForAllUser.extensions&&this.pnp.accessForAllUser.extensions===!0},getExtensionsUrl:function(){return this.pnp.accessForAllUser&&this.pnp.accessForAllUser.extensionUrl?this.pnp.accessForAllUser.extensionUrl:null}}}),define("utils",["javascripts/backbone-min","controllers/PnpController"],function(e,t){function n(e){"undefined"==typeof console&&(console={}),"undefined"==typeof console.log&&(e?console.log=function(e){alert(e)}:console.log=function(){}),"undefined"==typeof console.dir&&(e?console.dir=function(e){alert("DIR: "+e)}:console.dir=function(){})}function i(){r=!0}function o(e){var t=0;return function(n,i){return 0!==t&&"object"==typeof e&&"object"==typeof i&&e==i?"[Circular]":t>=29?"[Unknown]":(++t,i)}}var s={};s.makeUnselectable=function(e){if(e&&"undefined"!=typeof e){1===e.nodeType&&e.setAttribute("unselectable","on");for(var t=e.firstChild;t;)s.makeUnselectable(t),t=t.nextSibling}},s.lg=function(e){if("undefined"!=typeof console&&"undefined"!=typeof console.log&&"undefined"!=typeof console.log.apply)if("object"==typeof e)try{console.log(JSON.stringify(e))}catch(t){console.log(e)}else console.log.apply(console,arguments)},n(),s.isMobile=/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent.toLowerCase()),s.detectOs=function(){var e="",t=navigator.userAgent;return null==t?"":e=t.indexOf("Windows")!=-1?"win":t.indexOf("Macintosh")!=-1?"mac":t.indexOf("iPad")!=-1?"mac":t.indexOf("Android")!=-1?"android":t.indexOf("CrOS")!=-1?"chromeOS":"unk-os"},s.detectBrowser=function(){var e=function(){return/Touch/.test(navigator.userAgent)||navigator.maxTouchPoints>0?" surface":""},t="",n="";if(/Linux/.test(navigator.userAgent)&&!/Android/.test(navigator.userAgent))t="linux";else if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var i=new Number(RegExp.$1);t=i>=4?"ff":"ff ff3"}else/MSIE (\d+\.\d+);/.test(navigator.userAgent)?(n=new Number(RegExp.$1),t=n>=10?"ie ie10":n>=9?"ie ie9":n>=8?"ie ie8":n>=7?"ie ie7":"wtf",t+=e()):/Trident/.test(navigator.userAgent)?(/rv:(\d+\.\d+)/.test(navigator.userAgent),n=new Number(RegExp.$1),t=n>=11?"ie ie11":"wtf",t+=e()):/Edge\//.test(navigator.userAgent)?(t="ie edge",t+=e()):t=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)/i)?"safari ipad":navigator.userAgent.toLowerCase().match(/(android)/i)?"chrome android":/Chrome[\/\s](\d+\.\d+)/.test(navigator.userAgent)?"chrome":/Safari[\/\s](\d+\.\d+)/.test(navigator.userAgent)?"ontouchstart"in window&&"mac"===this.detectOs()?"safari ipad":"safari":"wtf";return t},e.emulateHTTP=!0,e.emulateJSON=!0,s.tpl={templates:{},loadTemplates:function(e,t){var n=this,i=function(o){var s=e[o];$.get("tpl/"+s+".html",function(r){n.templates[s]=r,o++,o<e.length?i(o):t()})};i(0)},get:function(e){return this.templates[e]}},window.scrp={loadedLibs:{},loadScriptLibs:function(e,t){require([e],t)}};var r=!1;return s.loadLibraries=function(e,t,n){r=!1,$(document).off("tn.error.fatal",i).one("tn.error.fatal",i);var o=5,s=function(e,n){if(r)return void TN8.log("Load libraries: stop all after fatal error",TN8.CRITICAL);if(e.length){var o=$.extend(!0,[],e),l=e.shift();l.indexOf("rangy")>-1?TN8.utils.loadRangy(l,s.bind(this,e,0),a.bind(this,o,n)):l.indexOf("literallycanvas")>-1?TN8.utils.loadLC(l,s.bind(this,e,0),a.bind(this,o,n)):require([l],s.bind(this,e,0),a.bind(this,o,n))}else r=!1,$(document).off("tn.error.fatal",i),t()},a=function(e,t,i){requirejs.undef(e[0]),i.originalError&&$(i.originalError.target).remove(),TN8.log(i,TN8.CRITICAL),TN8.log("attempt .... "+t,TN8.CRITICAL),t<o?(t++,window.setTimeout(function(){s(e,t)},2e3)):n(i)};s(e,0)},s.loadRangy=function(e,t,n){e.indexOf("rangy-core")>-1?require([e],function(e){window.rangy=e,t.call(this)},n):require([e],t,n)},s.loadLC=function(e,t,n){require([e],function(e){window.LC=e,t.call(this)},n)},s.setMathJaxOptions=function(){window.MathJax={messageStyle:"none",showMathMenu:!1,mml2jax:{preview:"none"},"fast-preview":{disabled:!0},menuSettings:{context:"Browser",inTabOrder:!1},extensions:["AssistiveMML.js"],AssistiveMML:{disabled:!1}}},s.preventDefault=function(e){e||(e=window.Event),e.preventDefault?e.preventDefault():e.returnValue=!1},s.stopPropagation=function(e){e||(e=window.event),e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble&&(e.cancelBubble=!0)},s.toNumber=function(e){try{var t=parseInt(e,10)}catch(e){return null}return isFinite(t)?t:null},s.setFont=function(e,t,n){if(0!==e.length){if(!s.setFont.style){var i=document.documentElement.appendChild(document.createElement("style"));s.setFont.style=i}if(n){var o=".font-size-changed {font-size:"+t+"px !important;}";s.setFont.style.type="text/css",s.setFont.style.innerHTML=o,e.addClass("font-size-changed");var r=$.makeArray(e.find(" label, a,  p, select, li,textarea, input[type=text], tr, th , div"));_.each(r,function(e){$(e).addClass("font-size-changed")})}else e.addClass(t);!n&&window.itemBehaviors&&window.itemBehaviors.reapplyAll()}},s.exsit=function(e){return"undefined"!=typeof e&&null!==e&&""!==e},s.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}},s.EnterAsClick=function(e){0!==$(e).length&&(s.exsit($(e).attr("tabIndex"))||$(e).attr("tabIndex",0),$(e).bind("keyup",function(t){13!==t.charCode&&13!==t.keyCode||$(e).trigger("click")}))},s.maxSecurityLevel=function(){return TestEngine._isAppMode()?TestEngine.getNativeComponent().isLocked()?1:2:TestEngine.isIdevice()||TestEngine.isChromeOS()?3:1},s.isCat=function(){return!TestEngine.getNavigation().getCurrentSection().isLinear()},s.getNonDefaultPnpToolsFromEngine=function(){for(var e=TestEngine.getTestDefine()&&TestEngine.getTestDefine().getToolsets()||[],t=[],n=[],i=0;i<e.length;i++){n="defaultPnpTools"!==e[i].name?e[i].tools:[];for(var o=0;o<n.length;o++)$.inArray(n[o],t)===-1&&t.push(n[o])}return t},s.doesAccomToolIdExistInTest=function(e,t,n){var i=s.getToolInPNPByToolName(t,n);return null!==i?i.assignedSupport+""=="true":s.doesAccomToolIdExistInTestdef(e)},s.getToolInPNPByToolName=function(e,t){if(t&&t.accessForAllUser&&t.accessForAllUser.displays&&t.accessForAllUser.displays.screenEnhancement)for(var n=t.accessForAllUser.displays.screenEnhancement[0],i=_.keys(n),o=0;o<i.length;o++){var s=n[i[o]];if(e===i[o])return s}return null},s.doesAccomToolIdExistInTestdef=function(e){for(var t=TestEngine.getTestDefine()&&TestEngine.getTestDefine()._sourceJson&&TestEngine.getTestDefine()._sourceJson.accomtools||[],n=0;n<t.length;n++){var i=t[n];if(i===e)return!0}return!1},s.isAndroidApp=function(){return TestEngine.isAndroidApp()},s.isChromeBrowser=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},s.getExtUnsupportedError=function(){return this.isIOS()||this.isAndroidApp()?TN8.errorType.EXTENSION_UNSUPPORTED_APP:TestEngine._isAppMode()||this.isChromeBrowser()?null:TN8.errorType.EXTENSION_UNSUPPORTED_BROWSER},s.object=_.object=function(e,t){if(null==e)return{};for(var n={},i=0,o=e.length;i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},s.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=function(e){return!(!e&&0!==e)&&e},i=e.length;i--;)if(n(e[i])!==n(t[i]))return!1;return!0},s.trimID=function(e){return 0===e.indexOf("interaction_")?e.slice(12):e},s.isNewerSafari=function(e){var t=e.indexOf("version/"),n=e.substring(t+8,e.indexOf(".",t+8)+2);return t!==-1&&(e.indexOf("safari")>=0&&e.indexOf("mac")>=0&&+n>6)},s.addCssLink=function(e,t){var n=TestEngine.getAuthentication().getCurrentForm().getTestSecurityLevel(),i=n<3?TestEngine.getNativeComponent().getSecureLocalUrl():"",t=i+t,o=$("#"+e);o.length>0&&o.remove();var r=function(){TN8.log("util.addCssLink Failed to load "+t,TN8.CRITICAL),n<3&&TN8.EWSController.ewsCallback({errorMsg:"1014",retryFunction:s.addCssLink,retryFunctionArgs:[e,t],details:"addCssLink"})},a=$("<link>");a.on("error",r),a.attr("id",e),a.attr("type","text/css"),a.attr("rel","stylesheet"),a.attr("href",t),a.appendTo($("head"))},s.JSONStringifyCensor=function(e){return JSON.stringify(e,o(e))},s.isLastSection=function(e){return e?!e.getNextSibling():!!TestEngine.getNavigation()&&!TestEngine.getNavigation().getCurrentSection().getNextSibling()},s.getCurrentItemOrder=function(){return window.TestEngine.getNavigation().getNavigator(window.TestEngine.getNavigation().getCurrentSection()).getItemOrder(TestEngine.getNavigation().getCurrentItem().getIdentifier())},s.getResumeSection=function(e){var t,n=e.lastItem,i=window.TestEngine.getNavigation().getCurrentTestPart().getItemById(n);return"string"==typeof n&&i?t=window.TestEngine.getNavigation().getCurrentTestPart().getItemById(n).getParent():TN8.throw("user was trying to resume to "+n+"but seems like that doesnt exist in this test. ",TN8.errorType.RESUME_LOCATION_ERROR),t},s.checkIdInTestdef=function(e){var t=TestEngine.getNavigation().getCurrentTestPart(),n=t.getSectionByItemId(e);return void 0!==n||(TN8.throw("Trying to navigate to item "+e+" but it doesn't exist in the current test part.",TN8.errorType.INVALID_ID_FOR_TESTDEF),!1)},s.checkIdInCurrentSection=function(e){var t=TestEngine.getNavigation().getCurrentSection(),n=t.getChildById(e);return!!n||(TN8.throw("Trying to navigate to item "+e+" but it doesn't exist in the current section.",TN8.errorType.INVALID_ID_FOR_SECTION),!1)},s.isTouchDevice=function(){return!!("ontouchstart"in window||navigator.maxTouchPoints>0)},s.getConvertedLanguage=function(){var e=window.navigator.userLanguage||window.navigator.language;if("string"==typeof e)return e.split("-")[0]},s.getSBACKeywordLanguages=function(){return{en:"English",es:"Spanish",so:"Somali",hmn:"Hmong",ar:"Arabic",yue:"Cantonese",cmn:"Mandarin",ht:"Haitian Creole",kar:"Karen",km:"Khmer",ko:"Korean",lo:"Lao",om:"Oromo",pa:"Punjabi",ru:"Russian",tl:"Tagalog",uk:"Ukranian",vi:"Vietnamese",my:"Burmese"}},window.TN8.fnOn=function(e,t){$(document).off(e,t).on(e,t)},window.TN8.fnOne=function(e,t){$(document).off(e,t).one(e,t)},window.TN8.clearOn=function(e,t){$(document).off(e).on(e,t)},window.TN8.clearOne=function(e,t){$(document).off(e).one(e,t)},s.createRebasedCss=function(e,t,n){var i=e.split("_")[0],o=TN8.baseUrl+t+i+".css";$("<link>",{id:e+"_rebased",rel:"stylesheet",type:"text/css",href:o}).on("load",function(){$("#"+e).remove(),n()}).on("error",function(){$('link[id="'+e+'_rebased"]').remove(),TN8.log("test.reloadCSS calling ewsCallback 1014 - "+o,TN8.CRITICAL),TN8.EWSController.ewsCallback({errorMsg:"1014",retryFunction:TN8.utils.createRebasedCss,retryFunctionArgs:[e,t,n],details:"reloadCSS"})}).appendTo("head")},s.reverseRebasedCss=function(e,t){e.split("_")[0];$("<link>",{id:e,rel:"stylesheet",type:"text/css",href:t}).on("load",function(){$("#"+e+"_rebased").remove()}).on("error",function(){$('link[id="'+e+'"]').remove()}).appendTo("head")},s.getViewPortSize=function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},s.isIOS=function(){return TestEngine.isWebView()&&TestEngine.isIdevice()},s.isAimsWeb=function(){var e=TestEngine&&TestEngine.getTestDefine();return e&&e.getChrome&&e.getChrome()&&"aimsweb"===e.getChrome().toLowerCase()},s.getLastItemId=function(){var e=TestEngine.getNavigation().getCurrentSection().getAssessmentItemRefs().length;return TestEngine.getNavigation().getCurrentSection().getAssessmentItemRefs()[e-1].getIdentifier()},s.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},s.isStrInteger=function(e){return e===parseInt(e,10).toString()},s.getChrome=function(){return TestEngine&&TestEngine.getTestDefine()&&TestEngine.getTestDefine().getChrome()},s.isK2=function(){return!!s.getChrome()&&"k-2"===s.getChrome().toLowerCase()},s.escapeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},s.headerScroll=function(){if(document.activeElement&&document.activeElement===this){var e=$(".navbar").height()-document.activeElement.getBoundingClientRect().top;e>0&&(document.documentElement.scrollTop-=e+10)}},s.addFTListener=function(){$(document).off("inform.loadingHidden",s.focusFirstTabbable).one("inform.loadingHidden",s.focusFirstTabbable)},s.focusFirstTabbable=function(){setTimeout(function(){$("#firstTabbable").focus()},10),s.removeFTListener()},s.removeFTListener=function(){$(document).off("inform.loadingHidden",s.focusFirstTabbable)},s.rePaint=function(){if($.isIdevice()&&0==$("html.pane-scrolling").length){var e=$("body");e.css("padding-top","101px"),setTimeout(function(){e.css("padding-top","100px")},50)}},s.attachRepaintForIDevice=function(){$.isIdevice()&&$(document).on("do.WindowRepaint",this.rePaint)},s.isMicCheckOn=function(){var e=this.getNonDefaultPnpToolsFromEngine();return e.indexOf(18)!==-1},s.isDynamicTTSOn=function(){var e=t.checkForDynamicTTS();if(e===!1)return!1;var n=this.getNonDefaultPnpToolsFromEngine().indexOf(26)!==-1,i=TestEngine.getTestDefine().isDynamicTTS();return n||i||e},s.supportsDynamicTTS=function(){var e=this.detectBrowser(),t=this.detectOs(),n=TestEngine._isAppMode()&&(TestEngine.isWindows()||"mac"==t),i=!!TestEngine.isChromeApp()||n,o=(TestEngine.isWindows()||"mac"===t)&&("chrome"===e||"safari"===e||"ff"===e);return i||o},s.attachRepaintForIDevice(),$(document).off("perform.addFTListener",s.addFTListener).on("perform.addFTListener",s.addFTListener),$(document).off("perform.removeFTListener",s.removeFTListener).on("perform.removeFTListener",s.removeFTListener),s}),define("text",["module"],function(e){"use strict";var t,n,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r="undefined"!=typeof location&&location.href,a=r&&location.protocol&&location.protocol.replace(/\:/,""),l=r&&location.hostname,c=r&&(location.port||void 0),u=[],d=e.config&&e.config()||{};return t={version:"2.0.3",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=i[t];try{e=new ActiveXObject(n)}catch(e){}if(e){i=[n];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),i=e.substring(0,n),o=e.substring(n+1,e.length);return n=o.indexOf("!"),n!==-1&&(t=o.substring(n+1,o.length),t="strip"===t,o=o.substring(0,n)),{moduleName:i,ext:o,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,o){var s,r,a,l=t.xdRegExp.exec(e);return!l||(s=l[2],r=l[3],r=r.split(":"),a=r[1],r=r[0],!(s&&s!==n||r&&r.toLowerCase()!==i.toLowerCase()||(a||r)&&a!==o))},finishLoad:function(e,n,i,o){i=n?t.strip(i):i,d.isBuild&&(u[e]=i),o(i)},load:function(e,n,i,o){if(o.isBuild&&!o.inlineText)return void i();d.isBuild=o.isBuild;var s=t.parseName(e),u=s.moduleName+"."+s.ext,h=n.toUrl(u),p=d.useXhr||t.useXhr;!r||p(h,a,l,c)?t.get(h,function(n){t.finishLoad(e,s.strip,n,i)},function(e){i.error&&i.error(e)}):".js"===s.ext?n([u],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,i)}):t.get(h,function(n){t.finishLoad(e,s.strip,n,i)},function(e){i.error&&i.error(e)})},write:function(e,n,i,o){if(u.hasOwnProperty(n)){var s=t.jsEscape(u[n]);i.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,i,o,s){var r=t.parseName(n),a=r.moduleName+"."+r.ext,l=i.toUrl(r.moduleName+"."+r.ext)+".js";t.load(a,i,function(n){var i=function(e){return o(l,e)};i.asModule=function(e,t){return o.asModule(e,l,t)},t.write(e,a,i,s)},s)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),t.get=function(e,t){var i=n.readFileSync(e,"utf8");0===i.indexOf("\ufeff")&&(i=i.substring(1)),t(i)}):"xhr"===d.env||!d.env&&t.createXhr()?t.get=function(e,n,i){var o=t.createXhr();o.open("GET",e,!0),d.onXhr&&d.onXhr(o,e),o.onreadystatechange=function(t){var s,r;4===o.readyState&&(s=o.status,s>399&&s<600?(r=new Error(e+" HTTP status: "+s),r.xhr=o,i(r)):n(o.responseText))},o.send(null)}:("rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(t.get=function(e,t){var n,i,o="utf-8",s=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),o)),l="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=a.readLine());)n.append(r),n.append(i);l=String(n.toString())}finally{a.close()}t(l)}),t}),define("text!tpl/initCombined.html",[],function(){return'\n\n<script type="text/template" id="header_navigation">\n\t    <div id="grpNP" role="navigation" class="btn-group">\n    \t    <button aria-label="<%= $.i18n.t(\'header:previous\') %>" data-toggle="tooltip" type="button" id="btnPrevious" class="btn <%= btnPrevState%> <%if(isK2) { %> k2-nav k2-btnPrev <% } %>" <% if (btnPrevState!=="disabled"){%>title="<%= $.i18n.t(\'header:previous\') %>" <% } %>><i role="presentation" class="icon-arrow-left"></i></button>\n    \t\t<button aria-label="<%= $.i18n.t(\'header:next\') %>" data-toggle="tooltip" type="button" id="btnNext" class="btn <%= btnNextState%> <%if(isK2) { %> k2-nav k2-btnNext <% } %>" <% if(btnNextState!=="disabled"){%>title="<%= $.i18n.t(\'header:next\') %>" <% } %>><i role="presentation" class="icon-arrow-right"></i></button>\n\t    </div>\n        <% if(headerMode === 1 && itemFeedback ) { %>\n        <button  aria-label="<%= $.i18n.t(\'checkAnswer:checkAnswer\') %>" id="btnCheckAnswer" class="btn btn-default disabled" title="<%= $.i18n.t(\'checkAnswer:checkAnswer\') %>" data-toggle="tooltip"><span class="lang<%= $.i18n.lng()%>"></span><p><%= $.i18n.t(\'checkAnswer:checkAnswer\') %></p></button>\n        <% } %>\n        <div id="overviewContainer">\n            <% if(btnShowOverview === \'disabled\') { %>\n           <div  class="disabled" id="btnOverview"><button aria-label="<%= $.i18n.t(\'header:testOverview\') %>" title="<%= $.i18n.t(\'header:testOverview\') %>" data-toggle="tooltip" class="btn disabled btn-default btn-tn8-review" type="button" aria-expanded="true"><span><%= $.i18n.t(\'generalWords:review\') %></span><i role ="presentation" class="icon-list-ul"></i></button></div>\n            <% } else { %>\n            <div  class="<%=btnShowOverview%>" id="btnOverview"><button aria-label="<%= $.i18n.t(\'header:testOverview\') %>" title="<%= $.i18n.t(\'header:testOverview\') %>" data-toggle="tooltip" class="btn btn-default btn-tn8-review" type="button"><span><%= $.i18n.t(\'generalWords:review\') %></span><i role ="presentation" class="icon-list-ul"></i></button></div>\n            <% } %>\n        <button role="checkbox" aria-checked="false" aria-label="<%= $.i18n.t(\'header:bookmarkMsg\') %>" data-toggle="tooltip" id="btnFlagForReview" class="btn <%= btnShowFlag%>" title="<%= $.i18n.t(\'header:bookmarkMsg\') %>"><span class="bookmark-btn-sprite lang<%= $.i18n.lng()%>"></span><p><%= $.i18n.t(\'header:bookmark\') %></p></button>\n        </div>\n</script>\n\n\n<script type="text/template" id="header_epat_report">\n    <div class="tn8-logo pull-left" style="margin-right:90px;"><span class="visuallyhidden">testnav logo</span></div>\n    <% if(btnShowOverview === \'disabled\') { %>\n    <div class="pull-left disabled" id="btnOverview"><button title="<%= $.i18n.t(\'header:testOverview\') %>" data-toggle="tooltip" class="btn disabled btn-default btn-tn8-review" type="button" aria-expanded="true"><span><%= $.i18n.t(\'generalWords:review\') %></span><i role ="presentation" class="icon-list-ul"></i></button></div>\n    <% } else { %>\n    <div class="pull-left <%=btnShowOverview%>" id="btnOverview"><button title="<%= $.i18n.t(\'header:testOverview\') %>" data-toggle="tooltip" class="btn btn-default btn-tn8-review" type="button"><span><%= $.i18n.t(\'generalWords:review\') %></span><i role ="presentation" class="icon-list-ul"></i></button></div>\n    <% } %>\n</script>\n\n<script id="appUpdateError" type="text/template">\n    <div class="account-container" style="width:500px;" >\n        <h2><%=  $.i18n.t("errorMessages:softwareUpdate") %></h2>\n        <div class="alert alert-block" aria-live="assertive" style="color:black;background-color: rgb(255, 239, 191);">\n            <p>\n                <i class="icon-exclamation-sign"></i>\n                <%=  $.i18n.t("errorMessages:softwareUpdateMsg") %>\n            </p>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="header_right">\n    <div id="header_right" class="pull-right <% if(isK2) { %> k2-userDropdown <% } %>">\n\t\t<div id="userContainer">\n\t\t\t<div id="userName" aria-hidden="true">\n\t\t\t\t<span><%= this.getUserDisplayName() %></span>\n\t\t\t</div>\n\t\t</div>\n    </div>\n</script>\n\n\n<script type="text/template" id="header_toolbar">\n    <div id="grpTools" aria-label="toolbar" class="btn-toolbar pull-left">\n        <div id="drawingToolBar" class="btn-group"></div>\n    </div>\n</script>\n\n<script type="text/template" id="header_overviewback">\n    <% if(headerMode ===2) { %>\n    <div id="btnOverviewBackItem" aria-label="<%= overviewReturnLabel %>" data-toggle="tooltip" title="<%= overviewReturnLabel %>" class="btn btn-primary pull-left" role="button" tabindex="0"><i role="presentation" class="tn8-icon-back"></i> <%= overviewReturnLabel %></div>\n    <% } else { %>\n    <div class="tn8-logo"><span class="visuallyhidden">testnav logo</span></div>\n    <% } %>\n</script>\n\n\n<script type="text/template" id="header_userdropdown">\n    <div id="userMenu" class="btn-group" title="<%= $.i18n.t(\'userDropDown:userDropDown\') %>">\n        <button id="menuDrop"  aria-haspopup="true" aria-expanded="false" aria-label="<%= $.i18n.t(\'header:openUserDropDown\') %>" class="btn dropdown-toggle" data-toggle="dropdown">\n                <i role="presentation" class="icon-user"></i>\n                <span role="presentation" class="caret"></span>\n        </button>\n        <ul id="userMenuDropDown" class="dropdown-menu pull-right" role="menu"></ul>\n    </div>\n</script>\n\n<script type="text/template" id="header_userdropdown_item">\n    <a id="<%=id%>" href="#" role="menuitem" tabindex="-1" aria-label="<%=title%>"><%=label%></a>\n</script>\n\n<script type="text/template" id="header_userdropdown_divider">\n    <li style="display:block" class="divider"></li>\n</script>\n\n<script type="text/template" id="header_crumbtrail">\n    <div class="container subheader" role="toolbar" aria-hidden="true">\n        <ul class="breadcrumbs unselectable">\n        </ul>\n    </div>\n</script>\n\n<script type="text/template" id="logintemplate">\n    <h1 id="itemCanvasTitle" class="sr-only visuallyhidden" tabindex="-1"><%= $.i18n.t(\'generalWords:signin\')%></h1>\n    <div class="account-container" >\n    <form id="loginForm" autocomplete="off" accept-charset="utf-8">\n\n        <div class="tn8-main-logo">\n            <span class="visuallyhidden">testnav logo</span>\n        </div>\n        <div class="customer-name-container" id="customerName"></div>\n    <div class="login-fields clearfix">\n        <div class="field username-div">\n            <input aria-label="<%= $.i18n.t(\'login:yourUsername\')%>" type="text" id="email" name="email" autocapitalize="none" autocomplete="off" spellcheck="false" placeholder="<%=  $.i18n.t(\'login:username\') %>" class="login username-field "/>\n        </div>\n        <div class="field password-div">\n            <input aria-label="<%= $.i18n.t(\'login:yourPassword\')%>" type="password" id="password" name="password" autocomplete="off" spellcheck="false" placeholder="<%= $.i18n.t(\'login:password\') %>" class="login password-field" data-i18n="nav.home"  />\n            <button class="icon-eye-close" id="showPassword" title="<%= $.i18n.t(\'login:showPassword\')%>" type="button" aria-label="<%= $.i18n.t(\'login:showPassword\')%>" tabindex="0" role="button"></button>\n        </div>\n        <div class="login-actions">\n            <button id="btnLogin" type="submit" class="button btn btn-primary btn-large" style="float: right;"><%= $.i18n.t(\'signin\') %></button>\n        </div>\n        <ul class="sign-in-extras">\n            <li>\n                <a id="audio_test_button" href="#" role="button" aria-label="<%= $.i18n.t(\'login:playAudioTest\')%>" tabindex="0" style="display:inline-block;">\n                    <i class="icon-volume-up" role="presentation"></i>\n                    <%=  $.i18n.t(\'login:testAudio\') %>\n                    <div id="audio-sources"></div>\n                </a>\n            </li>\n            <li>\n                <a id="practice_test_link" href="#" role="button" aria-label="" tabindex="0" style="display:none">\n                    <i class=" icon-pencil" role="presentation">&#xe902;</i>\n                </a>\n            </li>\n        </ul>\n        <div class="hidden" id="login-error">\n            <div class="alert alert-block alert-error fade in" role="alert">\n                <button type="button" role="button" class="close" data-dismiss="alert" aria-label="<%= $.i18n.t(\'login:closeAlert\')%>"><i class="icon-remove" /></button>\n            </div>\n        </div>\n\n    </div>\n    </form>\n    </div>\n\n    <div  class="app-versions-div" >\n        <span id="app-client-version"><%= versions.clientVersion %></span>\n    <div>\n\n</script>\n\n\n\n<script type="text/template" id="audio-sources-template">\n    <audio id="audioTest" style="display:none">\n        <source src="public/sounds/bell.ogg" type="audio/ogg">\n        <source src="public/sounds/bell.mp3" type="audio/mpeg">\n    </audio>\n</script>\n\n<script type="text/template" id="errtemplate">\n    <div id="error-modal" class="modal hide tn8-error-modal" role="dialog" aria-labelledby="error-label" aria-live="assertive">\n        <div class="modal-header">\n            <button type="button" role="button" class="close close-error-modal" data-dismiss="modal" aria-label="<%= $.i18n.t(\'close\')%>" tabindex="0"><i class="icon-remove" /></button>\n            <h2 id="error-label" class="modal-title" aria-hidden="true"><%= $.i18n.t("errorMessages:error")%></h2>\n        </div>\n        <div class="modal-body">\n            <div class="alert alert-error">\n                <p class="modal-msg"></p>\n                <span class="modal-error-code"></span>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-large btn-primary" data-dismiss="modal" aria-label="<%= $.i18n.t(\'close\')%>"></button>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="retryerrtemplate">\n    <div id="error-modal" class="modal hide tn8-error-modal" role="dialog" aria-labelledby="error-label" aria-live="assertive">\n        <div class="modal-header">\n            <h2 id="error-label" class="modal-title" aria-hidden="true"><%= $.i18n.t("errorMessages:error")%></h2>\n        </div>\n        <div class="modal-body">\n            <div class="alert alert-error">\n                <p class="modal-msg"></p>\n                <span class="modal-error-code"></span>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <button class="btn btn-large btn-primary retryBtn" data-dismiss="modal" aria-label="<%= $.i18n.t(\'retry\')%>"></button>\n        </div>\n    </div>\n</script>\n\n\n<script type="text/template" id="softstopSection">\n    <div id="softstop-modal" class="modal hide" aria-live="assertive" role="dialog" aria-labelledby="error-label" aria-hidden="true">\n        <div class="modal-header">\n            <h1 id="error-label" class="modal-title" aria-hidden="true"><%=$.i18n.t("timeoutModal:timeExpired")%></h1>\n        </div>\n        <div class="custom-modal-body modal-body">\n            <h4 class="text-error">\n                <i class="icon-exclamation-sign" role="presentation"></i>\n                <%=$.i18n.t("timeoutModal:warnContinueEnd")%>\n            </h4>\n            <p><%=$.i18n.t("timeoutModal:selectContinue")%> <%=$.i18n.t("timeoutModal:sectionNoReturn")%></p>\n            <div class="submitBtnContainer"  >\n                <button class="btn soft-modal-button btn-success" aria-label="continue to next section" id="btn-exit"><%=$.i18n.t("generalWords:continue")%></button>\n            </div>\n            <div><button class="btn btn-link" id="proctorbtn"><%=$.i18n.t("timeoutModal:proctorOnly")%></button></div>\n\n        </div>\n        <div class="modal-footer" id="timeout-footer" style="display:none;">\n            <table class="fullWidth">\n                <tbody>\n                <tr>\n                    <td class="middle pad04 compress" id="timingOptsCol">\n                        <div id="extendedTimeTxt"><%=$.i18n.t("timeoutModal:extendTestTime")%></div>\n                        <div id="timingopts"  style="display:none;">\n                            <div id="unlimited-wrapper">\n                                <input id="unlimited-radio" type="radio" name="timeopts" value="unlimited" >\n                                <label for="unlimited-radio"><%=$.i18n.t("timeoutModal:untimed")%></label>\n                            </div>\n                            <div id="wrapper-spacer"></div>\n                            <div id="timed-wrapper">\n                                <input id="timed-radio" type="radio" name="timeopts" value="timed" checked="checked">\n                                <label for="timed-radio"><%=$.i18n.t("timeoutModal:timed")%></label>\n                                <input  id=\'timeMins\' type="text" autocomplete="off" maxlength="3"/>\n                            </div>\n                        </div>\n                    </td>\n                    <td  style="width:22%" align="center" id="proctorPassCol">\n                        <input aria-label="<%= $.i18n.t(\'timeoutModal:enterProctorPassword\')%>" id=\'proctorCode\' type="text" name="password" autocomplete="off" maxlength=\'10\'/>\n                    </td>\n                    <td class="span3 center pad04" style="width:20%; height:40px;">\n\t\t\t\t\t\t<button class="btn btn-small footer-modal-button section-review disabled" aria-label="<%= $.i18n.t(\'timeoutModal:proctorContinue\')%>" id="btn-proctor-auth" disabled><%=$.i18n.t("generalWords:continue")%></button>\n                        <button class="btn btn-small footer-modal-button section-review disabled" aria-label="<%= $.i18n.t(\'timeoutModal:proctorContinue\')%>" id="btn-extend-time" style="display: none;" disabled><%=$.i18n.t("generalWords:continue")%></button>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n            <div class="alert timeModalError" id=\'softError\' style="display: none;">\n                <p class="modal-msg"><%=$.i18n.t("errorMessages:3085")%></p>\n                <span class="time-modal-error-code"><%=$.i18n.t("errorMessages:msg")%> 3085</span>\n            </div>\n            <div class="alert timeModalError" id=\'invalidError\' style="display: none;">\n                <p class="modal-msg"><%=$.i18n.t("errorMessages:3116")%></p>\n                <span class="time-modal-error-code"><%=$.i18n.t("errorMessages:msg")%> 3116</span>\n            </div>\n        </div>\n    </div>\n</script>\n\n\n<script type="text/template" id="softstopTest">\n    <div id="softstop-modal" class="modal hide" aria-live="assertive" role="dialog" aria-labelledby="error-label" aria-hidden="true">\n        <div class="modal-header">\n            <h1 id="error-label" class="modal-title" aria-hidden="true"><%=$.i18n.t("timeoutModal:timeExpired")%></h1>\n        </div>\n        <div class="custom-modal-body modal-body">\n            <h4 class="text-error">\n                <i class="icon-exclamation-sign" role="presentation"></i>\n                <%=$.i18n.t("timeoutModal:endTestWarning")%>\n            </h4>\n            <p><%=$.i18n.t("timeoutModal:selectSubmit")%></p>\n            <div class="submitBtnContainer"  >\n                <button class="btn soft-modal-button btn-success" aria-label="<%=$.i18n.t(\'timeoutModal:submitBtnText\')%>" id="btn-submit"><%=$.i18n.t("timeoutModal:submitBtnText")%></button>\n            </div>\n            <div><button class="btn btn-link" id="proctorbtn"><%=$.i18n.t("timeoutModal:proctorOnly")%></button></div>\n\n        </div>\n        <div class="modal-footer" id="timeout-footer" style="display:none;">\n            <table class="fullWidth">\n                <tbody>\n                <tr>\n                    <td class="middle pad04 compress" id="timingOptsCol" aria-live="off">\n                        <div id="extendedTimeTxt"><%=$.i18n.t("timeoutModal:extendTestTime")%></div>\n                        <div id="timingopts"  style="display:none;" role="radiogroup">\n                            <div id="unlimited-wrapper">\n                                <input aria-label="Untimed" id="unlimited-radio" type="radio" name="timeopts" value="unlimited" >\n                                <label for="unlimited-radio"><%=$.i18n.t("timeoutModal:untimed")%></label>\n                            </div>\n                            <div id="wrapper-spacer"></div>\n                            <div id="timed-wrapper">\n                                <input aria-label="Enter time (minutes)" id="timed-radio" type="radio" name="timeopts" value="timed" checked="checked">\n                                <label for="timed-radio"><%=$.i18n.t("timeoutModal:timed")%></label>\n                                <input aria-label="Enter time (minutes)" id=\'timeMins\' type="text" autocomplete="off" maxlength="3"/>\n                            </div>\n                        </div>\n                    </td>\n                    <td  style="width:22%" align="center" id="proctorPassCol" aria-live="off">\n                        <input aria-label="<%= $.i18n.t(\'timeoutModal:enterProctorPassword\')%>" id=\'proctorCode\' type="text" name="password" autocomplete="off" maxlength=\'10\'/>\n                    </td>\n                    <td class="span3 center pad04" style="width:20%; height:40px;">\n                        <button class="btn btn-small footer-modal-button section-review disabled" aria-label="<%= $.i18n.t(\'timeoutModal:proctorContinue\')%>" id="btn-proctor-auth" disabled><%=$.i18n.t("generalWords:continue")%></button>\n                        <button class="btn btn-small footer-modal-button section-review disabled" aria-label="<%= $.i18n.t(\'timeoutModal:proctorContinue\')%>" id="btn-extend-time" style="display: none;" disabled><%=$.i18n.t("generalWords:continue")%></button>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n            <div class="alert timeModalError" id=\'softError\' style="display: none;" aria-live="assertive">\n                <p class="modal-msg"><%=$.i18n.t("errorMessages:3085")%></p>\n                <span class="time-modal-error-code"><%=$.i18n.t("errorMessages:msg")%> 3085</span>\n            </div>\n            <div class="alert timeModalError" id=\'invalidError\' style="display: none;" aria-live="assertive">\n                <p class="modal-msg"><%=$.i18n.t("errorMessages:3116")%></p>\n                <span class="time-modal-error-code"><%=$.i18n.t("errorMessages:msg")%> 3116</span>\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="extensionstemplate">\n    <h1 id="itemCanvasTitle" class="sr-only visuallyhidden" tabindex="-1"><%= $.i18n.t(\'extension:extensionHeaderLabel\')%></h1>\n    <div id="extensions" style="text-align:center;">\n        \n        <div id= "extensionInstall" >\n            <h1><%=$.i18n.t("extension:selectExtLabel")%></h4>\n            <br/>\n            <br/>\n            <div id="extensionsCont" class = "extensionCont" style ="display:block;">\n\n            </div>\n            <br/>\n            <br/>\n        </div>\n\n        <div id="extInstComplete" class = "extensionCont" style ="display:none;">\n            <h1><%=$.i18n.t("extension:successLabel")%></h4>\n            <span id="successmsg"> <%=$.i18n.t("extension:extAddedLabel")%></span>\n            <br/>\n            <br/>\n            <span>  <%=$.i18n.t("extension:extWhatNextLabel")%></span>\n            <div>\n                <button id= "addExtension" class="btn"><%=$.i18n.t("extension:addMoreExtLabel")%></button>\n            </div>\n            <br/>\n            <br/>\n        </div>\n        <button id="extContinue" class="btn btn-primary"><%=$.i18n.t("extension:extContineTestLabel")%></button>\n    </div>\n</script>\n\n<script type="text/template" id="extensionsviewtemplate">\n    <div id="extensionsView" style="display:none;position:absolute;">\n       \n    </div>\n</script>\n\n<script type="text/template" id="extensiontemplate">\n    <div class="extDetailsCont">\n        <div class="extNameCont" >\n            <span class="extName" ></span>\n        </div>\n        <br/>\n        <div class=".extAuthCont">\n            <span class = "author"></span>\n        </div>\n        <br/>\n        <div class = "extDescrCont" >\n            <span class = "description" ></span>\n        </div>\n    </div>\n</script>\n';
}),define("tools/version",["text!tpl/initCombined.html"],function(e){var t={template:_.template($(e).filter("#appUpdateError").html()),checkClient:function(e,t,n,i){function o(){t(),i&&i()}function s(){n(),i&&i()}var r=TN8.Application.clientVersion,a=function(t,n,i){TN8.log("Version Headers : "+i.getAllResponseHeaders(),TN8.CRITICAL),r!==t&&r!==["empty","ClientVersion"].join("")?(TN8.log("New Client Version - Actual: "+r+" Expected: "+t,TN8.CRITICAL),o()):(TN8.sessionStart=new Date,e())},l=function(e,t){TN8.log("Version URL : "+t.url,TN8.CRITICAL)};$.ajax({url:"public/version.txt?refresh="+Date.now(),beforeSend:l,success:a,error:s,timeout:3e4,cache:!1})},check:function(e,n){var i=this;TestEngine.isJXBrowserApp()||TestEngine.isChromeApp()?TestEngine.getNativeComponent().updatesAvailable(function(o){o?($("#home, #userDropdown, #userName").remove(),$("#content").empty().html(i.template),$(document).trigger("tn.loadingModal.off")):t.authenticate(e,n)}):t.authenticate(e,n)},authenticate:function(e,n){var i=new Date;if(i-TN8.sessionStart>6e4||i-TN8.sessionStart<0){var o=TestEngine._isAppMode()?t.availableApp:t.available;t.checkClient(e,o,t.unavailable,n)}else e()},availableApp:function(){TN8.log(TN8.errorType.NEW_VERSION_AVAILABLE_APP+" - New client version available!",TN8.CRITICAL),TN8.throw("",TN8.errorType.NEW_VERSION_AVAILABLE_APP)},available:function(){TN8.log(TN8.errorType.NEW_VERSION_AVAILABLE+" - New client version available!",TN8.CRITICAL),TN8.throw("",TN8.errorType.NEW_VERSION_AVAILABLE,function(){location.href=location.origin+"#version"})},unavailable:function(){TN8.throw("",TN8.errorType.VERSION_UNAVAILABLE)}};return t}),define("globalEvents",["utils"],function(e){var t=function(){$(document).on("contextmenu",function(){var e=document.activeElement;return!(!TestEngine.isAndroidOS()||!e||"text"!=e.type&&"textarea"!=e.type&&!e.isContentEditable)}),$(window).bind("DOMMouseScroll",function(e){if(e.shiftKey||e.altKey)return e.preventDefault(),!1}),$(window).bind("resize",function(){var e=$(window).width(),t=30,n=920;$("#largeModal").width(Math.min(e-2*t,n)),e>n+2*t?$("#largeModal").css("left",(e-n)/2+"px"):$("#largeModal").css("left",t+"px");var i=$(".section-review-items-table")[0];i&&0===$("#review-screen").length&&i.scrollHeight>i.clientHeight?$("#section-review-view-col").width(95):$("#section-review-view-col").width(80);parseInt(window.outerWidth/window.innerWidth*100);require("util/Dispatcher").trigger("Resize")}),window.ondragstart=function(t){var n=$(t.target).data("ui-draggable")||$(t.target).data("draggable");void 0===n&&e.preventDefault(t)},$(window).on("beforeunload",function(){var e=TestEngine.getTestDefine()&&TestEngine.getTestDefine().isPracticeTest(),t=TN8.Application.currentContent;if("login"!==t&&"logout"!==t&&"home"!==t&&"practiceTest"!==t&&e){var n="3"!==TestEngine.getAuthentication().getCurrentForm().getTestSecurityLevel();if(!n)return $.i18n.t("epat:responseMsg")}});var t=null,n=null;document.addEventListener("touchstart",function(e){2==e.touches.length&&(t=e.scale)},!0),document.addEventListener("touchmove",function(e){e.scale;2==e.touches.length&&Math.abs(e.scale-t)>.076&&!n&&(n=!0,$(document).trigger("inform.pinchstart",e))},!0),document.addEventListener("touchend",function(e){n&&(n=!1,$(document).trigger("inform.pinchend",e))},!0)};return{bindWindow:t}}),define("controllers/LanguageController",[],function(){var e=function(){"use strict";return{defaultLang:"en",init:function(e){_.bindAll(this,"testStarted","userLogout"),e=e||{},this.setProgramOverride(e.programOverride),this.setSupportedLangs(e.supportedLanguages),this.startListeners()},startListeners:function(){TN8.log("LanguageController.startListeners  ",TN8.CRITICAL),$(document).off("inform.startTestRendering inform.childWindowStarting",this.testStarted).on("inform.startTestRendering inform.childWindowStarting",this.testStarted),$(document).off("cleanup.betweenTest perform.loginCookieCleanup",this.userLogout).on("cleanup.betweenTest perform.loginCookieCleanup",this.userLogout)},destroyListeners:function(){TN8.log("LanguageController.destroyListeners  ",TN8.CRITICAL),$(document).off("inform.childWindowStarting",this.testStarted),$(document).off("inform.startTestRendering",this.testStarted),$(document).off("cleanup.betweenTest perform.loginCookieCleanup",this.userLogout)},testStarted:function(e,t){TN8.log("LanguageController.testStarted  ",TN8.CRITICAL),this.setUserStatus(!0),this.setPNP(t),this.adjustTranslationLanguage()},userLogout:function(){TN8.log("LanguageController.userLogout  ",TN8.CRITICAL),delete this.pnpLang,delete this.settingLang,this.setUserStatus(!1),this.adjustTranslationLanguage()},setUserStatus:function(e){this.isInTest=e},adjustTranslationLanguage:function(){var e=this.getLanguage();TN8.log("LanguageController.adjustTranslationLanguage :  "+e,TN8.CRITICAL),$.i18n.setLng(e),$(document).trigger("inform.languageChanged")},isTestStarted:function(){return this.isInTest},normalize:function(e){e=this.convertToLangCode(e);var t=this.getSupportedLangs();return $.inArray(e,t)!==-1?e:void 0},convertToLangCode:function(e){if("string"==typeof e)return e.split("-")[0]},getFirstAvailable:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n=this.normalize(n))return n}},setSupportedLangs:function(e){e?this.supportedLangs=e:this.supportedLangs=[this.defaultLang]},setProgramOverride:function(e){e&&(this.programOverride=e)},setSettingLang:function(e){e&&(this.settingLang=e)},setPNP:function(e){TN8.log("LanguageController.setPNP  ",TN8.CRITICAL);try{var t=JSON.parse(e.pnp);this.pnpLang=t.accessForAllUser.displays.language.languageOfInterface}catch(e){TN8.log("LanguageController.setPNP : No Language set in PNP",TN8.CRITICAL)}},getSupportedLangs:function(){return this.supportedLangs},getPNP:function(){return this.pnpLang},getSettingLang:function(){return this.settingLang},getSystemLocale:function(){return this.convertToLangCode(window.navigator.userLanguage||window.navigator.language)},getProgramOverride:function(){return this.programOverride},getLangWithParam:function(e,t,n,i){var o;return o=this.isTestStarted()?this.getFirstAvailable([i,n,t,e,this.defaultLang]):this.getFirstAvailable([t,e,this.defaultLang])},getLanguage:function(){var e=this.getSystemLocale(),t=this.getProgramOverride(),n=this.getPNP(),i=this.getSettingLang();return this.getLangWithParam(e,t,n,i)}}};return e()}),define("views/ErrorModalView",["javascripts/backbone-min","text!tpl/initCombined.html"],function(e,t){"use strict";return e.View.extend({initialize:function(e){return $.extend(this,e),this.render()},render:function(){$(document).trigger("tn.loadingModal.off"),$(this.modalId).modal("hide").tabRing("off").remove();var e=_.template($(t).filter(this.template).html()),n=e();this.setElement(n),this.createModal(),this.showModal(),$(this.modalId).on("hidden.bs.modal",$.proxy(this.onHiddenHandler,this)),$(document).trigger("tn.error.modal.on");var i=this;return $(".close-error-modal").on("keydown",function(e){13===e.keyCode&&i.removeModal()}),this},_handleDeepZoomStatus:function(e){e&&this._doDeepZoomCoupling()},_doDeepZoomCoupling:function(){var e=this;e.extensionContext?$.proxy(e.extensionContext._doDeepZoomCoupling(),e.extensionContext):$(document).trigger("deepZoomLayer.setCoupling",{title:$("#error-label").text(),html:e.modalId,hideCallback:$.proxy(e.removeModal,e),closeButtons:["button"]})},createModal:function(){$(".btn-primary",this.el).attr({id:this.btnSelector,"aria-label":this.btnTxt}).text(this.btnTxt),$(".modal-msg",this.el).html(this.msg),$(".modal-error-code",this.el).text($.i18n.t("errorMessages:msg")+" "+this.errorType)},showModal:function(){this.$el.modal({backdrop:"static",keyboard:!1,show:!0}).tabRing(),$(document).trigger("deepZoomLayer.getStatus",$.proxy(this._handleDeepZoomStatus,this)),$(document).off("deepZoomLevel.enter",$.proxy(this._doDeepZoomCoupling,this)).on("deepZoomLevel.enter",$.proxy(this._doDeepZoomCoupling,this))},onHiddenHandler:function(){$(document).off("deepZoomLevel.enter",$.proxy(this._doDeepZoomCoupling,this)),this.onHideHandlerCallback&&this.onHideHandlerCallback()},removeModal:function(){this.$el.modal("hide").tabRing("off").remove()}})}),define("text!tpl/error-pages.html",[],function(){return'<script type="text/template" id="error-pages-empty-tpl">\n\n    <div id="header" class="navbar navbar-fixed-top">\n    <div class="navbar-inner">\n        <div class="container">\n            <div class="tn8-logo"><span class="visuallyhidden">testnav logo</span></div>\n            <div id="userDropdown" class="btn-toolbar pull-right">\n\n            </div>\n\n        </div>\n\n        <div class="container-fluid subheader">\n        </div>\n    </div>\n</div>\n<div id="main_panel" >\n    <div class="container">\n        <div id="content" >\n        </div>\n    </div>\n</div>\n\n</script>\n\n<script type="text/template" id="tpl-general">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto; text-align: center;">\n                <h4><%= $.i18n.t("errorMessages:msg") %> <%= errorType %>: <%= msg %></h4>\n            </div>\n            <div  class="center" style="text-align: center;margin: 18px auto 0 auto; ">\n                <%= $.i18n.t("rightsReserved") %>\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="tpl-3101">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto; text-align: center;">\n                <h4>Msg 3101: A necessary file can not be loaded and TestNav can not continue.</br>\n                    If you are on the web, please refresh the page.</br>\n                    If you are in the app, please exit this application.</h4>\n            </div>\n            <div  class="center" style="text-align: center;margin: 18px auto 0 auto; ">\n                &copy; TestNav. All rights reserved.\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="tpl-3135">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto; text-align: center;">\n                <h4>Msg 3135: A necessary file can not be loaded and TestNav can not continue.</br>\n                    If you are on the web, please refresh the page.</br>\n                    If you are in the app, please exit this application.</h4>\n            </div>\n            <div  class="center" style="text-align: center;margin: 18px auto 0 auto; ">\n                &copy; TestNav. All rights reserved.\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="tpl-3106">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto;">\n                <h4 id="wrongOS-h"></h4>\n            </div>\n            <div class="testcommence-container clearfix" style="margin:28px auto;">\n                <table class="fullWidth bordered gradient round4">\n                    <tbody>\n                        <tr>\n                            <td class="pad8" style="width:50%;">\n                                <p id="osVersion-p"></p>\n                                <p id="admin-p"></p>\n                                <p><span id="browserDetected-s"></span></p>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div  id="rightsReserved-div" class="center" style="text-align: center;margin: 18px auto 0 auto; "></div>\n        </div>\n    </div>\n    <script>\n        (function(){\n            $("#wrongOS-h").html($.i18n.t("errorMessages:error") + " 3106: " + $.i18n.t("errorMessages:3106"));\n            $("#osVersion-p").html($.i18n.t("errorPages:osVersionMessage"));\n            $("#browserDetected-s").html($.i18n.t("errorPages:browserDetected")).append(\'<br>\', navigator.appVersion);\n            $("#rightsReserved-div").html($.i18n.t("rightsReserved"));\n        })();\n    </script>\n</script>\n\n<script type="text/template" id="tpl-3122">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto;">\n                <h4 id="wrongOS-h"></h4>\n            </div>\n            <div class="testcommence-container clearfix" style="margin:28px auto;">\n                <table class="fullWidth bordered gradient round4">\n                    <tbody>\n                        <tr>\n                            <td class="pad8" style="width:50%;">\n                                <p id="osVersion-p"></p>\n                                <p id="admin-p"></p>\n                                <p><span id="browserDetected-s"></span></p>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div  id="rightsReserved-div" class="center" style="text-align: center;margin: 18px auto 0 auto; "></div>\n        </div>\n    </div>\n    <script>\n        (function(){\n            $("#wrongOS-h").html($.i18n.t("errorMessages:error") + " 3122: " + $.i18n.t("errorPages:wrongOS"));\n            $("#osVersion-p").html($.i18n.t("errorMessages:3122"));\n            $("#browserDetected-s").html($.i18n.t("errorPages:osDetected")).append(\'<br>\', navigator.appVersion);\n            $("#rightsReserved-div").html($.i18n.t("rightsReserved"));\n        })();\n    </script>\n</script>\n\n<script type="text/template" id="tpl-3126">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto;">\n                <h4 id="wrongOS-h"></h4>\n            </div>\n            <div class="testcommence-container clearfix" style="margin:28px auto;">\n                <table class="fullWidth bordered gradient round4">\n                    <tbody>\n                        <tr>\n                            <td class="pad8" style="width:50%;">\n                                <p id="osVersion-p"></p>\n                                <p id="admin-p"></p>\n                                <p><span id="browserDetected-s"></span></p>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div  id="rightsReserved-div" class="center" style="text-align: center;margin: 18px auto 0 auto; "></div>\n        </div>\n    </div>\n    <script>\n        (function(){\n            $("#wrongOS-h").html($.i18n.t("errorMessages:error") + " 3126: " + $.i18n.t("errorPages:wrongOS"));\n            $("#osVersion-p").html($.i18n.t("errorMessages:3126"));\n            $("#browserDetected-s").html($.i18n.t("errorPages:osDetected")).append(\'<br>\', navigator.appVersion);\n            $("#rightsReserved-div").html($.i18n.t("rightsReserved"));\n        })();\n    </script>\n</script>\n\n<script type="text/template" id="tpl-3130">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-error center" style="width:644px;margin:28px auto 18px auto;">\n                <h4 id="micError-h"></h4>\n            </div>\n            <div class="testcommence-container clearfix">\n                <table class="fullWidth bordered gradient round4">\n                    <tbody>\n                        <tr>\n                            <td class="pad8" style="text-align:center;">\n                                <span style="position:relative;top:14px;margin-right:10px;"><i class="icon-exclamation-sign" style="color:rgb(185,74,72);font-size: 60px"></i></span>\n                                <p id="micError-p" style="display: inline-block;"></p>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div id="rightsReserved-div" class="center" style="text-align: center;margin: 18px auto 0 auto; "></div>\n        </div>\n    </div>\n    <script>\n        (function(){\n            $("#micError-h").html($.i18n.t("errorMessages:error") + " 3130");\n            $("#micError-p").html($.i18n.t("errorMessages:3130"));\n            $("#rightsReserved-div").html($.i18n.t("rightsReserved"));\n        })();\n    </script>\n</script>\n'}),define("views/ErrorPageView",["javascripts/backbone-min","text!tpl/error-pages.html"],function(e,t){"use strict";return e.View.extend({template:null,emptyErrorPageTpl:null,errorType:null,initialize:function(){_.bindAll(this)},render:function(){var e=$(t).filter("#tpl-"+this.options.errorType);return 0===e.length&&(e=$(t).filter("#tpl-general")),this.template=_.template(e.html()),this.emptyErrorPageTpl=_.template($(t).filter("#error-pages-empty-tpl").html()),$("body").empty().html(this.emptyErrorPageTpl()),$("#content").html(this.template(this.options)),this}})}),define("controllers/ApplicationStatusController",[],function(){"use strict";var e=function(){function e(e,t){u[e]=t}function t(e,t){a(e,t,r(e))}function n(e,t,n,i){h[e]={SuccessfulEventCallOut:t,FailureEventCallOut:n,triggerEventFrom:i}}function i(e,t,n){d[e]||(d[e]=[]),d[e].push({className:t,status:n})}function o(e,t){p[e]=t}function s(){return u}function r(e){var t=c(e);if(!t)return!0;for(var n=0;n<t.length;n++){var i=t[n];if(i){var o=i.className,s=i.status;if("number"==typeof u[o]&&u[o]!==s)return!1}}return!0}function a(e,t,n){var i=n?h[e].SuccessfulEventCallOut:h[e].FailureEventCallOut;n||l(e),TN8.log("ApplicationStatusController._triggerEventOut  eventCallOut: "+i,TN8.IMPORTANT);var o=h[e].triggerEventFrom;o.trigger(i,t)}function l(e){window.istanbulTest||TN8.log("ApplicationStatusController._log  actionName: "+e+" conditions: "+JSON.stringify(d[e])+" statusMap: "+JSON.stringify(u),TN8.IMPORTANT)}function c(e){return d[e]}var u={},d={},h={},p=[];return{statusChange:e,execute:t,registerEvent:n,subscribeCondition:i,getStatus:s,subscribeAction:o,actionNames:p}};return new e}),define("controllers/ActionSubscriber",["controllers/ApplicationStatusController"],function(e){"use strict";var t=function(){function t(t,n){e.subscribeAction(t,n)}t("TurnOffModal","TurnOffModal"),t("TurnOnModal","TurnOnModal"),t("TurnOnProgressModal","TurnOnProgressModal"),t("TurnOffProgressModal","TurnOffProgressModal"),t("EWSShow","EWSShow"),t("SaveItemResponse","SaveItemResponse"),t("FetchSuccess","FetchSuccess"),t("NavigateNext","NavigateNext"),t("NavigatePrev","NavigatePrev"),t("NavigateTo","NavigateTo"),t("NavigateSubmitTest","NavigateSubmitTest"),t("NavigateLoadNextSection","NavigateLoadNextSection"),t("NavigateAvailableParts","NavigateAvailableParts"),t("startItemTimer","startitemTimer"),t("resumeItemTimer","resumeitemTimer"),t("startReviewTimer","startreviewTimer"),t("resumeReviewTimer","resumereviewTimer"),t("startUserDropdownTimer","startuserDropdownTimer"),t("resumeUserDropdownTimer","resumeuserDropdownTimer"),t("startContrastTimer","startcontrastTimer"),t("resumeContrastTimer","resumecontrastTimer"),t("startLogoutTimer","startlogoutTimer"),t("resumeLogoutTimer","resumelogoutTimer"),t("obeyCommand","obeyCommand"),t("SaverSaving","SaverSaving"),t("NavigateStartSection","NavigateStartSection"),t("startTimersectiontimer","startTimersectiontimer"),t("startTimerparttimer","startTimerparttimer"),t("startTimertesttimer","startTimertesttimer"),t("startTimeruntimedTestOvertime","startTimeruntimedTestOvertime"),t("startTimeruntimedPartOvertime","startTimeruntimedPartOvertime"),t("startTimeruntimedSectionOvertime","startTimeruntimedSectionOvertime"),t("startTimertimedTestOvertime","startTimertimedTestOvertime"),t("startTimertimedPartOvertime","startTimertimedPartOvertime"),t("startTimertimedSectionOvertime","startTimertimedSectionOvertime"),t("ShowTimeOutModalsectiontimer","ShowTimeOutModalsectiontimer"),t("ShowTimeOutModalparttimer","ShowTimeOutModalparttimer"),t("ShowTimeOutModaltesttimer","ShowTimeOutModaltesttimer"),t("ShowTimeOutModaltimedTestOvertime","ShowTimeOutModaltimedTestOvertime"),t("ShowTimeOutModaltimedPartOvertime","ShowTimeOutModaltimedPartOvertime"),t("ShowTimeOutModaltimedSectionOvertime","ShowTimeOutModaltimedSectionOvertime"),t("NavigateLogin","NavigateLogin"),t("QueueNavigate","QueueNavigate")};t()}),define("util/Dispatcher",["javascripts/backbone-min","controllers/ApplicationStatusController","controllers/ActionSubscriber"],function(e,t){"use strict";function n(){$("#btnNext:not([aria-label^=Disabled]), #btnPrevious:not([aria-label^=Disabled]), #btnOverview:not([aria-label^=Disabled])").each(function(){var e=$(this).attr("aria-label");$(this).attr("aria-label",$.i18n.t("disabled")+" "+e)})}function i(e){var t=$(e).attr("aria-label");"undefined"!=typeof t&&0===t.indexOf("Disabled")&&$(e).attr("aria-label",t.slice(9))}var o=_.clone(e.Events);return o.requestQueue=0,o._autoSaveCallbacks=[],o._autoSaveInterval=null,o._autoSaveTime=12e4,o.autoSaveClassName="AutoSaver",o.autoSaveStatus={SAVING:1,IDLE:2},t.subscribeCondition(t.actionNames.QueueNavigate,o.autoSaveClassName,o.autoSaveStatus.SAVING),o.setupAutoSave=function(){$(document).one("ItemController.ItemLoaded",$.proxy(this.startAutoSave,this))},o.startAutoSave=function(){this._autoSaveInterval||(this._autoSaveInterval=setInterval($.proxy(this._directSave,this),this._autoSaveTime))},o._directSave=function(){TN8.log("Dispatcher._directSave .",TN8.CRITICAL),t.statusChange(this.autoSaveClassName,this.autoSaveStatus.SAVING),$(document).off("tn.save.success",$.proxy(this._idleAutoSaveStatus,this)).on("tn.save.success",$.proxy(this._idleAutoSaveStatus,this)),this.trigger("sendToEngine",{resumeTimer:!0})},o._idleAutoSaveStatus=function(){t.statusChange(this.autoSaveClassName,this.autoSaveStatus.IDLE)},o.stopAutoSave=function(){this._autoSaveInterval&&(TN8.log("Dispatcher.stopAutoSave  clearInterval",TN8.IMPORTANT),clearInterval(this._autoSaveInterval),this._autoSaveCallbacks=[],this._autoSaveInterval=null,$(document).off("tn.save.success",$.proxy(this._idleAutoSaveStatus,this)),$(document).off("ItemController.ItemLoaded",$.proxy(this.startAutoSave,this)),this._idleAutoSaveStatus())},o.fixNavigationBtns=function(){$("#btnNext").hasClass("btn-primary")&&($("#btnNext").removeClass("disabled"),i("#btnNext")),$("#btnPrevious").hasClass("btn-primary")&&($("#btnPrevious").removeClass("disabled"),i("#btnPrevious")),$("#btnOverview").removeClass("disabled"),i("#btnOverview")},o.disableNavigationBtns=function(){if($("#btnNext").addClass("disabled"),$("#btnPrevious").addClass("disabled"),$("#btnOverview").addClass("disabled"),n(),window.jwplayer&&jwplayer().stop)try{$(".jwplayer").each(function(e,t){jwplayer(t.id).stop()})}catch(e){console.log(e)}},o.setRequestStarted=function(e){this.requestQueue++,o.disableNavigationBtns()},o.setRequestComplete=function(e){this.requestQueue--,this.requestQueue<0&&(this.requestQueue=0),0===this.requestQueue&&this.trigger("tn.request.queue.clear")},o.getWaitingForServer=function(){return this.requestQueue>0},o.restart=function(){this.requestQueue=0,o.off("tn.request.queue.clear")},o.cleanCallbacksFromQueueClear=function(e,t,n,i){this.off("tn.request.queue.clear"),this.on("tn.request.queue.clear",o.cleanCallbacksFromQueueClear),this.fixNavigationBtns()},o.on("tn.request.start",o.setRequestStarted),o.on("tn.request.complete",o.setRequestComplete),o.on("tn.request.queue.clear",o.cleanCallbacksFromQueueClear),$(document).on(" tn.nav.start cleanup.betweenTest inform.timeoutModalOn",function(){o.stopAutoSave()}),o._idleAutoSaveStatus(),o}),define("TestEngineWaiter",[],function(){return{waitForEngine:function(e){var t=e;if(Array.prototype.shift.apply(arguments),!window.TestEngine||!window.TestEngine.hasEngineInitialized){var n=function(){TN8.Application.testEngine.removeListener(TN8.Application.testEngine.constructor.ENGINE_INITIALIZED,n),t.apply(this,arguments)};return void TN8.Application.testEngine.addListener(TN8.Application.testEngine.constructor.ENGINE_INITIALIZED,n,this)}window.TestEngine&&window.TestEngine.hasEngineInitialized&&t.apply(this,arguments)}}}),define("tools/error",["views/ErrorModalView","views/ErrorPageView","util/Dispatcher","utils","controllers/ApplicationStatusController","TestEngineWaiter"],function(e,t,n,i,o){"use strict";function s(){o.subscribeCondition(o.actionNames.TurnOnModal,C,S.OFF),o.subscribeCondition(o.actionNames.TurnOnProgressModal,C,S.OFF),o.subscribeCondition(o.actionNames.EWSShow,C,S.OFF),o.subscribeCondition(o.actionNames.ShowTimeOutModalsectiontimer,C,S.OFF),o.subscribeCondition(o.actionNames.ShowTimeOutModaltesttimer,C,S.OFF),o.subscribeCondition(o.actionNames.ShowTimeOutModaltimedTestOvertime,C,S.OFF),o.subscribeCondition(o.actionNames.ShowTimeOutModaltimedSectionOvertime,C,S.OFF),o.subscribeCondition(o.actionNames.ShowTimeOutModaluntimedTestOvertime,C,S.OFF),o.subscribeCondition(o.actionNames.ShowTimeOutModaluntimedSectionOvertime,C,S.OFF),o.subscribeCondition(o.actionNames.FetchSuccess,C,S.OFF)}function r(e,t,n){if(!e||!e.success||"no"!==e.success)return a("error.successCheck found no errors, returning true",w.HELPFUL),!0;if(e.error&&"401"===e.error)return n=n?n:3016,$(document).trigger("tn.loadingModal.off"),TN8.throw("Session Invalid.",n,null,t),a("error.successCheck found an Invalid Session error with type: "+n+". returning false",w.IMPORTANT),!1;if(e.error&&"500"===e.error&&t){TN8.throw(e.msg,3024),t(3024);var i=e.msg?e.msg:"Unknown";return a("error.successCheck found an error with message: "+i+". returning false",w.IMPORTANT),!1}if(e.msg&&"The response requested does not exist."===e.msg)return a("error.successCheck: The response requested does not exist.",w.IMPORTANT),!0;if(e.msg&&"State saved to local cache for future transmission."===e.msg)return a("error.successCheck: State saved to local cache for future transmission.",w.IMPORTANT),!0;if(!e.msg||"9098"!==e.msgCode){if(e.msg&&e.msgCode)return $(document).trigger("tn.loadingModal.off"),a("error.successCheck found an error with code "+e.msgCode+" and message: "+e.msg+". returning false",w.IMPORTANT),e.msg="9061"===e.msgCode?"There was a problem retrieving test information. Please contact your administrator.":e.msg,TN8.throw(e.msg,e.msgCode),!1;if(e.errorNum&&504===e.errorNum)return n=3134,TN8.throw(e.command+" request timed out.",n),$(document).trigger("tn.loadingModal.off"),!1;n=n?n:3049;var i=e.msg?e.msg:"Server reported failure";return TN8.throw(i,n),$(document).trigger("tn.loadingModal.off"),a("error.successCheck found a type "+n+" error with message: "+i+". returning false",w.IMPORTANT),!1}$(document).trigger("tn.loadingModal.off"),window.location.href="/client/error_pages/wrongdevicesize.html"}function a(e,t){require("TestEngineWaiter").waitForEngine(l,e,t)}function l(e,t){if(!(t>2)){var n=window.TestEngine.getNavigation(),o={};n&&(o.TestId=n&&n.getTestId(),o.SectionId=n&&n.getCurrentSection().getIdentifier(),o.ItemId=n&&n.getCurrentItem().getIdentifier());var s=window.TN8.Application&&TN8.Application.clientVersion,r="undefined"!=typeof t&&null!==t?"info":"error",a={};if("info"===r){var l=(new Date).toISOString().slice(11,-1);a="[App js| "+l+"] "+e}else a={user:TestEngine.getAuthentication()&&TestEngine.getAuthentication().getRealName&&TestEngine.getAuthentication().getRealName(),browser:navigator.appVersion,client_version:s,test_info:o,error:e};if(TestEngine.isNativeComponentActive()){var c="TN8Logs.log",u=5,d=function(e){},h=function(e){};try{TestEngine.getNativeComponent().writeLog(c,u,JSON.stringify(a),d,h),b+=JSON.stringify(a)}catch(e){a="could not create log :"+e.message,TestEngine.getNativeComponent().writeLog(c,u,a,d,h)}}else i.lg(a),b+=JSON.stringify(a)}}function c(e,t,n,i,s){if(t=+t,!t)return void console.log("errorType in showError is not a number");e=null===e||""===e?$.i18n.t("errorMessages:"+t):e,$(document).trigger("Inform.error");var r,l,m,v=null,T={theme:"error"},_=n||null,E=$.i18n.t("errorMessages:error"),N=$.i18n.t("errorMessages:msg");switch(t){case y.TIMER_WARNING:e=$.i18n.t("errorMessages:timeWarn")+" "+N+" "+t+": "+e,l={theme:"warning",life:15e3,sticky:!1},g(e,l,null,null,!0);break;case y.GETTESTSTATE_GENERAL_ERROR:case y.SERVER_CONNECTION_LOST:case y.INTERNAL_SERVER_ERROR:case y.BAD_SERVER_RESPONSE:case y.LOGIN_TIMEOUT:case y.LIBRARY_LOAD_FAILED:case y.HANDLER_FETCH_SUCCESS_NO:case y.TOOL_ART_FAILED:case y.FAIL_LOAD_PLUGIN:case y.SAVE_RESPONSE_ERROR:case y.DISPATCHER_SAVE_ERROR:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0,_);break;case y.FORM_NOT_FOUND:case y.TEST_NO_LONGER_AVAILABLE:case y.TEST_EXITED:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0);break;case y.AUTH_SELECT_TEST_NOT_RESUMED:case y.AUTH_SELECT_TEST_COMPLETED:e=E+" "+t+": "+$.i18n.t("errorMessages:"+t),h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.ITEM_CONTROLLER_FAILED:e=N+" "+t+": Item Controller has failed to load.",h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.APP_OUTDATED:e=$.i18n.t("errorMessages:"+t),h({btnSelector:"btn-security-breach",msg:e,errorType:t},e,t);break;case y.VSR_NAME_REQUIRE:r=N+" "+t+": "+$.i18n.t("errorMessages:nameReq"),e=r+" ("+e+")",g(r,T,!0);break;case y.MIDDLE_FILES_COMPROMISED:case y.TEST_LOCKED:case y.TEST_UNSCHEDULED:case y.PRACTICE_LOGIN_ERROR:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0);break;case y.LOGIN_INVALID:case y.LOGIN_INVALID2:case y.LOGIN_INVALID3:case y.LOGIN_INVALID4:case y.CANNOT_LOGIN_TESTCODE:case y.AUTHENTIC_ADMIN_FAIL_ERROR:case y.AUTHENTIC_FAIL_ERROR:case y.AUTHENTIC_FAIL_ERROR2:case y.LOGIN_INVALID:case y.LOGIN_NOT_FOUND:case y.LOGIN_NOT_FOUND2:case y.LOGIN_NOT_FOUND3:case y.LOGIN_NOT_FOUND3:case y.LOGIN_NOT_FOUND4:case y.LOGIN_NOT_FOUND5:case y.LOGIN_NOT_FOUND6:case y.LOGIN_NOT_FOUND7:case y.AUTHENTIC_GENERAL_ERROR:case y.AUTHENTIC_GENERAL_ERROR2:case y.SINGLE_TEST_LOGIN_LOCKED:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.UNABLE_REFRESH:case y.REFRESH_GENERAL_ERROR:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.SERVER_LOGIN_ERROR1:case y.SERVER_LOGIN_ERROR4:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.SERVER_LOGIN_ERROR2:case y.SERVER_LOGIN_ERROR5:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.SERVER_LOGIN_ERROR3:case y.SERVER_LOGIN_ERROR6:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.CANNOT_LOGIN_TEST_COMPLETED:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.TEST_WINDOW_NOT_READY:m=$.i18n.t("errorMessages:"+t),r=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.RESUME_BY_PROCTOR:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.LOGIN_DISABLED:m=$.i18n.t("errorMessages:"+t),e=N+" "+t+": "+m+" ("+e+")",$(document).trigger("tn.login.error",[t,m]);break;case y.INCORRECT_SEAL_CODE:e=N+" "+t+": "+e;break;case y.SECTION_START_NOT_OPEN:e="The section has to be opened by the test administrator/proctor before you can enter it.",e=N+" "+t+": "+e;break;case y.SECTION_END_NOT_CLOSED:e="The section has to be closed by the test administrator/proctor before you can submit it. Please try submitting after the proctor has closed the section.",e=N+" "+t+": "+e;break;case y.SECTION_CONTROL_CONNECTIVITY:r=N+" "+t+": There was a problem contacting the testing server. Please try again.",e=r+" ("+e+")";break;case y.FILENAME_MISSING:e.type=y.FILENAME_MISSING;break;case y.CANNOT_EXIT_TEST:case y.CANNOT_EXIT_TEST2:
r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0,_);break;case y.PROXY_SETUP_FAILURE:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",$(document).trigger("inform.proxyFailure"),g(r,T,!0,_);break;case y.ENGINE_BAD_GATEWAY:r=TestEngine.isChromeApp()?N+" "+t+": "+$.i18n.t("errorMessages:"+t+"chrome"):N+" "+t+": "+$.i18n.t("errorMessages:"+t+"ios"),e=r+" ("+e+")",g(r,T,!0,_);break;case y.SAFARI_UNSAFE_MODE:r=E+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0,_);break;case y.ITEM_DOESNT_EXIST:case y.ITEM_DOESNT_EXIST2:case y.ITEM_DOESNT_EXIST3:case y.ITEM_DOESNT_EXIST5:case y.ITEM_DOESNT_EXIST6:case y.ITEM_DOESNT_EXIST7:case y.ITEM_DOESNT_EXIST8:case y.UNABLE_RETRIEVE_ITEM:case y.UNABLE_RETRIEVE_ITEM2:case y.UNABLE_RETRIEVE_ITEM3:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0,_);break;case y.TESTSTATE_FAILED:e="There has been a problem loading the test. Please contact your administrator.",h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.CAT_INVALID_ITEM:case y.ITEM_DOESNT_EXIST4:case y.CAT_ITEM_BLOCKED:h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.CAT_SESSION_EXPIRED:h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.ERROR_JSON_GENERAL:case y.UNABLE_RETRIEVE_TESTDEF:case y.UNABLE_RETRIEVE_TESTDEF2:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!0,_);break;case y.UNKNOWN_ERROR:if(r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+JSON.stringify(e)+")",e.indexOf("Error: Out of memory")!==-1)return void c(e,y.OUT_OF_MEMORY_WARNING);TN8.Application&&TN8.Application.config&&(TN8.Application.config.showUnkErr===!0||"true"===TN8.Application.config.showUnkErr)&&g(r,T,!1,_);break;case y.NULL_AUTH_DATA_RETURNED:case y.NAV_BAD_RESPONSE:case y.ENGINE_BAD_RESPONSE:case y.LOGIN_ABORTED:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!1,_);break;case y.POP_UP_BLOCKED:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!1,_);break;case y.REFRESH_AFTER_POP_UP:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!1,_);break;case y.APPLET_LAUNCH_FAILURE:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!1,_);break;case y.AUTHENTICATION_ERROR:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),e=r+" ("+e+")",g(r,T,!1,_);break;case y.SUCCESSFUL_APPCHECK:r=""+$.i18n.t("errorMessages:"+t),g(r,{theme:"jGrowl-success",life:5e3,sticky:!1},!1);break;case y.FAILED_APPCHECK:r=N+" "+t+": "+$.i18n.t("errorMessages:"+t),g(r,{theme:"jGrowl-error",life:5e3,sticky:!1},!1);break;case y.GET_RESPONSE_ERROR:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.OUT_OF_MEMORY_WARNING:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t),$("#btn-call-teacher",$("#error-modal")).remove(),$(".close",$("#error-modal")).remove();break;case y.APP_CRASHED:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t),$("#btn-call-teacher",$("#error-modal")).remove(),$(".close",$("#error-modal")).remove();break;case y.TOOL_LOAD_ERROR:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.SUBMIT_TEST_FAILURE:case y.NAVIGATE_NEXT_SECTION:case y.FULL_SCREEN_CHANGED:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.REMOTE_SECTION_DATA_INVALID:case y.REMOTE_SECTION_DATA_ON_RESUME_MISSING:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.STATE_SERVER_CONNECTION_LOST:case y.STATE_INTERNAL_SERVER_ERROR:case y.STATE_BAD_RESPONSE_PARSER:case y.STATE_REQUEST_TIMEOUT:case y.STATE_BAD_GATEWAY:case y.NAV_SERVER_CONNECTION_LOST:case y.NAV_INTERNAL_SERVER_ERROR:case y.NAV_BAD_RESPONSE_PARSER:case y.NAV_REQUEST_TIMEOUT:case y.NAV_BAD_GATEWAY:case y.ENGINE_SERVER_CONNECTION_LOST:case y.ENGINE_INTERNAL_SERVER_ERROR:case y.ENGINE_BAD_RESPONSE_PARSER:case y.ENGINE_REQUEST_TIMEOUT:case y.UNKNOWN_FETCH_SUCCESS_NO:case y.HANDLER_FETCH_ERROR:case y.TIMER_REQUIRE_ERROR:case y.FEEDBACK_SCORING_ERROR:case y.FEEDBACK_CORRECT_TESTCASE_ERROR:case y.TI108_LOAD_ERROR:case y.TI30_LOAD_ERROR:case y.TI84_LOAD_ERROR:case y.TUTORIAL_FILE_FAILED:case y.NAVSAVE_FAIL_L3:case y.EXTENSION_UNSUPPORTED_BROWSER:case y.EXTENSION_UNSUPPORTED_APP:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.ITEM_RESPONSE_NULL:case y.CATCH_ID_NULL:case y.ERROR_READING_INPUTSTREAM:case y.BODY_NOT_VALID_JSON:case y.BAD_RESPONSE_STATUS:case y.UNABLE_CLOSE_INPUTSTREAM:case y.ITEM_XML_NOT_FOUND:case y.SCORE_RETURNED_MORE:case y.SCORE_NULL:case y.SCORE_ERROR:case y.ERROR_TRANSFORMING:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.UNEXPECTED_EXCEPTION_REQUEST:case y.TEST_VERSION1:case y.TEST_VERSION2:case y.TEST_VERSION3:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.WIRE_KEY_NOT_FOUND:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.WIRE_KEY_INVALID:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.BROWSER_SECURITY_RESTRICTION:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.BROWSER_PINTEREST_DETECTED:case y.BROWSER_DICTIONARY_DETECTED:e=N+" "+t+" : "+$.i18n.t("errorMessages:"+t),h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.DICTIONARY_INVALID_RESPONSE:case y.DICTIONARY_CALL_FAILURE:r=t+": "+$.i18n.t("errorMessages:"+t),g(r,{theme:"warning dictionaryError"},!1,null,!1,s);break;case y.CONNECTION_LOST_AUTH_REFRESH:e="Msg "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.AUTHENTICATION_REFRESH_ERROR:case y.SECURE_WINDOW_CLOSED:case y.SERVER_CONNECTION_ERROR:e="Msg "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.BLACKLIST_ERROR:case y.BLACKLIST_SET_FAILED:case y.SIRI_NC_SERVICE:h({msg:$.i18n.t("errorMessages:"+t,{processname:e}),errorType:t},e,t);break;case y.STATE_BAD_RESPONSE:case y.STATE_REQUEST_ABORTED:case y.NAV_REQUEST_ABORTED:case y.ENGINE_REQUEST_ABORTED:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.SESSION_MISTMATCH:case y.SESSION_MISTMATCH2:e=N+" "+t+" : "+e,h({btnSelector:"btn-session-invalid",msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.SESSION_MISTMATCH3:case y.SESSION_INVALID:e=N+" "+t+" : "+e,h({btnSelector:"btn-session-invalid",msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.INJECTION_SCRIPT_ERROR:case y.CODE_INJECTION_ERROR:case y.CONDITIONS_FETCHSUCCESS_FAIL:case y.INVALID_ID_FOR_TESTDEF:case y.INVALID_ID_FOR_SECTION:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.UNABLE_FIND_TNAV_LOGIN:case y.UNABLE_DECRYPT_POST_BODY:case y.UNABLE_READ_POST_BODY:case y.INPUT_BODY_INVALID_JSON:case y.NAVIGATION_RETURNED_INVALID_JSON:case y.CAT_NAV_ITEMID_NOT_FOUND:case y.CAT_ITEM_JSON_PARSE_ERROR:case y.CAT_ADAPTIVE_STATE_PARSE_ERROR:case y.COULD_NOT_SERIALIZE_STATES_JSON:case y.COULD_RESERIALIZE_NAV_RESPONSE:case y.NAV_GENERAL_ERROR:case y.TEST_STATE_EMPTY:case y.SECTION_NAME_EMPTY:case y.SAVESTATE_VARIABLE_LOOKUP_ERROR:case y.NO_CAT_RELEASE_VERSION:case y.NO_CAT_JAR:case y.INVALID_SAVE_JSON:case y.INVALID_SAVE_JSON_2:case y.SESS_EMPTY:case y.U_SESS_EMPTY:case y.TS_EMPTY:case y.VERSION_EMPTY:case y.ADAPTIVE_SECTION_PROCESSING_ERROR:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.CANNOT_READ_SRF:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.EE_INTERACTION_TYPE_ERROR:e="Msg "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e);break;case y.EE_UNKNOWN_ERROR:e=N+" "+t+" : "+e,h({msg:"Unknown error.  The test will be closed.  Contact your administrator.",errorType:t},e);break;case y.VERSION_MISMATCH:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.MD5_MISMATCH:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.APP_INITIALIZATION_FAILED:e=N+" "+t+" : "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.SAFARI_FULL_SCREEN_ERROR:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.FATAL_ENGINE_ERROR:d({btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},null,function(){$("#btn-security-breach, button.close").hide()});break;case y.REQUIRE_LOAD_ERROR:e=N+" "+t+": require failed to load a file. ("+e+")",h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.WRONG_RESPONSE_ERROR:case y.WRONG_RESPONSE_ERROR2:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.WRONG_RESPONSE_ERROR3:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t,b);break;case y.INVALID_JSON_STRING:case y.INVALID_JSON_STRING2:case y.INVALID_JSON_STRING3:case y.INVALID_JSON_STRING4:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.CAT_NAVIGATION_NOT_ANSWERED:case y.CAT_ITEM_RESPONSE_LOST:case y.CONDITIONS_SAVE_FAIL:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.LIB_RETRIEVE_ERROR:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.RESUME_LOCATION_ERROR:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.SECURITY_BREACH_APPLET:case y.CONTROL_ALT_DELETE:case y.COMMAND_OPTION_ESCAPE:e=N+" "+t+": "+e,$("#error-modal").off("hidden",u),o.statusChange(C,S.OFF),I=!0,h({btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.FORCE_RESUME_ADAPTIVE:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},_);break;case y.FORCE_RESUME_INVALID:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},_);break;case y.DUPLICATE_LOGIN:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.FORBIDDEN_PROCESS_DETECTED:var A=$.i18n.t("errorMessages:"+t,{context:"start"});a("Inside error.js: "+JSON.stringify(s),w.CRITICAL),A+=s.isHistoryEnabled?$.i18n.t("errorMessages:"+t,{context:"history"}):"",A+=s.isRoamingEnabled?$.i18n.t("errorMessages:"+t,{context:"roaming"}):"",A+=$.i18n.t("errorMessages:"+t,{context:"finish"}),a(A,w.CRITICAL),e=N+" "+t+": "+e,h({msg:A,errorType:t},e,t);break;case y.DITTO_CLIPBOARD_DETECTED:case y.COPYQ_CLIPBOARD_DETECTED:case y.CLIPMATE_CLIPBOARD_DETECTED:case y.DICTATION_SERVICE:case y.AIRPLAY_SERVICE:case y.WIN_GAME_BAR:case y.CAT_CONFIG_NOT_FOUND:case y.INVALID_FORM_SECTION_NUMBER:case y.START_CAT_FAILED:case y.READ_CAT_RESPONSE_FAILED:case y.CANNOT_READ_SESSION_ID:case y.CANNOT_READ_BODY:case y.INVALID_JSON_CAT:case y.MISSING_LOGIN_ID:case y.MISSING_FORM_KEY:case y.MISSING_CACHEID:case y.SESSION_EXIST:case y.REQUEST_VALID_EXCEPTION:case y.CREATE_PLUGIN_FAIL:case y.NO_SESSION_SESSION_TOKEN:case y.UIN_DOESNT_EXIST:case y.MAX_RETRIES_REACHED:case y.PRELOADSIZE_MISSING:case y.PRELOADSIZE_LESS_ZERO:case y.PRELOADSIZE_GREATER_FIVE:case y.DTTS_DSK_APP_NOT_SUPPORTED:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.JAVA_VERSION_ERROR:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.CHROMEAPP_SECURE_TEST:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.OS_WRONG_VER_FATAL:case y.IOS_11_0:case y.WIN_10_17666:f(t);break;case y.NEED_SINGLE_MODE:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.CHROME_OR_EDGE_SECURE:e=N+" "+t+": "+e,h({btnTxt:$.i18n.t("generalWords:exit"),msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.NOT_APP_SECURE_TEST:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",btnTxt:" Cancel ",msg:$.i18n.t("errorMessages:"+t),errorType:t};var x=function(e){$('<button id="install-app-btn" class="btn btn-primary " >'+$.i18n.t("errorMessages:getMoreInfo")+"</button>").click(function(){window.location="https://support.assessment.pearson.com/display/TN/TestNav+8+Online+Support"}).appendTo(e.$el.find(".modal-footer").empty())},O=function(){$(document).trigger("tn.route.to","logout"),$(document).trigger("tn.loadingModal.off"),$(document).trigger("tn.error.fatal",{num:t,msg:e})};d(v,O,x);break;case y.SECURITY_BREACH_IOS:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.SECURITY_BREACH_ANDROID:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.TEST_STATUS_NOT_VALID:case y.TEST_STATUS_NOT_VALID2:case y.TEST_STATUS_NOT_VALID3:case y.ENCRYPTION_ERROR:case y.CIC_GET_RESPONSE_FAILED:case y.CIC_CLEANUP_FAILED:e=N+" "+t+": "+e,h({btnTxt:$.i18n.t("generalWords:exit"),msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);break;case y.IOS_DISCONNECTED:e=N+" "+t+": "+e;break;case y.LOST_CONNECTION_IN_TEST:e=N+" "+t+": "+e,v={btnTxt:$.i18n.t("generalWords:exit"),msg:$.i18n.t("errorMessages:"+t),errorType:t},h(v,e,t);break;case y.NO_JAVA_INSTALLED:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t};var x=function(e){e.$el.find(".modal-body").append($.i18n.t("errorMessages:installJava"))};d(v,_,x);break;case y.TI_SECURE_MODE_ONLY:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.NEW_VERSION_AVAILABLE:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t};var x=function(){$("#btn-security-breach").hide(),setTimeout(function(){_&&_()},3e3)};d(v,null,x);break;case y.RECORDER_MIC_FAILURE:e=E+" "+t+": "+e;var R="";window.TestEngine._navigation&&(R=window.TestEngine._navigation.getCurrentItem().getItemName());var L=function(){f(t,e,R),$(document).one("tn.navigate.logout",function(){$("#userMenu").remove()})};TN8.Dispatcher.trigger("CleanUpItemController"),$(document).trigger("navigate.EmergencyExit",L);break;case y.NEW_VERSION_AVAILABLE_APP:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_,function(){$("#btn-security-breach, #error-modal .modal-header > .close-error-modal").hide()});break;case y.SRF_CALL_TIMEOUT:e=$.i18n.t("errorMessages:"+t),TestEngine.emergencyStopAndUnlock(),f(t,e);break;case y.VERSION_UNAVAILABLE:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v);break;case y.VERSION_UPDATE_FAILURE:e=N+" "+t+": "+e,v={btnSelector:"btn-security-breach",msg:$.i18n.t("errorMessages:"+t),errorType:t},d(v,_);break;case y.CONFIG_FILE_MISSING:f(t);break;case y.ENGINE_LIB_CORRUPT:e=E+" "+t+": "+e,f(t,e);break;case y.INACTIVITY_TIMEOUT:case y.CAT_NAVIGATE_TIMEOUT:e=N+" "+t+": "+e,h({msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t,i);break;case y.PAGE_LOAD_RETRY:e=N+" "+t+": "+e,p({btnTxt:$.i18n.t("generalWords:retry"),msg:$.i18n.t("errorMessages:"+t),errorType:t},e,t);default:r=N+" "+t+": "+e,g(r,T,!1),e="(Undefined)"+N+" "+t+": "+e}a(e)}function u(e){return N=null,$(e.target).tabRing("off"),E(),e&&e.data&&e.data.errorType&&(3005==e.data.errorType||3020==e.data.errorType||3022==e.data.errorType)?void(I=!1):void $(document).trigger("navigate.EmergencyExit")}function d(t,n,i){if(A.btnTxt=$.i18n.t("ok"),!N){var o=new e($.extend(!0,{},A,t));$(document).trigger("tn.error.modal",{num:t.errorType,msg:t.msg,errtype:"Modal"}),n&&o.$el.on("hidden",n),i&&i(o)}}function h(t,i,s,r,a){if(A.btnTxt=$.i18n.t("ok"),!N){N=!0,$(document).trigger("Inform.fatalError"),o.statusChange(C,S.ON),r=r||"";var l=new e($.extend(!0,{},A,t));$(document).trigger("tn.error.fatal",{num:t.errorType,msg:i+r,errtype:"Fatal"}),n.stopAutoSave(),l.$el.on("hidden",{errorType:s},u),a&&a(l)}}function p(t,n,i,s,r){if(A.btnTxt=$.i18n.t("ok"),!N){N=!0,$(document).trigger("Inform.fatalError"),o.statusChange(C,S.ON),s=s||"";var a=new e($.extend(!0,{},A,t)),l=function(e){$("#btn-call-teacher").off("click",l),$(document).trigger("tn.page.retry"),N=null},c=function(e){$("#btn-call-teacher").off("click",l),o.statusChange(C,S.OFF),N=null};$("#btn-call-teacher").on("click",l),a.$el.on("hidden",c),r&&r(a)}}function f(e,i,o){N=!0;var s=o||"",r=i||"",a=new t({errorType:e,msg:r});$(document).trigger("tn.errorPage",{num:e,msg:r,errtype:"Page",itemid:s}),$(document).trigger("tn.error.fatal"),n.stopAutoSave(),a.render()}function g(e,t,i,o,s,r){if(!N){var a=e.match(/([0-9])\d+/g)[0];s||$(document).trigger("tn.error.growl",{num:a,msg:e,errtype:"Growl",extraData:r}),$.jGrowl(e,t),i&&(n.fixNavigationBtns(),n.restart(),$(document).trigger("tn.loadingModal.off")),o&&o()}}function m(){$("#jGrowl").find(".jGrowl-close").trigger("click")}function v(e,t){$("."+t+" > .jGrowl-close").click()}function T(){b=""}function _(){return I}function E(){T(),o.statusChange(C,S.OFF)}var b="",y=window.TN8.errorType={VERSION_MISMATCH:1011,MD5_MISMATCH:1010,TIMER_WARNING:2001,REQUIRE_LOAD_ERROR:2003,NEW_VERSION_AVAILABLE:2005,OUT_OF_MEMORY_WARNING:2008,SECTION_START_NOT_OPEN:2011,SECTION_END_NOT_CLOSED:2012,SECTION_CONTROL_CONNECTIVITY:2013,PRACTICE_LOGIN_ERROR:2015,TEST_UNSCHEDULED:2016,TEST_LOCKED:2017,TEST_NO_LONGER_AVAILABLE:2018,FAILED_APPCHECK:2019,TEST_EXITED:2021,VSR_NAME_REQUIRE:2020,DTTS_DSK_APP_NOT_SUPPORTED:2022,TUTORIAL_FILE_FAILED:2023,SUCCESSFUL_APPCHECK:5e4,NEW_VERSION_AVAILABLE_APP:3055,INCORRECT_SEAL_CODE:3019,ITEM_CONTROLLER_FAILED:3002,LIBRARY_LOAD_FAILED:3004,SECURITY_BREACH_APPLET:3005,SECURITY_BREACH_IOS:3006,GET_RESPONSE_ERROR:3007,HANDLER_FETCH_ERROR:3008,HANDLER_FETCH_SUCCESS_NO:3009,SAVE_RESPONSE_ERROR:3010,CODE_INJECTION_ERROR:3011,DISPATCHER_SAVE_ERROR:3013,TOOL_ART_FAILED:3015,SESSION_INVALID:3016,COMMAND_OPTION_ESCAPE:3020,CONTROL_ALT_DELETE:3022,NEED_SINGLE_MODE:3044,INJECTION_SCRIPT_ERROR:3056,EE_INTERACTION_TYPE_ERROR:3058,EE_UNKNOWN_ERROR:3059,RESUME_LOCATION_ERROR:3091,TESTSTATE_FAILED:3092,LOST_CONNECTION_IN_TEST:3018,ENCRYPTION_ERROR:3023,UNKNOWN_ERROR:3024,FAIL_LOAD_PLUGIN:3027,FORM_NOT_FOUND:3028,FULL_SCREEN_CHANGED:3029,NO_JAVA_INSTALLED:3025,POP_UP_BLOCKED:3030,APPLET_LAUNCH_FAILURE:3031,REFRESH_AFTER_POP_UP:3032,LIB_RETRIEVE_ERROR:3033,CAT_NAVIGATION_NOT_ANSWERED:3084,NAVSAVE_FAIL_L3:3043,TI_SECURE_MODE_ONLY:3046,SAFARI_UNSAFE_MODE:3047,UNKNOWN_FETCH_SUCCESS_NO:3049,VERSION_UNAVAILABLE:3050,VERSION_UPDATE_FAILURE:3051,IOS_DISCONNECTED:3052,CONDITIONS_SAVE_FAIL:3082,CONDITIONS_FETCHSUCCESS_FAIL:3083,TOOL_LOAD_ERROR:3086,CANNOT_READ_SRF:3087,INVALID_ID_FOR_TESTDEF:3088,INVALID_ID_FOR_SECTION:3089,FILENAME_MISSING:3093,CIC_GET_RESPONSE_FAILED:3094,CIC_CLEANUP_FAILED:3095,APP_INITIALIZATION_FAILED:3096,SAFARI_FULL_SCREEN_ERROR:3097,FATAL_ENGINE_ERROR:3099,SECURITY_BREACH_ANDROID:3100,CONFIG_FILE_MISSING:3101,SUBMIT_TEST_FAILURE:3103,CHROME_OR_EDGE_SECURE:3104,NOT_APP_SECURE_TEST:3105,OS_WRONG_VER_FATAL:3106,CHROMEAPP_SECURE_TEST:3108,REMOTE_SECTION_DATA_INVALID:3110,REMOTE_SECTION_DATA_ON_RESUME_MISSING:3111,NAVIGATE_NEXT_SECTION:3114,SINGLE_TEST_LOGIN_LOCKED:3115,WIN_10_17666:3122,TIMER_REQUIRE_ERROR:3123,INACTIVITY_TIMEOUT:3124,IOS_11_0:3126,TI108_LOAD_ERROR:3127,TI30_LOAD_ERROR:3128,TI84_LOAD_ERROR:3129,RECORDER_MIC_FAILURE:3130,FEEDBACK_SCORING_ERROR:3132,FEEDBACK_CORRECT_TESTCASE_ERROR:3133,CAT_NAVIGATE_TIMEOUT:3134,ENGINE_LIB_CORRUPT:3135,DICTIONARY_INVALID_RESPONSE:3136,DICTIONARY_CALL_FAILURE:3137,ADAPTIVE_SECTION_PROCESSING_ERROR:3138,SRF_CALL_TIMEOUT:3140,PAGE_LOAD_RETRY:3142,EXTENSION_UNSUPPORTED_BROWSER:3143,EXTENSION_UNSUPPORTED_APP:3144,NULL_AUTH_DATA_RETURNED:5020,SERVER_CONNECTION_LOST:5021,INTERNAL_SERVER_ERROR:5022,BAD_SERVER_RESPONSE:5023,LOGIN_TIMEOUT:5024,LOGIN_ABORTED:5025,AUTHENTICATION_ERROR:5026,BROWSER_SECURITY_RESTRICTION:5027,BROWSER_PINTEREST_DETECTED:5029,CONNECTION_LOST_AUTH_REFRESH:5030,AUTHENTICATION_REFRESH_ERROR:5031,BLACKLIST_ERROR:5032,SECURE_WINDOW_CLOSED:5033,BROWSER_DICTIONARY_DETECTED:5034,SERVER_CONNECTION_ERROR:5035,SIRI_NC_SERVICE:5036,DICTATION_SERVICE:5037,WIN_GAME_BAR:5041,BLACKLIST_SET_FAILED:5042,AIRPLAY_SERVICE:5043,FORBIDDEN_PROCESS_DETECTED:5044,DITTO_CLIPBOARD_DETECTED:5045,COPYQ_CLIPBOARD_DETECTED:5046,CLIPMATE_CLIPBOARD_DETECTED:5047,WRONG_RESPONSE_ERROR:6e3,WRONG_RESPONSE_ERROR2:6001,WRONG_RESPONSE_ERROR3:6002,STATE_BAD_RESPONSE:6020,STATE_SERVER_CONNECTION_LOST:6021,STATE_INTERNAL_SERVER_ERROR:6022,STATE_BAD_RESPONSE_PARSER:6023,STATE_REQUEST_TIMEOUT:6024,STATE_REQUEST_ABORTED:6025,STATE_BAD_GATEWAY:6026,NAV_BAD_RESPONSE:7020,NAV_SERVER_CONNECTION_LOST:7021,NAV_INTERNAL_SERVER_ERROR:7022,NAV_BAD_RESPONSE_PARSER:7023,NAV_REQUEST_TIMEOUT:7024,NAV_REQUEST_ABORTED:7025,NAV_BAD_GATEWAY:7026,ENGINE_BAD_RESPONSE:8020,ENGINE_SERVER_CONNECTION_LOST:8021,ENGINE_INTERNAL_SERVER_ERROR:8022,ENGINE_BAD_RESPONSE_PARSER:8023,ENGINE_REQUEST_TIMEOUT:8024,ENGINE_REQUEST_ABORTED:8025,PROXY_SETUP_FAILURE:8026,ENGINE_BAD_GATEWAY:8027,JAVA_VERSION_ERROR:8028,APP_OUTDATED:8029,MIDDLE_FILES_COMPROMISED:8030,APP_CRASHED:8031,AUTHENTIC_ADMIN_FAIL_ERROR:9020,AUTHENTIC_GENERAL_ERROR:9021,UNABLE_REFRESH:9022,REFRESH_GENERAL_ERROR:9023,CANNOT_LOGIN_TESTCODE:9024,CANNOT_LOGIN_TEST_COMPLETED:9025,RESUME_BY_PROCTOR:9026,TEST_WINDOW_NOT_READY:9027,AUTHENTIC_GENERAL_ERROR2:9028,LOGIN_NOT_FOUND:9029,SESSION_MISTMATCH:9030,UNABLE_RETRIEVE_ITEM:9031,LOGIN_NOT_FOUND2:9032,GETTESTSTATE_GENERAL_ERROR:9033,LOGIN_INVALID:9034,ITEM_DOESNT_EXIST:9035,LOGIN_INVALID2:9036,ITEM_DOESNT_EXIST2:9037,LOGIN_INVALID3:9038,ITEM_DOESNT_EXIST3:9039,LOGIN_INVALID4:9040,ITEM_DOESNT_EXIST4:9041,ITEM_DOESNT_EXIST5:9042,ITEM_DOESNT_EXIST6:9043,ITEM_DOESNT_EXIST7:9044,ITEM_DOESNT_EXIST8:9045,CANNOT_EXIT_TEST:9046,CANNOT_EXIT_TEST2:9047,UNABLE_RETRIEVE_ITEM2:9048,UNABLE_RETRIEVE_ITEM3:9049,UNABLE_RETRIEVE_TESTDEF:9050,UNABLE_RETRIEVE_TESTDEF2:9051,ERROR_JSON_GENERAL:9052,SESSION_MISTMATCH2:9053,SESSION_MISTMATCH3:9054,TEST_STATUS_NOT_VALID:9055,TEST_STATUS_NOT_VALID2:9056,TEST_STATUS_NOT_VALID3:9057,AUTHENTIC_FAIL_ERROR:9058,AUTHENTIC_FAIL_ERROR2:9059,LOGIN_NOT_FOUND3:9060,INVALID_JSON_STRING:9064,LOGIN_NOT_FOUND4:9065,ITEM_DOESNT_EXIST9:9066,INVALID_JSON_STRING2:9067,LOGIN_NOT_FOUND5:9068,ITEM_DOESNT_EXIST10:9069,INVALID_JSON_STRING3:9070,LOGIN_NOT_FOUND6:9071,ITEM_DOESNT_EXIST11:9072,INVALID_JSON_STRING4:9073,LOGIN_NOT_FOUND7:9074,ITEM_DOESNT_EXIST12:9075,SERVER_LOGIN_ERROR1:9076,SERVER_LOGIN_ERROR2:9077,SERVER_LOGIN_ERROR3:9078,SERVER_LOGIN_ERROR4:9079,SERVER_LOGIN_ERROR5:9080,SERVER_LOGIN_ERROR6:9081,CAT_CONFIG_NOT_FOUND:9083,INVALID_FORM_SECTION_NUMBER:9084,START_CAT_FAILED:9085,READ_CAT_RESPONSE_FAILED:9086,CANNOT_READ_SESSION_ID:9087,LOGIN_DISABLED:9099,TEST_VERSION1:9100,TEST_VERSION2:9101,TEST_VERSION3:9102,WIRE_KEY_NOT_FOUND:9103,WIRE_KEY_INVALID:9104,FORCE_RESUME_ADAPTIVE:9105,FORCE_RESUME_INVALID:9106,DUPLICATE_LOGIN:9107,AUTH_SELECT_TEST_COMPLETED:9108,AUTH_SELECT_TEST_NOT_RESUMED:9109,UNABLE_FIND_TNAV_LOGIN:9112,UNABLE_DECRYPT_POST_BODY:9113,UNABLE_READ_POST_BODY:9114,INPUT_BODY_INVALID_JSON:9115,NAVIGATION_RETURNED_INVALID_JSON:9116,CAT_NAV_ITEMID_NOT_FOUND:9117,CAT_ITEM_JSON_PARSE_ERROR:9118,CAT_ADAPTIVE_STATE_PARSE_ERROR:9119,COULD_NOT_SERIALIZE_STATES_JSON:9120,COULD_RESERIALIZE_NAV_RESPONSE:9121,NAV_GENERAL_ERROR:9122,TEST_STATE_EMPTY:9123,SECTION_NAME_EMPTY:9124,SAVESTATE_VARIABLE_LOOKUP_ERROR:9125,NO_CAT_RELEASE_VERSION:9126,NO_CAT_JAR:9127,INVALID_SAVE_JSON:9128,INVALID_SAVE_JSON_2:9129,SESS_EMPTY:9130,U_SESS_EMPTY:9131,TS_EMPTY:9132,VERSION_EMPTY:9133,CANNOT_READ_BODY:11e3,INVALID_JSON_CAT:11001,MISSING_LOGIN_ID:11002,MISSING_FORM_KEY:11003,MISSING_CACHEID:11004,SESSION_EXIST:11005,REQUEST_VALID_EXCEPTION:11006,CREATE_PLUGIN_FAIL:11007,NO_SESSION_SESSION_TOKEN:11008,UIN_DOESNT_EXIST:11009,MAX_RETRIES_REACHED:11010,ITEM_RESPONSE_NULL:11011,CATCH_ID_NULL:11012,ERROR_READING_INPUTSTREAM:11013,BODY_NOT_VALID_JSON:11014,BAD_RESPONSE_STATUS:11015,UNABLE_CLOSE_INPUTSTREAM:11016,ITEM_XML_NOT_FOUND:11017,SCORE_RETURNED_MORE:11018,SCORE_NULL:11019,SCORE_ERROR:11020,ERROR_TRANSFORMING:11021,UNEXPECTED_EXCEPTION_REQUEST:11022,PRELOADSIZE_MISSING:11024,PRELOADSIZE_LESS_ZERO:11025,PRELOADSIZE_GREATER_FIVE:11026,CAT_INVALID_ITEM:11027,CAT_ITEM_RESPONSE_LOST:11028,CAT_SESSION_EXPIRED:11030,CAT_ITEM_BLOCKED:11040},w={CRITICAL:1,IMPORTANT:2,HELPFUL:3};window.TN8.CRITICAL=1,window.TN8.IMPORTANT=2,window.TN8.HELPFUL=3;var S={ON:1,OFF:2},C="ErrorJS";window.TN8.log=a,window.TN8.throw=c;var N,I=!1,A={template:"#errtemplate",modalId:"#error-modal",btnSelector:"btn-call-teacher",btnTxt:"OK"};TN8.fnOn("cleanup.betweenTest perform.exitApplication",E),TN8.fnOn("closeGrowlsByClass",v);var x={applicationStatusInit:s,showError:c,showGrowl:g,closeGrowls:m,successCheck:r,clearLogStack:T,logError:a,type:y,logLevel:w,isLostFocusError:_};return x}),define("util/browsercheck",[],function(){var e=function(){return{nav:navigator.userAgent.toLowerCase(),using:function(e){return this.nav.indexOf(e)>=0},showWrongBrowserError:function(){window.location.href="/client/error_pages/wrongBrowser.html"},showWrongOSError:function(){window.location.href="/client/error_pages/wrongOS.html"},throwWrongOSError:function(){TN8.throw("",TN8.errorType.OS_WRONG_VER_FATAL)},throwWindows10Error:function(){TN8.throw("",TN8.errorType.WIN_10_17666)},getSpecificMinVersion:function(e){var t;try{this.minVersion.forEach(function(n,i){n[e]&&(t=n[e])})}catch(e){console.log("config.minVersion is undefined")}return t},handleChrome:function(){var e=this.nav.indexOf("chrome/"),t=this.nav.substring(e+7,this.nav.indexOf(".",e+7));return t<20?(window.location.href="/client/error_pages/oldchrome.html",!1):!(this.nav.indexOf("desktopapp")===-1&&this.nav.indexOf("android")===-1&&this.nav.indexOf("chromeapp")===-1&&this.nav.indexOf("edge")===-1&&t<57)||(this.showWrongBrowserError(),!1)},handleOlderFireFox:function(){var e=this.nav.indexOf("firefox/"),t=this.nav.substring(e+8,this.nav.indexOf(".",e+8));return!(t<52)||(this.showWrongBrowserError(),!1)},handleOlderSafari:function(){var e=this.nav.indexOf("version/"),t=this.nav.substring(e+8,this.nav.indexOf(".",e+8));return!(t<9)||(this.showWrongBrowserError(),!1)},handleOlderIE:function(){var e=this.nav.indexOf("trident"),t=this.nav.substring(e+8,this.nav.indexOf(".",e+8));return!(t<7)||(this.showWrongBrowserError(),!1)},checkAndroid:function(){if(this.nav.indexOf("android")!==-1&&this.nav.indexOf("cros")===-1){var e=+this.nav.match(/android (\d)/)[1];if(e<7)return TestEngine&&!TestEngine._isAppMode()?(this.showWrongOSError(),!1):(this.throwWrongOSError(),!1)}return!0},checkWindows:function(){if(this.nav.indexOf("windows")!==-1){var e=+this.nav.match(/windows nt (\d+.\d)/)[1];if(e<6.1||6.2===e)return TestEngine&&!TestEngine._isAppMode()?(this.showWrongOSError(),!1):(this.throwWrongOSError(),!1);var t=10===e&&TestEngine&&TestEngine._isAppMode()?this.nav.match(/osbuild\/(\d+)\.?(\d+)?/).slice(1):null,n=!t||(!this.arrayGreaterOrEqual(t,[17666,0])||this.arrayGreaterOrEqual(t,[17763,107]));if(10===e&&!n)return this.throwWindows10Error(),!1}return!0},checkOSX:function(){if(this.nav.indexOf("mac os x")!==-1&&!this.isIOS()){var e=this.using("firefox")?this.nav.match(/mac os x (\w+.\w+)/)[1].split("."):this.nav.match(/mac os x (\w+)/)[1].split("_"),t=+e[0],n=+e[1];if(t>=10){if(t>10)return!0;if(10===t&&n>=9)return!0}return TestEngine&&!TestEngine._isAppMode()?(this.showWrongOSError(),!1):(this.throwWrongOSError(),!1)}return!0},checkCrOS:function(){if(this.nav.indexOf("android")===-1&&this.nav.indexOf("cros")!==-1){var e=this.nav.indexOf("chrome/"),t=this.nav.substring(e+7,this.nav.indexOf(".",e+7)),n=this.getSpecificMinVersion("crOS")||74;if(t<n)return TestEngine&&!TestEngine._isAppMode()?(this.showWrongOSError(),!1):(this.throwWrongOSError(),!1)}return!0},_parseChromeVersion:function(e){return e.match(/cros(\s\S+\s\d+)/)[0]},checkiOS:function(){if(this.isIOS()){var e=this._parseiOSVersion(this.nav),t=this.arrayGreaterOrEqual(e,[12,0,0]);if(!t)return this.showWrongOSError(),!1}return!0},isIOS:function(){return this.nav.indexOf("ipad")!==-1||this.nav.indexOf("iphone")!==-1||this.nav.indexOf("ipod")!==-1},arrayGreaterOrEqual:function(e,t){for(var n=0;n<e.length;n++)if(e[n]||(e[n]=0),t[n]||(t[n]=0),e[n]!=+t[n])return+e[n]>+t[n];return!0},_parseiOSVersion:function(e){return e.match(/os (\d+)_(\d+)_?(\d+)?/).slice(1)},getLinuxData:function(){var e=$.Deferred(),t=this;return TestEngine&&TestEngine._native.getOSDetails(function(n){e.resolve(t.checkLinuxData(n))}),e},checkLinuxData:function(e){var t=e.match(/NAME="(\w+)/)[1].toLowerCase(),n="ubuntu"===t?+e.match(/VERSION_ID="(\w+.\w+)/)[1]:+e.match(/VERSION_ID=(\w+)/)[1];return console.log("OS Name: ",t,", OS Version: ",n),"ubuntu"===t&&n<16.04?(this.throwWrongOSError(),!1):!("fedora"===t&&n<24)||(this.throwWrongOSError(),!1)},check:function(){this.minVersion=TN8.Application.config.minVersion;var e=$.Deferred(),t=!0;t&&(t=this.checkAndroid()),t&&(t=this.checkWindows()),t&&(t=this.checkOSX()),t&&(t=this.checkCrOS()),t&&(t=this.checkiOS());var n=this.using("linux")&&this.using("testnavdesktopapp")?this.getLinuxData():$.Deferred().resolve(!0),i=this;return n.then(function(n){t&&i.using("linux")&&(t=n),i.using("msie")||i.using("trident")||!window.ActiveXObject&&"ActiveXObject"in window?t&&(t=i.handleOlderIE()):i.using("chrome")&&!i.using("linux")?t&&(t=i.handleChrome()):i.using("firefox")?t&&(t=i.handleOlderFireFox()):!i.using("safari")||i.using("android")||i.using("linux")||t&&(t=i.handleOlderSafari()),e.resolve(t)}),e}}},t=e();return t}),function(e){"use strict";var t="outerHTML";e.fn[t]||(e.fn[t]=function(t){var n,i=e(this);return t?n=i.replaceWith(t):"undefined"!=typeof i[0].outerHTML?n=i[0].outerHTML:(n=i.wrap("<div>").parent().html(),i.unwrap()),n})}(jQuery),function(e){"use strict";function t(t){var n=e(t),i=e(":focus"),o=0;if(1===i.length){var s=n.index(i);s+1<n.length&&(o=s+1)}n.eq(o).focus()}function n(t){var n=e(t),i=e(":focus"),o=n.length-1;if(1===i.length){var s=n.index(i);s>0&&(o=s-1)}n.eq(o).focus()}function i(t){function n(t){return e.expr.filters.visible(t)&&!e(t).add(e(t).parents()).filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i,o,s,r=t.nodeName.toLowerCase(),a=!isNaN(e.attr(t,"tabindex"));return"area"===r?(i=t.parentNode,o=i.name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(s=e("img[usemap=#"+o+"]")[0],!!s&&n(s))):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||a:a)&&n(t)}e.focusNext=function(){t(":focusable")},e.focusPrev=function(){n(":focusable")},e.tabNext=function(){t(":tabbable")},e.tabPrev=function(){n(":tabbable")},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(t,!o)}})}(jQuery),define("javascripts/local-jquery",["javascripts/jquery"],function(){}),function(e){function t(e,t){if(!t||"function"==typeof t)return e;for(var n in t)e[n]=t[n];return e}function n(e,t){for(var i in t)i in e?n(e[i],t[i]):e[i]=t[i];return e}function i(e,t,n){var i,o=0,s=e.length,r=void 0===s||"[object Array]"!==Object.prototype.toString.apply(e)||"function"==typeof e;if(n)if(r){for(i in e)if(t.apply(e[i],n)===!1)break}else for(;o<s&&t.apply(e[o++],n)!==!1;);else if(r){for(i in e)if(t.call(e[i],i,e[i])===!1)break}else for(;o<s&&t.call(e[o],o,e[o++])!==!1;);return e}function o(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return z[e]}):e}function s(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if("string"==typeof e)return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},i=function(e){e=e.replace(/\r\n/g,"\n");
for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},o=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=i(e);var n,o,s,r,a,l,c,u="",d=0;do n=e.charCodeAt(d++),o=e.charCodeAt(d++),s=e.charCodeAt(d++),r=n>>2,a=(3&n)<<4|o>>4,l=(15&o)<<2|s>>6,c=63&s,isNaN(o)?l=c=64:isNaN(s)&&(c=64),u+=t.charAt(r)+t.charAt(a)+t.charAt(l)+t.charAt(c),n=o=s="",r=a=l=c="";while(d<e.length);return u},s=function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},r=function(e,i,o,a){"function"==typeof o&&(a=o,o={}),o.cache=o.cache||!1,o.data=o.data||{},o.headers=o.headers||{},o.jsonp=o.jsonp||!1,o.async=void 0===o.async||o.async;var l,c=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},r.headers,o.headers);if(l="application/json"===c["content-type"]?JSON.stringify(o.data):n(o.data),"GET"===e){var u=[];if(l&&(u.push(l),l=null),o.cache||u.push("_="+(new Date).getTime()),o.jsonp&&(u.push("callback="+o.jsonp),u.push("jsonp="+o.jsonp)),u=u.join("&"),u.length>1&&(i+=i.indexOf("?")>-1?"&"+u:"?"+u),o.jsonp){var d=document.getElementsByTagName("head")[0],h=document.createElement("script");return h.type="text/javascript",h.src=i,void d.appendChild(h)}}t(function(t,n){if(t)return a(t);n.open(e,i,o.async);for(var s in c)c.hasOwnProperty(s)&&n.setRequestHeader(s,c[s]);n.onreadystatechange=function(){if(4===n.readyState){var e=n.responseText||"";if(!a)return;a(n.status,{text:function(){return e},json:function(){try{return JSON.parse(e)}catch(e){return X.error("Can not parse JSON. URL: "+i),{}}}})}},n.send(l)})},a={authBasic:function(e,t){r.headers.Authorization="Basic "+o(e+":"+t)},connect:function(e,t,n){return r("CONNECT",e,t,n)},del:function(e,t,n){return r("DELETE",e,t,n)},get:function(e,t,n){return r("GET",e,t,n)},head:function(e,t,n){return r("HEAD",e,t,n)},headers:function(e){r.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,i){n(i.text().indexOf(t)!==-1)})},options:function(e,t,n){return r("OPTIONS",e,t,n)},patch:function(e,t,n){return r("PATCH",e,t,n)},post:function(e,t,n){return r("POST",e,t,n)},put:function(e,t,n){return r("PUT",e,t,n)},trace:function(e,t,n){return r("TRACE",e,t,n)}},l=e.type?e.type.toLowerCase():"get";a[l](e.url,e,function(t,n){200===t||0===t&&n.text()?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function r(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},X.extend(G,e),delete G.fixLng,G.functions&&(delete G.functions,X.extend(X,e.functions)),"string"==typeof G.ns&&(G.ns={namespaces:[G.ns],defaultNs:G.ns}),"string"==typeof G.fallbackNS&&(G.fallbackNS=[G.fallbackNS]),"string"!=typeof G.fallbackLng&&"boolean"!=typeof G.fallbackLng||(G.fallbackLng=[G.fallbackLng]),G.interpolationPrefixEscaped=X.regexEscape(G.interpolationPrefix),G.interpolationSuffixEscaped=X.regexEscape(G.interpolationSuffix),G.lng||(G.lng=X.detectLanguage()),B=X.toLanguages(G.lng),P=B[0],X.log("currentLng set to: "+P),G.useCookie&&X.cookie.read(G.cookieName)!==P&&X.cookie.create(G.cookieName,P,G.cookieExpirationTime,G.cookieDomain),G.detectLngFromLocalStorage&&"undefined"!=typeof document&&window.localStorage&&X.localStorage.setItem("i18next_lng",P);var n=O;e.fixLng&&(n=function(e,t){return t=t||{},t.lng=t.lng||n.lng,O(e,t)},n.lng=P),Q.setCurrentLng(P),M&&G.setJqueryExt?y&&y():w&&w();var i;if(M&&M.Deferred&&(i=M.Deferred()),G.resStore){if(U=G.resStore,V=!0,t&&t(null,n),i&&i.resolve(n),i)return i.promise()}else{var o=X.toLanguages(G.lng);"string"==typeof G.preload&&(G.preload=[G.preload]);for(var s=0,r=G.preload.length;s<r;s++)for(var a=X.toLanguages(G.preload[s]),l=0,c=a.length;l<c;l++)o.indexOf(a[l])<0&&o.push(a[l]);if(F.sync.load(o,G,function(e,o){U=o,V=!0,t&&t(e,n),i&&(e?i.reject:i.resolve)(e||n)}),i)return i.promise()}}function a(){return V}function l(e,t){"string"==typeof e&&(e=[e]);for(var n=0,i=e.length;n<i;n++)G.preload.indexOf(e[n])<0&&G.preload.push(e[n]);return r(t)}function c(e,t,n,i){"string"!=typeof t?(n=t,t=G.ns.defaultNs):G.ns.namespaces.indexOf(t)<0&&G.ns.namespaces.push(t),U[e]=U[e]||{},U[e][t]=U[e][t]||{},i?X.deepExtend(U[e][t],n):X.extend(U[e][t],n),G.useLocalStorage&&H._storeLocal(U)}function u(e,t){"string"!=typeof t&&(t=G.ns.defaultNs),U[e]=U[e]||{};var n=U[e][t]||{},i=!1;for(var o in n)n.hasOwnProperty(o)&&(i=!0);return i}function d(e,t){return"string"!=typeof t&&(t=G.ns.defaultNs),U[e]=U[e]||{},X.extend({},U[e][t])}function h(e,t){"string"!=typeof t&&(t=G.ns.defaultNs),U[e]=U[e]||{},U[e][t]={},G.useLocalStorage&&H._storeLocal(U)}function p(e,t,n,i){"string"!=typeof t?(resource=t,t=G.ns.defaultNs):G.ns.namespaces.indexOf(t)<0&&G.ns.namespaces.push(t),U[e]=U[e]||{},U[e][t]=U[e][t]||{};for(var o=n.split(G.keyseparator),s=0,r=U[e][t];o[s];)s==o.length-1?r[o[s]]=i:(null==r[o[s]]&&(r[o[s]]={}),r=r[o[s]]),s++;G.useLocalStorage&&H._storeLocal(U)}function f(e,t,n){"string"!=typeof t?(resource=t,t=G.ns.defaultNs):G.ns.namespaces.indexOf(t)<0&&G.ns.namespaces.push(t);for(var i in n)"string"==typeof n[i]&&p(e,t,i,n[i])}function g(e){G.ns.defaultNs=e}function m(e,t){v([e],t)}function v(e,t){var n={dynamicLoad:G.dynamicLoad,resGetPath:G.resGetPath,getAsync:G.getAsync,customLoad:G.customLoad,ns:{namespaces:e,defaultNs:""}},i=X.toLanguages(G.lng);"string"==typeof G.preload&&(G.preload=[G.preload]);for(var o=0,s=G.preload.length;o<s;o++)for(var r=X.toLanguages(G.preload[o]),a=0,l=r.length;a<l;a++)i.indexOf(r[a])<0&&i.push(r[a]);for(var c=[],u=0,d=i.length;u<d;u++){var h=!1,p=U[i[u]];if(p)for(var f=0,g=e.length;f<g;f++)p[e[f]]||(h=!0);else h=!0;h&&c.push(i[u])}c.length?F.sync._fetch(c,n,function(n,i){var o=e.length*c.length;X.each(e,function(e,n){G.ns.namespaces.indexOf(n)<0&&G.ns.namespaces.push(n),X.each(c,function(e,s){U[s]=U[s]||{},U[s][n]=i[s][n],o--,0===o&&t&&(G.useLocalStorage&&F.sync._storeLocal(U),t())})})}):t&&t()}function T(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),t.lng=e,r(t,n)}function _(){return P}function E(e){U={},T(P,e)}function b(){window.i18next=window.i18n,W?window.i18n=W:delete window.i18n}function y(){function e(e,t,n){if(0!==t.length){var i="text";if(0===t.indexOf("[")){var o=t.split("]");t=o[1],i=o[0].substr(1,o[0].length-1)}t.indexOf(";")===t.length-1&&(t=t.substr(0,t.length-2));var s;if("html"===i)s=G.defaultValueFromContent?M.extend({defaultValue:e.html()},n):n,e.html(M.t(t,s));else if("text"===i)s=G.defaultValueFromContent?M.extend({defaultValue:e.text()},n):n,e.text(M.t(t,s));else if("prepend"===i)s=G.defaultValueFromContent?M.extend({defaultValue:e.html()},n):n,e.prepend(M.t(t,s));else if("append"===i)s=G.defaultValueFromContent?M.extend({defaultValue:e.html()},n):n,e.append(M.t(t,s));else if(0===i.indexOf("data-")){var r=i.substr("data-".length);s=G.defaultValueFromContent?M.extend({defaultValue:e.data(r)},n):n;var a=M.t(t,s);e.data(r,a),e.attr(i,a)}else s=G.defaultValueFromContent?M.extend({defaultValue:e.attr(i)},n):n,e.attr(i,M.t(t,s))}}function t(t,n){var i=t.attr(G.selectorAttr);if(i||"undefined"==typeof i||i===!1||(i=t.text()||t.val()),i){var o=t,s=t.data("i18n-target");if(s&&(o=t.find(s)||t),n||G.useDataAttrOptions!==!0||(n=t.data("i18n-options")),n=n||{},i.indexOf(";")>=0){var r=i.split(";");M.each(r,function(t,i){""!==i&&e(o,i,n)})}else e(o,i,n);if(G.useDataAttrOptions===!0){var a=M.extend({lng:"non",lngs:[],_origLng:"non"},n);delete a.lng,delete a.lngs,delete a._origLng,t.data("i18n-options",a)}}}M.t=M.t||O,M.fn.i18n=function(e){return this.each(function(){t(M(this),e);var n=M(this).find("["+G.selectorAttr+"]");n.each(function(){t(M(this),e)})})}}function w(){function e(e,t,n){if(0!==t.length){var i="text";if(0===t.indexOf("[")){var o=t.split("]");t=o[1],i=o[0].substr(1,o[0].length-1)}t.indexOf(";")===t.length-1&&(t=t.substr(0,t.length-2)),"html"===i?e.innerHTML=O(t,n):"text"===i?e.textContent=O(t,n):"prepend"===i?e.insertAdjacentHTML(O(t,n),"afterbegin"):"append"===i?e.insertAdjacentHTML(O(t,n),"beforeend"):e.setAttribute(i,O(t,n))}}function t(t,n){var i=t.getAttribute(G.selectorAttr);if(i||"undefined"==typeof i||i===!1||(i=t.textContent||t.value),i){var o=t,s=t.getAttribute("i18n-target");if(s&&(o=t.querySelector(s)||t),i.indexOf(";")>=0)for(var r=i.split(";"),a=0,l=r.length;a<l;a++)""!==r[a]&&e(o,r[a],n);else e(o,i,n)}}F.translateObject=function(e,n){for(var i=e.querySelectorAll("["+G.selectorAttr+"]"),o=0,s=i.length;o<s;o++)t(i[o],n)}}function S(e,t,n,i){if(!e)return e;if(i=i||t,e.indexOf(i.interpolationPrefix||G.interpolationPrefix)<0)return e;var o=i.interpolationPrefix?X.regexEscape(i.interpolationPrefix):G.interpolationPrefixEscaped,s=i.interpolationSuffix?X.regexEscape(i.interpolationSuffix):G.interpolationSuffixEscaped,r="HTML"+s,a=t.replace&&"object"==typeof t.replace?t.replace:t;return X.each(a,function(t,a){var l=n?n+G.keyseparator+t:t;"object"==typeof a&&null!==a?e=S(e,a,l,i):i.escapeInterpolation||G.escapeInterpolation?(e=e.replace(new RegExp([o,l,r].join(""),"g"),X.regexReplacementEscape(a)),e=e.replace(new RegExp([o,l,s].join(""),"g"),X.regexReplacementEscape(X.escape(a)))):e=e.replace(new RegExp([o,l,s].join(""),"g"),X.regexReplacementEscape(a))}),e}function C(e,t){var n=",",i="{",o="}",s=X.extend({},t);for(delete s.postProcess;e.indexOf(G.reusePrefix)!=-1&&(j++,!(j>G.maxRecursion));){var r=e.lastIndexOf(G.reusePrefix),a=e.indexOf(G.reuseSuffix,r)+G.reuseSuffix.length,l=e.substring(r,a),c=l.replace(G.reusePrefix,"").replace(G.reuseSuffix,"");if(a<=r)return X.error("there is an missing closing in following translation value",e),"";if(c.indexOf(n)!=-1){var u=c.indexOf(n);if(c.indexOf(i,u)!=-1&&c.indexOf(o,u)!=-1){var d=c.indexOf(i,u),h=c.indexOf(o,d)+o.length;try{s=X.extend(s,JSON.parse(c.substring(d,h))),c=c.substring(0,u)}catch(e){}}}var p=$(c,s);e=e.replace(l,X.regexReplacementEscape(p))}return e}function N(e){return e.context&&("string"==typeof e.context||"number"==typeof e.context)}function I(e,t){return void 0!==e.count&&"string"!=typeof e.count}function A(e){return void 0!==e.indefinite_article&&"string"!=typeof e.indefinite_article&&e.indefinite_article}function x(e,t){t=t||{};var n=R(e,t),i=k(e,t);return void 0!==i||i===n}function O(e,t){return t=t||{},V?(j=0,$.apply(null,arguments)):(X.log("i18next not finished initialization. you might have called t function before loading resources finished."),t.defaultValue||"")}function R(e,t){return void 0!==t.defaultValue?t.defaultValue:e}function L(){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);return{postProcess:"sprintf",sprintf:e}}function $(e,t){if(t&&"object"!=typeof t?"sprintf"===G.shortcutFunction?t=L.apply(null,arguments):"defaultValue"===G.shortcutFunction&&(t={defaultValue:t}):t=t||{},"object"==typeof G.defaultVariables&&(t=X.extend({},G.defaultVariables,t)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var n=e[0];if(e.length>1)for(var i=0;i<e.length&&(n=e[i],!x(n,t));i++);var o,s=R(n,t),r=k(n,t),a=t.lng?X.toLanguages(t.lng,t.fallbackLng):B,l=t.ns||G.ns.defaultNs;n.indexOf(G.nsseparator)>-1&&(o=n.split(G.nsseparator),l=o[0],n=o[1]),void 0===r&&G.sendMissing&&"function"==typeof G.missingKeyHandler&&(t.lng?G.missingKeyHandler(a[0],l,n,s,a):G.missingKeyHandler(G.lng,l,n,s,a));var c;c="string"==typeof G.postProcess&&""!==G.postProcess?[G.postProcess]:"array"==typeof G.postProcess||"object"==typeof G.postProcess?G.postProcess:[],"string"==typeof t.postProcess&&""!==t.postProcess?c=c.concat([t.postProcess]):"array"!=typeof t.postProcess&&"object"!=typeof t.postProcess||(c=c.concat(t.postProcess)),void 0!==r&&c.length&&c.forEach(function(e){Z[e]&&(r=Z[e](r,n,t))});var u=s;if(s.indexOf(G.nsseparator)>-1&&(o=s.split(G.nsseparator),u=o[1]),u===n&&G.parseMissingKey&&(s=G.parseMissingKey(s)),void 0===r&&(s=S(s,t),s=C(s,t),c.length)){var d=R(n,t);c.forEach(function(e){Z[e]&&(r=Z[e](d,n,t))})}return void 0!==r?r:s}function k(e,t){t=t||{};var n,i,o=R(e,t),s=B;if(!U)return o;if("cimode"===s[0].toLowerCase())return o;if(t.lngs&&(s=t.lngs),t.lng&&(s=X.toLanguages(t.lng,t.fallbackLng),!U[s[0]])){var r=G.getAsync;G.getAsync=!1,F.sync.load(s,G,function(e,t){X.extend(U,t),G.getAsync=r})}var a=t.ns||G.ns.defaultNs;if(e.indexOf(G.nsseparator)>-1){var l=e.split(G.nsseparator);a=l[0],e=l[1]}if(N(t)){n=X.extend({},t),delete n.context,n.defaultValue=G.contextNotFound;var c=a+G.nsseparator+e+"_"+t.context;if(i=O(c,n),i!=G.contextNotFound)return S(i,{context:t.context})}if(I(t,s[0])){n=X.extend({lngs:[s[0]]},t),delete n.count,n._origLng=n._origLng||n.lng||s[0],delete n.lng,n.defaultValue=G.pluralNotFound;var u;if(Q.needsPlural(s[0],t.count)){u=a+G.nsseparator+e+G.pluralSuffix;var d=Q.get(s[0],t.count);d>=0?u=u+"_"+d:1===d&&(u=a+G.nsseparator+e)}else u=a+G.nsseparator+e;if(i=O(u,n),i!=G.pluralNotFound)return S(i,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix});if(!(s.length>1))return n.lng=n._origLng,delete n._origLng,i=O(a+G.nsseparator+e,n),S(i,{count:t.count,interpolationPrefix:t.interpolationPrefix,interpolationSuffix:t.interpolationSuffix});var h=s.slice();if(h.shift(),t=X.extend(t,{lngs:h}),t._origLng=n._origLng,delete t.lng,i=O(a+G.nsseparator+e,t),i!=G.pluralNotFound)return i}if(A(t)){var p=X.extend({},t);delete p.indefinite_article,p.defaultValue=G.indefiniteNotFound;var f=a+G.nsseparator+e+(t.count&&!I(t,s[0])||!t.count?G.indefiniteSuffix:"");if(i=O(f,p),i!=G.indefiniteNotFound)return i}for(var g,m=e.split(G.keyseparator),v=0,T=s.length;v<T&&void 0===g;v++){for(var _=s[v],E=0,b=U[_]&&U[_][a];m[E];)b=b&&b[m[E]],E++;if(void 0!==b&&(!G.showKeyIfEmpty||""!==b)){var y=Object.prototype.toString.apply(b);if("string"==typeof b)b=S(b,t),b=C(b,t);else if("[object Array]"!==y||G.returnObjectTrees||t.returnObjectTrees){if(null===b&&G.fallbackOnNull===!0)b=void 0;else if(null!==b)if(G.returnObjectTrees||t.returnObjectTrees){if("[object Number]"!==y&&"[object Function]"!==y&&"[object RegExp]"!==y){var w="[object Array]"===y?[]:{};X.each(b,function(n){w[n]=$(a+G.nsseparator+e+G.keyseparator+n,t)}),b=w}}else G.objectTreeKeyHandler&&"function"==typeof G.objectTreeKeyHandler?b=G.objectTreeKeyHandler(e,b,_,a,t):(b="key '"+a+":"+e+" ("+_+")' returned an object instead of string.",X.log(b))}else b=b.join("\n"),b=S(b,t),b=C(b,t);"string"==typeof b&&""===b.trim()&&G.fallbackOnEmpty===!0&&(b=void 0),g=b}}if(void 0===g&&!t.isFallbackLookup&&(G.fallbackToDefaultNS===!0||G.fallbackNS&&G.fallbackNS.length>0)){if(t.isFallbackLookup=!0,G.fallbackNS.length){for(var x=0,L=G.fallbackNS.length;x<L;x++)if(g=k(G.fallbackNS[x]+G.nsseparator+e,t),g||""===g&&G.fallbackOnEmpty===!1){var D=g.indexOf(G.nsseparator)>-1?g.split(G.nsseparator)[1]:g,P=o.indexOf(G.nsseparator)>-1?o.split(G.nsseparator)[1]:o;if(D!==P)break}}else t.ns=G.ns.defaultNs,g=k(e,t);t.isFallbackLookup=!1}return g}function D(){var e,t=G.lngWhitelist||[],n=[];if("undefined"!=typeof window&&!function(){for(var e=window.location.search.substring(1),t=e.split("&"),i=0;i<t.length;i++){var o=t[i].indexOf("=");if(o>0){var s=t[i].substring(0,o);s==G.detectLngQS&&n.push(t[i].substring(o+1))}}}(),G.useCookie&&"undefined"!=typeof document){var i=X.cookie.read(G.cookieName);i&&n.push(i)}if(G.detectLngFromLocalStorage&&"undefined"!=typeof window&&window.localStorage){var o=X.localStorage.getItem("i18next_lng");o&&n.push(o)}if("undefined"!=typeof navigator){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return function(){for(var i=0;i<n.length;i++){var o=n[i];if(o.indexOf("-")>-1){var s=o.split("-");o=G.lowerCaseLng?s[0].toLowerCase()+"-"+s[1].toLowerCase():s[0].toLowerCase()+"-"+s[1].toUpperCase()}if(0===t.length||t.indexOf(o)>-1){e=o;break}}}(),e||(e=G.fallbackLng[0]),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var o=i>=0?i:Math.max(n-Math.abs(i),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=n;arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i))));for(var o=i>=0?Math.min(i,n-1):n-Math.abs(i);o>=0;o--)if(o in t&&t[o]===e)return o;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var P,M=e.jQuery||e.Zepto,F={},U={},j=0,B=[],V=!1,H={},W=null;"undefined"!=typeof module&&module.exports?module.exports=F:(M&&(M.i18n=M.i18n||F),e.i18n&&(W=e.i18n),e.i18n=F),H={load:function(e,t,n){t.useLocalStorage?H._loadLocal(e,t,function(i,o){for(var s=[],r=0,a=e.length;r<a;r++)o[e[r]]||s.push(e[r]);s.length>0?H._fetch(s,t,function(e,t){X.extend(o,t),H._storeLocal(t),n(e,o)}):n(i,o)}):H._fetch(e,t,function(e,t){n(e,t)})},_loadLocal:function(e,t,n){var i={},o=(new Date).getTime();if(window.localStorage){var s=e.length;X.each(e,function(e,r){var a=X.localStorage.getItem("res_"+r);a&&(a=JSON.parse(a),a.i18nStamp&&a.i18nStamp+t.localStorageExpirationTime>o&&(i[r]=a)),s--,0===s&&n(null,i)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),X.localStorage.setItem("res_"+t,JSON.stringify(e[t]))},_fetch:function(e,t,n){var i=t.ns,o={};if(t.dynamicLoad){var s=function(e,t){n(e,t)};if("function"==typeof t.customLoad)t.customLoad(e,i.namespaces,t,s);else{var r=S(t.resGetPath,{lng:e.join("+"),ns:i.namespaces.join("+")});X.ajax({url:r,cache:t.cache,success:function(e,t,n){X.log("loaded: "+r),s(null,e)},error:function(e,t,n){X.log("failed loading: "+r),s("failed loading resource.json error: "+n)},dataType:"json",async:t.getAsync,timeout:t.ajaxTimeout})}}else{var a,l=i.namespaces.length*e.length;X.each(i.namespaces,function(i,s){X.each(e,function(e,i){var r=function(e,t){e&&(a=a||[],a.push(e)),o[i]=o[i]||{},o[i][s]=t,l--,0===l&&n(a,o)};"function"==typeof t.customLoad?t.customLoad(i,s,t,r):H._fetchOne(i,s,t,r)})})}},_fetchOne:function(e,t,n,i){var o=S(n.resGetPath,{lng:e,ns:t});X.ajax({url:o,cache:n.cache,success:function(e,t,n){X.log("loaded: "+o),i(null,e)},error:function(e,t,n){if(t&&200==t||e&&e.status&&200==e.status)X.error("There is a typo in: "+o);else if(t&&404==t||e&&e.status&&404==e.status)X.log("Does not exist: "+o);else{var s=t?t:e&&e.status?e.status:null;X.log(s+" when loading "+o)}i(n,{})},dataType:"json",async:n.getAsync,timeout:n.ajaxTimeout})},postMissing:function(e,t,n,i,o){var s={};s[n]=i;var r=[];if("fallback"===G.sendMissingTo&&G.fallbackLng[0]!==!1)for(var a=0;a<G.fallbackLng.length;a++)r.push({lng:G.fallbackLng[a],url:S(G.resPostPath,{lng:G.fallbackLng[a],ns:t})});else if("current"===G.sendMissingTo||"fallback"===G.sendMissingTo&&G.fallbackLng[0]===!1)r.push({lng:e,url:S(G.resPostPath,{lng:e,ns:t})});else if("all"===G.sendMissingTo)for(var a=0,l=o.length;a<l;a++)r.push({lng:o[a],url:S(G.resPostPath,{lng:o[a],ns:t})});for(var c=0,u=r.length;c<u;c++){var d=r[c];X.ajax({url:d.url,type:G.sendType,data:s,success:function(e,o,s){X.log("posted missing key '"+n+"' to: "+d.url);for(var r=n.split("."),a=0,l=U[d.lng][t];r[a];)l=a===r.length-1?l[r[a]]=i:l[r[a]]=l[r[a]]||{},a++},error:function(e,t,i){X.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:G.postAsync,timeout:G.ajaxTimeout})}},reload:E};var G={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",detectLngFromLocalStorage:!1,ns:{namespaces:["translation"],defaultNs:"translation"},fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,showKeyIfEmpty:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",defaultVariables:!1,reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,indefiniteSuffix:"_indefinite",indefiniteNotFound:["indefinite_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,missingKeyHandler:H.postMissing,ajaxTimeout:0,shortcutFunction:"sprintf"},z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},q={create:function(e,t,n,i){var o;if(n){var s=new Date;s.setTime(s.getTime()+60*n*1e3),o="; expires="+s.toGMTString()}else o="";i=i?"domain="+i+";":"",document.cookie=e+"="+t+o+";"+i+"path=/"},read:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},K={create:function(e,t,n,i){},read:function(e){return null},remove:function(e){}},X={extend:M?M.extend:t,deepExtend:n,each:M?M.each:i,ajax:M?M.ajax:"undefined"!=typeof document?s:function(){},cookie:"undefined"!=typeof document?q:K,detectLanguage:D,escape:o,log:function(e){G.debug&&"undefined"!=typeof console&&console.log(e)},error:function(e){"undefined"!=typeof console&&console.error(e)},getCountyIndexOfLng:function(e){var t=0;return"nb-NO"!==e&&"nn-NO"!==e&&"nb-no"!==e&&"nn-no"!==e||(t=1),t},toLanguages:function(e,t){function n(e){var t=e;if("string"==typeof e&&e.indexOf("-")>-1){var n=e.split("-");t=G.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase()}else t=G.lowerCaseLng?e.toLowerCase():e;return t}var i=this.log;t=t||G.fallbackLng,"string"==typeof t&&(t=[t]);var o=[],s=G.lngWhitelist||!1,r=function(e){!s||s.indexOf(e)>-1?o.push(e):i("rejecting non-whitelisted language: "+e)};if("string"==typeof e&&e.indexOf("-")>-1){var a=e.split("-");"unspecific"!==G.load&&r(n(e)),"current"!==G.load&&r(n(a[this.getCountyIndexOfLng(e)]))}else r(n(e));for(var l=0;l<t.length;l++)o.indexOf(t[l])===-1&&t[l]&&o.push(n(t[l]));return o},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},regexReplacementEscape:function(e){return"string"==typeof e?e.replace(/\$/g,"$$$$"):e},localStorage:{setItem:function(e,t){if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(t){X.log('failed to set value for key "'+e+'" to localStorage.')}},getItem:function(e,t){if(window.localStorage)try{return window.localStorage.getItem(e,t)}catch(t){return void X.log('failed to get value for key "'+e+'" from localStorage.')}}}};X.applyReplacement=S;var Y=[["ach","Acholi",[1,2],1],["af","Afrikaans",[1,2],2],["ak","Akan",[1,2],1],["am","Amharic",[1,2],1],["an","Aragonese",[1,2],2],["ar","Arabic",[0,1,2,3,11,100],5],["arn","Mapudungun",[1,2],1],["ast","Asturian",[1,2],2],["ay","AymarÃ¡",[1],3],["az","Azerbaijani",[1,2],2],["be","Belarusian",[1,2,5],4],["bg","Bulgarian",[1,2],2],["bn","Bengali",[1,2],2],["bo","Tibetan",[1],3],["br","Breton",[1,2],1],["bs","Bosnian",[1,2,5],4],["ca","Catalan",[1,2],2],["cgg","Chiga",[1],3],["cs","Czech",[1,2,5],6],["csb","Kashubian",[1,2,5],7],["cy","Welsh",[1,2,3,8],8],["da","Danish",[1,2],2],["de","German",[1,2],2],["dev","Development Fallback",[1,2],2],["dz","Dzongkha",[1],3],["el","Greek",[1,2],2],["en","English",[1,2],2],["eo","Esperanto",[1,2],2],["es","Spanish",[1,2],2],["es_ar","Argentinean Spanish",[1,2],2],["et","Estonian",[1,2],2],["eu","Basque",[1,2],2],["fa","Persian",[1],3],["fi","Finnish",[1,2],2],["fil","Filipino",[1,2],1],["fo","Faroese",[1,2],2],["fr","French",[1,2],9],["fur","Friulian",[1,2],2],["fy","Frisian",[1,2],2],["ga","Irish",[1,2,3,7,11],10],["gd","Scottish Gaelic",[1,2,3,20],11],["gl","Galician",[1,2],2],["gu","Gujarati",[1,2],2],["gun","Gun",[1,2],1],["ha","Hausa",[1,2],2],["he","Hebrew",[1,2],2],["hi","Hindi",[1,2],2],["hr","Croatian",[1,2,5],4],["hu","Hungarian",[1,2],2],["hy","Armenian",[1,2],2],["ia","Interlingua",[1,2],2],["id","Indonesian",[1],3],["is","Icelandic",[1,2],12],["it","Italian",[1,2],2],["ja","Japanese",[1],3],["jbo","Lojban",[1],3],["jv","Javanese",[0,1],13],["ka","Georgian",[1],3],["kk","Kazakh",[1],3],["km","Khmer",[1],3],["kn","Kannada",[1,2],2],["ko","Korean",[1],3],["ku","Kurdish",[1,2],2],["kw","Cornish",[1,2,3,4],14],["ky","Kyrgyz",[1],3],["lb","Letzeburgesch",[1,2],2],["ln","Lingala",[1,2],1],["lo","Lao",[1],3],["lt","Lithuanian",[1,2,10],15],["lv","Latvian",[1,2,0],16],["mai","Maithili",[1,2],2],["mfe","Mauritian Creole",[1,2],1],["mg","Malagasy",[1,2],1],["mi","Maori",[1,2],1],["mk","Macedonian",[1,2],17],["ml","Malayalam",[1,2],2],["mn","Mongolian",[1,2],2],["mnk","Mandinka",[0,1,2],18],["mr","Marathi",[1,2],2],["ms","Malay",[1],3],["mt","Maltese",[1,2,11,20],19],["nah","Nahuatl",[1,2],2],["nap","Neapolitan",[1,2],2],["nb","Norwegian Bokmal",[1,2],2],["ne","Nepali",[1,2],2],["nl","Dutch",[1,2],2],["nn","Norwegian Nynorsk",[1,2],2],["no","Norwegian",[1,2],2],["nso","Northern Sotho",[1,2],2],["oc","Occitan",[1,2],1],["or","Oriya",[2,1],2],["pa","Punjabi",[1,2],2],["pap","Papiamento",[1,2],2],["pl","Polish",[1,2,5],7],["pms","Piemontese",[1,2],2],["ps","Pashto",[1,2],2],["pt","Portuguese",[1,2],2],["pt_br","Brazilian Portuguese",[1,2],2],["rm","Romansh",[1,2],2],["ro","Romanian",[1,2,20],20],["ru","Russian",[1,2,5],4],["sah","Yakut",[1],3],["sco","Scots",[1,2],2],["se","Northern Sami",[1,2],2],["si","Sinhala",[1,2],2],["sk","Slovak",[1,2,5],6],["sl","Slovenian",[5,1,2,3],21],["so","Somali",[1,2],2],["son","Songhay",[1,2],2],["sq","Albanian",[1,2],2],["sr","Serbian",[1,2,5],4],["su","Sundanese",[1],3],["sv","Swedish",[1,2],2],["sw","Swahili",[1,2],2],["ta","Tamil",[1,2],2],["te","Telugu",[1,2],2],["tg","Tajik",[1,2],1],["th","Thai",[1],3],["ti","Tigrinya",[1,2],1],["tk","Turkmen",[1,2],2],["tr","Turkish",[1,2],1],["tt","Tatar",[1],3],["ug","Uyghur",[1],3],["uk","Ukrainian",[1,2,5],4],["ur","Urdu",[1,2],2],["uz","Uzbek",[1,2],1],["vi","Vietnamese",[1],3],["wa","Walloon",[1,2],1],["wo","Wolof",[1],3],["yo","Yoruba",[1,2],2],["zh","Chinese",[1],3]],J={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},Q={rules:function(){var e,t={};for(e=Y.length;e--;)t[Y[e][0]]={name:Y[e][1],numbers:Y[e][2],plurals:J[Y[e][3]]};return t}(),addRule:function(e,t){Q.rules[e]=t},setCurrentLng:function(e){if(!Q.currentRule||Q.currentRule.lng!==e){var t=e.split("-");Q.currentRule={lng:e,rule:Q.rules[t[0]]}}},needsPlural:function(e,t){var n,i=e.split("-");return n=Q.currentRule&&Q.currentRule.lng===e?Q.currentRule.rule:Q.rules[i[X.getCountyIndexOfLng(e)]],!(n&&n.numbers.length<=1)&&1!==this.get(e,t)},get:function(e,t){function n(t,n){var i;if(i=Q.currentRule&&Q.currentRule.lng===e?Q.currentRule.rule:Q.rules[t]){var o;o=i.noAbs?i.plurals(n):i.plurals(Math.abs(n));var s=i.numbers[o];return 2===i.numbers.length&&1===i.numbers[0]&&(2===s?s=-1:1===s&&(s=1)),s}return 1===n?"1":"-1"}var i=e.split("-");return n(i[X.getCountyIndexOfLng(e)],t)}},Z={},ee=function(e,t){Z[e]=t},te=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var o,s,r,a,l,c,u,d=1,h=n.length,p="",f=[];for(s=0;s<h;s++)if(p=e(n[s]),"string"===p)f.push(n[s]);else if("array"===p){if(a=n[s],a[2])for(o=i[d],r=0;r<a[2].length;r++){if(!o.hasOwnProperty(a[2][r]))throw te('[sprintf] property "%s" does not exist',a[2][r]);o=o[a[2][r]]}else o=a[1]?i[a[1]]:i[d++];if(/[^s]/.test(a[8])&&"number"!=e(o))throw te("[sprintf] expecting number but found %s",e(o));switch(a[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=a[7]?o.toExponential(a[7]):o.toExponential();break;case"f":o=a[7]?parseFloat(o).toFixed(a[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&a[7]?o.substring(0,a[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(a[8])&&a[3]&&o>=0?"+"+o:o,c=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",u=a[6]-String(o).length,l=a[6]?t(c,u):"",f.push(a[5]?o+l:l+o)}return f.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],i=[],o=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){o|=1;var s=[],r=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(r)))throw"[sprintf] huh?";for(s.push(a[1]);""!==(r=r.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(r)))s.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(r)))throw"[sprintf] huh?";s.push(a[1])}n[2]=s}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}t=t.substring(n[0].length)}return i},n}(),ne=function(e,t){return t.unshift(e),te.apply(null,t)};ee("sprintf",function(e,t,n){return n.sprintf?"[object Array]"===Object.prototype.toString.apply(n.sprintf)?ne(e,n.sprintf):"object"==typeof n.sprintf?te(e,n.sprintf):e:e}),F.init=r,F.isInitialized=a,F.setLng=T,F.preload=l,F.addResourceBundle=c,F.hasResourceBundle=u,F.getResourceBundle=d,F.addResource=p,F.addResources=f,F.removeResourceBundle=h,F.loadNamespace=m,F.loadNamespaces=v,F.setDefaultNamespace=g,F.t=O,F.translate=O,F.exists=x,F.detectLanguage=X.detectLanguage,F.pluralExtensions=Q,F.sync=H,F.functions=X,F.lng=_,F.addPostProcessor=ee,F.applyReplacement=X.applyReplacement,F.options=G,F.noConflict=b}("undefined"==typeof exports?window:exports),define("javascripts/i18next-latest",["javascripts/jquery"],function(){}),!function(e){"function"==typeof define&&define.amd?define("javascripts/jquery.jgrowl.min",["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),
e(n),n}:e(jQuery)}(function(e){e.jGrowl=function(t,n){0===e("#jGrowl").length&&e('<div id="jGrowl"></div>').addClass(n&&n.position?n.position:e.jGrowl.defaults.position).appendTo(n&&n.appendTo?n.appendTo:e.jGrowl.defaults.appendTo),e("#jGrowl").jGrowl(t,n)},e.fn.jGrowl=function(t,n){if(void 0===n&&e.isPlainObject(t)&&(n=t,t=n.message),e.isFunction(this.each)){var i=arguments;return this.each(function(){void 0===e(this).data("jGrowl.instance")&&(e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null})),e(this).data("jGrowl.instance").startup(this)),e.isFunction(e(this).data("jGrowl.instance")[t])?e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(i).slice(1)):e(this).data("jGrowl.instance").create(t,n)})}},e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",appendTo:"body",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},click:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,n){var i=e.extend({},this.defaults,n);"undefined"!=typeof i.speed&&(i.openDuration=i.speed,i.closeDuration=i.speed),this.notifications.push({message:t,options:i}),i.log.apply(this.element,[this.element,t,i])},render:function(t){var n=this,i=t.message,o=t.options;o.themeState=""===o.themeState?"":"ui-state-"+o.themeState;var s=e("<div/>").addClass("jGrowl-notification alert "+o.themeState+" ui-corner-all"+(void 0!==o.group&&""!==o.group?" "+o.group:"")).append(e("<button/>").addClass("jGrowl-close").html(o.closeTemplate)).append(e("<div/>").addClass("jGrowl-header").html(o.header)).append(e("<div/>").addClass("jGrowl-message").html(i)).data("jGrowl",o).addClass(o.theme).children(".jGrowl-close").bind("click.jGrowl",function(){return e(this).parent().trigger("jGrowl.beforeClose"),!1}).parent();e(s).bind("mouseover.jGrowl",function(){e(".jGrowl-notification",n.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){e(".jGrowl-notification",n.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){o.beforeOpen.apply(s,[s,i,o,n.element])!==!1&&e(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){o.open.apply(s,[s,i,o,n.element])!==!1&&("after"==o.glue?e(".jGrowl-notification:last",n.element).after(s):e(".jGrowl-notification:first",n.element).before(s),e(this).animate(o.animateOpen,o.openDuration,o.easing,function(){e.support.opacity===!1&&this.style.removeAttribute("filter"),null!==e(this).data("jGrowl")&&"undefined"!=typeof e(this).data("jGrowl")&&(e(this).data("jGrowl").created=new Date),e(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){o.afterOpen.apply(s,[s,i,o,n.element])}).bind("click",function(){o.click.apply(s,[s,i,o,n.element])}).bind("jGrowl.beforeClose",function(){o.beforeClose.apply(s,[s,i,o,n.element])!==!1&&e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",!0),e(this).animate(o.animateClose,o.closeDuration,o.easing,function(){e.isFunction(o.close)?o.close.apply(s,[s,i,o,n.element])!==!1&&e(this).remove():e(this).remove()})}).trigger("jGrowl.beforeOpen"),""!==o.corners&&void 0!==e.fn.corner&&e(s).corner(o.corners),e(".jGrowl-notification:parent",n.element).length>1&&0===e(".jGrowl-closer",n.element).length&&this.defaults.closer!==!1&&e(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose"),e.isFunction(n.defaults.closer)&&n.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])})},update:function(){e(this.element).find(".jGrowl-notification:parent").each(function(){void 0!==e(this).data("jGrowl")&&void 0!==e(this).data("jGrowl").created&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life,10)<(new Date).getTime()&&e(this).data("jGrowl").sticky!==!0&&(void 0===e(this).data("jGrowl.pause")||e(this).data("jGrowl.pause")!==!0)&&e(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0===this.defaults.pool||e(this.element).find(".jGrowl-notification:parent").length<this.defaults.pool)&&this.render(this.notifications.shift()),e(this.element).find(".jGrowl-notification:parent").length<2&&e(this.element).find(".jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})},startup:function(t){this.element=e(t).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){var n=e(t).data("jGrowl.instance");if(void 0!==n)try{n.update()}catch(e){throw n.shutdown(),e}},parseInt(this.defaults.check,10))},shutdown:function(){try{e(this.element).removeClass("jGrowl").find(".jGrowl-notification").trigger("jGrowl.close").parent().empty()}catch(e){throw e}finally{clearInterval(this.interval)}},close:function(){e(this.element).find(".jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}}),e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults}),!jQuery.support.cors&&jQuery.ajaxTransport&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),htmlRegEx=/text\/html/i,jsonRegEx=/\/json/i,xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t,n){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(e.url)&&sameSchemeRegEx.test(e.url)){var i=null,o=(t.dataType||"").toLowerCase();return{send:function(n,s){i=new XDomainRequest,/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout),i.ontimeout=function(){s(500,"timeout")},i.onload=function(){var e="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,t={code:200,message:"success"},n={text:i.responseText};try{if("html"===o||htmlRegEx.test(i.contentType))n.html=i.responseText;else if("json"===o||"text"!==o&&jsonRegEx.test(i.contentType))try{n.json=jQuery.parseJSON(i.responseText)}catch(e){t.code=500,t.message="parseerror"}else if("xml"===o||"text"!==o&&xmlRegEx.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(e){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(e){throw e}finally{s(t.code,t.message,n,e)}},i.onprogress=function(){},i.onerror=function(){s(500,"error",{text:i.responseText})};var r="";t.data&&(r="string"===jQuery.type(t.data)?t.data:jQuery.param(t.data)),i.open(e.type,e.url),i.send(r)},abort:function(){i&&i.abort()}}}})}define("javascripts/jQuery.XDomainRequest",["javascripts/jquery"],function(){}),define("EventEmitter",["require","exports"],function(e,t){var n=function(){function e(e,t){this._type=e,this._target=t}return e.prototype.getTarget=function(){return this._target},e.prototype.getType=function(){return this._type},e}();t.Event=n;var i=function(){function e(){this._listeners=[]}return e.prototype.hasListener=function(e,t){for(var n,i=this._listeners.length,o=i;o--;)if(n=this._listeners[o],n.type===e&&n.listener===t)return!0;return!1},e.prototype.addListener=function(e,t,n){this.hasListener(e,t)||this._listeners.push({type:e,listener:t,context:n})},e.prototype.removeListener=function(e,t){for(var n,i=this._listeners.length,o=i;o--;)n=this._listeners[o],n.type===e&&n.listener===t&&this._listeners.splice(o,1)},e.prototype.emitEvent=function(e){for(var t,n=this._listeners.length,i=n;i--;)if(t=this._listeners[i],t&&t.type&&t.type===e.getType()){var o=this;void 0!==t.context&&(o=t.context),t.listener.call(o,e)}},e}();t.EventEmitter=i}),define("Form",["require","exports"],function(e,t){!function(e){var t=function(){function e(e){this._contentUrlHost="",this._contentUrlPath="",void 0!==e&&this.parse(e)}return e.prototype.getProp=function(e,t){var n="";return e in t&&(n=t[e]),n},e.prototype.getNumericProp=function(e,t,n){var i="";if(e in t&&(i=t[e]),!i)return n;try{return i=parseInt(i+"")}catch(e){return n}return i},e.prototype.parse=function(e){this._key=this.getProp("contentKey",e),this._url=this.getProp("contentURL",e),this._name=this.getProp("formName",e),this._id=this.getProp("formId",e),this._num=this.getProp("formNumber",e),this._loginId=this.getProp("testnavLoginId",e),this._securityLevel=this.getProp("securityLevel",e),this._testName=void 0!==this.getProp("testName",e)?this.getProp("testName",e):"Test 1",this._pnpConfig=void 0!==this.getProp("pnp",e)?this.getProp("pnp",e):void 0,this._contentVersion=void 0!==this.getProp("contentVersion",e)?this.getProp("contentVersion",e):"1";var t=void 0;if(this._forcedResumedSectionIndex=void 0,this._pnpConfig)try{if(t=JSON.parse(this._pnpConfig),t.accessForAllUser&&t.accessForAllUser.resume)try{this._forcedResumedSectionIndex=t.accessForAllUser.resume.section}catch(e){this._forcedResumedSectionIndex=void 0}}catch(e){t=void 0}t&&t.accessForAllUser&&t.accessForAllUser.displays&&t.accessForAllUser.displays.screenReader&&t.accessForAllUser.displays.screenReader.application&&(this._whitelist=t.accessForAllUser.displays.screenReader.application.split(",")),this._testStatusInd=void 0!==this.getProp("testStatusInd",e)?this.getProp("testStatusInd",e):void 0,this._readAloudInd=void 0!==this.getProp("readAloud",e)&&this.getProp("readAloud",e).length>0?this.getProp("readAloud",e):"N",this._preloadSizePc=1,this._preloadSizeNoPc=1,this._proctorPassword=void 0!==this.getProp("proctorPassword",e)?this.getProp("proctorPassword",e):void 0,this._wireKey=void 0!==this.getProp("wireKey",e)?this.getProp("wireKey",e):void 0,this.constructContentUrl(this.getProp("contentUrlComponents",e))},e.prototype.parseFromCookieObj=function(e){this._key=this.getProp("_key",e),this._url=this.getProp("_url",e),this._name=this.getProp("_name",e),this._id=this.getProp("_id",e),this._num=this.getProp("_num",e),this._loginId=this.getProp("_loginId",e)},e.prototype.isEncrypted=function(){return void 0!==this._key&&this._key.length>0},e.prototype.getKey=function(){return this._key},e.prototype.getUrl=function(){return this._url},e.prototype.getName=function(){return this._name},e.prototype.getNumber=function(){return this._num},e.prototype.getId=function(){return this._id},e.prototype.getLoginId=function(){return this._loginId},e.prototype.getTestSecurityLevel=function(){return this._securityLevel},e.prototype.getTestName=function(){return this._testName},e.prototype.getPnp=function(){return this._pnpConfig},e.prototype.getTestStatusInd=function(){return this._testStatusInd},e.prototype.getReadAloudInd=function(){return this._readAloudInd},e.prototype.getPreloadSizePc=function(){return this._preloadSizePc},e.prototype.getPreloadSizeNoPc=function(){return this._preloadSizeNoPc},e.prototype.getWhitelist=function(){return this._whitelist?this._whitelist:new Array},e.prototype.getContentVersion=function(){return this._contentVersion},e.prototype.getProctorPassword=function(){return this._proctorPassword},e.prototype.getWireKey=function(){return this._wireKey},e.prototype.getForcedResumedSectionIndex=function(){return this._forcedResumedSectionIndex},e.prototype.constructContentUrl=function(e){if(e){var t=function(e,t){var n=t;return n||(n="/"),e&&e.length>0?e+n:""};this._contentUrlHost=t(e.p,"://")+t(e.h),this._contentUrlLocationPath=t(e.cc)+t(e.bd)+t(e.fd),this._contentUrl=this._contentUrlHost+this._contentUrlLocationPath}},e.prototype.getContentUrlHost=function(){return this._contentUrlHost},e.prototype.getContentUrlLocationPath=function(){return this._contentUrlLocationPath},e.prototype.getContentUrl=function(){return this._contentUrl},e}();e.TestForm=t}(t.TestEngine||(t.TestEngine={}))}),define("Cookie",["require","exports"],function(e,t){!function(e){var t=function(){function e(){}return e.getItem=function(e){return e&&this.hasItem(e)?decodeURI(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+encodeURI(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},e.setItem=function(e,t,n){if(e&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){var i,o,s,r="";r="; expires="+n.toUTCString(),document.cookie=encodeURI(e)+"="+encodeURI(t)+r+(i?"; domain="+i:"")+(o?"; path="+o:"")+(s?"; secure":"")}},e.removeItem=function(e,t){e&&this.hasItem(e)&&(document.cookie=encodeURI(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; path="+t:""))},e.hasItem=function(e){return new RegExp("(?:^|;\\s*)"+encodeURI(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.keys=function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURI(e[t]);return e},e}();e.Cookie=t}(t.TestEngine||(t.TestEngine={}))}),define("Session",["require","exports"],function(e,t){var n=function(){function e(){this._resumeOverride=!1,this._resumeRestriction=!1,this._unsubmitted=!1,this._lastActivityTime=0,this._serverCurrentTime=0}return e.prototype.getResumeOverride=function(){return this._resumeOverride},e.prototype.setResumeOverride=function(e){this._resumeOverride=e},e.prototype.getResumeRestriction=function(){return this._resumeRestriction},e.prototype.setResumeRestriction=function(e){this._resumeRestriction=e},e.prototype.getUnsubmitted=function(){return this._unsubmitted},e.prototype.setUnsubmitted=function(e){this._unsubmitted=e},e.prototype.getLastActivityTime=function(){return this._lastActivityTime},e.prototype.setLastActivityTime=function(e){this._lastActivityTime=e},e.prototype.getServerCurrentTime=function(){return this._serverCurrentTime},e.prototype.setServerCurrentTime=function(e){this._serverCurrentTime=e},e}();t.Session=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n};define("Authentication",["require","exports","./EventEmitter","./Form","./Cookie","./Session"],function(e,t,n,i,o,s){var r=n,a=i,l=o,c=s;!function(e){var t=function(e){function t(t,n){e.call(this),this._devMode=!1,this._contentCustomerCode="",this._group,this._apiBaseUrl=t,this.disableCookieDelete=!1,this._xinfo=void 0,this._session=void 0,n&&(this._devMode=n),this.loadCookie()}return __extends(t,e),t.COMPLETE="login_complete",t.FAILURE="login_failure",t.ERROR="login_error",t.REFRESH_COMPLETE="refresh_complete",t.REFRESH_FAILURE="refresh_failure",t.REFRESH_ERROR="refresh_error",t.prototype.getEndpoint=function(e){var t="";return"refreshForms"===e?t+="/authRefreshTests":"administrator"===e||"student"===e||"loginToken"===e?t+="/authenticate":console.log("login type "+e+"does not exist."),t},t.prototype.setNativeComponent=function(e){this._native=e},t.prototype.destroyCookie=function(){l.TestEngine.Cookie.removeItem("login",""),this.loadProps({})},t.prototype.destroySessionCookie=function(){this.destroyCookie(),this.rebuildCookie(!1)},t.prototype.removeLoginCookie=function(){l.TestEngine.Cookie.removeItem("login","")},t.prototype.rebuildCookie=function(e){var t={realname:this._realname,_userToken:this._userToken,currentForm:this._currentForm};return this._loginToken?t.loginToken=this._loginToken:t.username=this._username,t.firstName=this._firstName,t.lastName=this._lastName,e&&(t._sessionToken=this._sessionToken),t},t.prototype.loadProps=function(e){e.loginToken?this._loginToken=e.loginToken:this._username=e.username,this._firstName=e.firstName,this._lastName=e.lastName,this._realname=e.realname,e._userToken&&(this._userToken=e._userToken),void 0!==e.currentForm&&(this._currentForm=new a.TestEngine.TestForm,this._currentForm.parseFromCookieObj(e.currentForm))},t.prototype.loadCookie=function(){try{var e=l.TestEngine.Cookie.getItem("login");if(e){var t=JSON.parse(e);this.loadProps(t)}}catch(e){console.log("Failed to load cookie. ")}},t.prototype.setCookieItem=function(e,t){var n;n=new Date(Date.now());var i="";n.setTime(n.getTime()+864e5),i=n.toUTCString(),l.TestEngine.Cookie.setItem(e,t,n)},t.prototype.removeCookieItem=function(e){l.TestEngine.Cookie.removeItem(e,"")},t.prototype.getCookieItem=function(e){return l.TestEngine.Cookie.getItem(e)},t.prototype.checkForLoginCookie=function(){l.TestEngine.Cookie.hasItem("login")},t.prototype.loginSuccess=function(e,n,i,o){var s=this;if(null===e||void 0===e)return void this.emitEvent(new r.Event(t.ERROR,"5020"));this._userToken=e.userToken,this._sessionToken=e.sessionToken||void 0,this._codeKey=e.codeKey,this._staticKey=e.staticKey,this._loginType=e.loginType;var a=function(e){for(var t in e)if(e.hasOwnProperty(t)&&"function"!=typeof t)return e[t]},l=0;e.forms||(e.forms=[]),l=window.TestEngine._isiOSWebView?Object.keys(e.forms).length:e.forms.length,this._realname=e.userName,this._firstName=void 0===e.firstName||null===e.firstName?"":e.firstName,this._lastName=void 0===e.lastName||null===e.lastName?"":e.lastName,this._customerId=e.customerId;var c=a(e.forms);c&&c.contentUrlComponents&&(this._contentCustomerCode=c.contentUrlComponents.cc);var u=(this.rebuildCookie(!1),e.forms||null,function(){o?o.call(s,e):s.emitEvent(new r.Event(t.ERROR,"5020"))});window.TestEngine.onLoginSuccess(u)},t.prototype.generateAjaxSettings=function(e,t,n,i){var o=this,s={},r=function(e,t,r){o.ajaxFailureCallback(e,t,r,s,"Authentication","login",n,i)};return s.type="POST",s.data={logMsg:t},e.loginToken?s.data.loginToken=e.loginToken:(s.data.email=e.user,s.data.password=e.pass),s.data.deviceScreenSize=this._native?this._native.getDeviceScreenSize():void 0,s.data.deviceModel=this._native?this._native.getDeviceModel():void 0,s.context=this,s.dataType="json",s.timeout=15e3,s.success=function(e,t,n){o.loginSuccess(e,t,n,i)},s.error=function(e,t,n){r(e,t,n)},s},t.prototype.generateAjaxRefreshSettings=function(e,t){var n=this,i=function(i,s,r){n.ajaxFailureCallback(i,s,r,o,"Authentication","refreshForms",e,t)},o={};return o.type="POST",o.data=JSON.stringify({u_sess:this.getLoginToken()}),o.context=this,o.url=e,o.dataType="json",o.timeout=25e3,o.crossDomain=!0,o.success=function(e){n._lastRefreshFormsData=n._refreshFormsData,n._refreshFormsData=e,n._loginType=e.loginType,n.setCodeKey(e.codeKey),n.setForms(e.forms),t(e)},o.error=function(e,t,n){i(e,t,n)},o},t.prototype.login=function(e,t,n,i,o){var s,r=location.protocol+"//"+location.hostname+"/api/8.0";return r=window.TestEngine.getHttpsUrl(r),r+=this.getEndpoint(t),e.loginToken?this._loginToken=e.loginToken:this._username=e.user,this._devMode?void this.loginSuccess({},null,null):(s=this.generateAjaxSettings(e,n,r,i),void jQuery.ajax(r,s))},t.prototype.refreshForms=function(e){var t=window.TestEngine._auth;window.TestEngine.refreshFormInvoked=!0,url=location.protocol+"//"+location.hostname+"/api/8.0"+this.getEndpoint("refreshForms"),url=window.TestEngine.getHttpsUrl(url),t._authRefreshCallback=e;var n=this.generateAjaxRefreshSettings(url,e);jQuery.ajax(n)},t.prototype.authSelectTest=function(e){var t,n=this.getLoginId(),i=this.getLoginToken(),o=window.TestEngine._auth;t=location.protocol+"//"+location.hostname+"/api/8.0/authSelectTest/"+n;var s={};s.type="POST",s.context=this,s.dataType="json",s.timeout=25e3,s.data='{"u_sess":"'+i+'"}',s.async=!0,t=window.TestEngine.getHttpsUrl(t),s.url=t,s.success=function(t){$(document).trigger("inform.authSelectTestSuccess"),o._session=new c.Session,e.call(window.TestEngine,t,e)},s.error=function(e,t,n){r(e,t,n)};var r=function(t,n,i){o.ajaxFailureCallback(t,n,i,s,"TestEngine","selectTest",null,e)};$.ajax(s)},t.prototype.setCurrentForm=function(e){this._currentForm=e,this.rebuildCookie(!0)},t.prototype.ajaxFailureCallback=function(e,t,n,i,o,s,r,a,l,c){var u,d,h=1,p=this,f=function(){console.log("Retry attempts failed."),d=p.getCallFailureCode(o,e,t,n);var i="Server Connection Error";"refreshForms"===s&&(d="5022"===d||"8022"===d?"5031":"5030"),"State"===o&&"retrieveState"===s&&(d="9061",i="Retrieving State failed"),u={success:"no",msg:i,msgCode:d},a&&(c?a.call(p,c):a(u),console.log("Ajax error. Data: ",u))};console.log(o+"."+s+"() ajax call failed: ",t,n,e),console.log("Retry Attempt ",h),r&&(i.url=r),i.error=function(){h+=1,console.log(o+"."+s+"() ajax call failed: ",t,n,e),h<=2&&!l?(console.log("Retry Attempt ",h),"timeout"===e.textStatus&&i.timeout&&(i.timeout+=5e3),(window.TestEngine.isChromeApp()||window.TestEngine.isAndroidApp())&&"login"!==s&&"selectTest"!==s&&"refreshForms"!==s?window.TestEngine._native.executeRetryRequests(i):$.ajax(i)):f()},l?f():(window.TestEngine.isChromeApp()||window.TestEngine.isAndroidApp())&&"login"!==s&&"selectTest"!==s&&"refreshForms"!==s?window.TestEngine._native.executeRetryRequests(i):$.ajax(i)},t.prototype.getCallFailureCode=function(e,t,n,i){var o=!0,s=!0,r=this.getCallFailureCodeStart(e);switch(t.status){case 0:if("timeout"!==n)return r+"21";break;case 12029:if("timeout"!==n)return r+"21";break;case 12007:if("timeout"!==n)return r+"21";break;case 404:return r+"22";case 500:return r+"22";default:s=!1}switch(n){case"parsererror":return r+"23";case"timeout":return r+"24";case"abort":return r+"25";default:o=!1}if(!s&&!o)return r+"26"},t.prototype.getCallFailureCodeStart=function(e){switch(e){case"Authentication":return"50";case"State":return"60";case"Navigation":return"70";case"TestEngine":return"80";default:return"50"}},t.prototype.getFormId=function(){return this._currentForm?this._currentForm.getId():""},t.prototype.getLoginId=function(){return this._currentForm?this._currentForm.getLoginId():""},t.prototype.getUserName=function(){return this._username},t.prototype.getTokenBasedLoginToken=function(){return this._loginToken},t.prototype.getLoginToken=function(){return this._userToken},t.prototype.getSessionToken=function(){return this._sessionToken},t.prototype.getLastSessionToken=function(){return this._lastSessionToken},t.prototype.getRealName=function(){return this._realname},t.prototype.getFirstName=function(){return this._firstName},t.prototype.getLastName=function(){return this._lastName},t.prototype.getCurrentForm=function(){return this._currentForm},t.prototype.getCodeKey=function(){return this._codeKey},t.prototype.getStaticKey=function(){return this._staticKey},t.prototype.getForms=function(){return this._forms},t.prototype.getContentCustomerCode=function(){return this._contentCustomerCode},t.prototype.getCustomerId=function(){return this._customerId},t.prototype.getLoginType=function(){return this._loginType},t.prototype.setCodeKey=function(e){this._codeKey=e},t.prototype.setStaticKey=function(e){this._staticKey=e},t.prototype.setApiBaseUrl=function(e){this._apiBaseUrl=e},t.prototype.setSessionToken=function(e){this._sessionToken=e},t.prototype.setLastSessionToken=function(e){this._lastSessionToken=e},t.prototype.setLoginToken=function(e){this._userToken=e},t.prototype.setRealName=function(e){this._realname=e},t.prototype.setUserName=function(e){this._username=e},t.prototype.setForms=function(e){this._forms=e},t.prototype.setTokenBasedLoginToken=function(e){this._loginToken=e},t.prototype.getLastRefreshFormsData=function(){return this._lastRefreshFormsData},t.prototype.getXInfo=function(){return this._xinfo},t.prototype.setXInfo=function(e){this._xinfo=e},t.prototype.getSession=function(){return this._session},t.prototype.cleanupBetweenTests=function(){this._session=void 0,this._xinfo=void 0,this._currentForm=void 0},t}(r.EventEmitter);e.Authentication=t}(t.TestEngine||(t.TestEngine={}))}),define("Utils",["require","exports"],function(e,t){!function(e){var t=function(){function e(){}return e.deepCopy=function(e){var t=JSON.stringify(e);return JSON.parse(t)},e.getObjectClass=function(e){if(e&&e.constructor&&e.constructor.toString){var t=e.constructor.toString().match(/function\s*(\w+)/);if(t&&2===t.length)return t[1]}},e.addUniqueQueryParam=function(e){return e.indexOf("?")===-1?e+"?unq="+(new Date).getTime():e+"&unq="+(new Date).getTime()},e.isValidProctorCacheIp=function(e){for(var t=e.split("."),n=!1,i=0;i<t.length;i++)isNaN(parseInt(t[i]))||(n=!0);return!n||!!/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},e.getMacOSVersionFromUserAgent=function(){var e=navigator.userAgent.toLowerCase();if(e.indexOf("mac os x")!==-1){var t=e.indexOf("firefox")!==-1?e.match(/mac os x (\w+.\w+)/)[1].split("."):e.match(/mac os x (\w+)/)[1].split("_");return t}},e.isWindows=function(){return navigator.appVersion.toLowerCase().indexOf("windows")!==-1},e.isMac=function(){return navigator.userAgent.toLowerCase().indexOf("macintosh")!==-1},e.isLinux=function(){return navigator.appVersion.indexOf("X11")!==-1},e}();e.Utils=t}(t.TestEngine||(t.TestEngine={}))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n};define("TestEngine",["require","exports","./EventEmitter","./Authentication","./Form","./Utils"],function(e,t,n,i,o,s){var r,a,l,c,u,d,h,p,f,g=n,m=o,v=s,T=i;!function(t){var n=function(t){function n(e){t.call(this),this._version="8.14.121",this._devMode=!1,this._testnav_securable_env=window.testnav_securable_env||!1,this._apiBaseUri="",this._apiRemoteUri="",this._testId="",this._desktopLocked=!1,this._resizeEvents=0,this._isIdevice=null,this._isiOSWebView=null,this._isChromeApp=null,this._isAndroidApp=null,this.lostFocusEventFired=!1,this._staticKey=null,this._ewsErrorCallback=null,this._ewsRetrySucessfullCallback=null,this._srfVerified=!1,this.selectedTestId,this.selectedFormId,this.selectedLoginId,this.storeResponsesFailed=!1,this._isJXbr=void 0,this._isChromeOS=null,this._isAndroidOS=null,this._apiBaseUri=this.compileApiUri(),this._auth=new T.TestEngine.Authentication(this._apiBaseUri,this._devMode),this._engineCallbackMapper=new Object,this._nativeUrlIndicator=void 0,e&&(this._devMode=e),this._responseQueue={},this._pendingResponseQueueList={},this._isResponseSendingInProgress=!1,this._exitAppCheck=!0,this._shouldStartTest=!1,this._logFilename,this._isFatalError,this._shouldChangeLastActivity=!1,this.logLocation="./logs/",this._testInProgress=!1,this._windowName="TestNav",this._isHttps=window.location.href.indexOf("https://")!==-1,this._testnavEventQueue=new Array,this.RESPONSE_THRESHOLD_SIZE=2e6,this._initPreloadList,this._srfBackupPath=void 0,this.SRF_TIMEOUT_TIME=13e4,this._baseLocation="../lib/",this._libsLoaded=!1,this.hasEngineInitialized=!1,this.checksumData={},this._srfTimeoutCalled=!1;var n=this,i=function(e){n._native=e,n._auth.setNativeComponent(this._native),n.hasEngineInitialized=!0,n._isAppModeBool=n._isAppMode(),n._isSecureMode=n.checkForSecureMode(),$(document).on("tn.navigate.login",function(){window.TestEngine.cleanUp(),window.TestEngine._testSetupComplete=!1}),n.emitEvent(new g.Event(window.TestEngine.constructor.ENGINE_INITIALIZED,null))};n.createNativeComponent(i),n.loadChecksum()}return __extends(n,t),n.TEST_SETUP_COMPLETE="setup_complete",n.TEST_SETUP_FAILURE="setup_failure",n.GUIDED_ACCESS_CHANGED="guidedacceschanged",n.PROXY_SETUP_FAILURE="proxy_setup_failure",n.APP_OUTDATED="app_outated",n.APP_INITIALIZED="app_initialized",n.MIDDLE_FILES_COMPROMISED="middle_Files_Compromised",n.MD5_CHECKSUM_MISMATCH="md5_checksum_mismatch",n.CONTENT_VERSION_MISMATCH="content_version_mismatch",n.INIT_PAR_PRELOADED="init_par_preloaded",n.FATAL_ENGINE_ERROR="fatal_engine_error",n.OUT_OF_MEMORY_WARNING="out_of_memory_warning",n.KEYBOARD_DISABLED_FOR_SCREENREADER="keyborad_disabled_for_screenreader",n.INVALID_FORCED_SECTION="invalid_forced_section",n.GET_ALL_STATES_FAILED="get_all_states_failed",n.SRF_SETUP_FAILURE="srf_setup_failure",n.NATIVE_LOADED_SUCCESS="native_loaded_success",n.NATIVE_LOADED_FAIL="native_loaded_fail",n.APP_CRASHED="app_crashed",n.DUPLICATE_LOGIN_FAILURE="duplicate_login_failure",n.PROCOTOR_CACHE_BYPASSED="ProctorCache bypassed",n.ENGINE_INITIALIZED="engine_initialized",n.FILTER_DEPEDENCIES="filterDependencies",n.prototype.createNativeComponent=function(t){var n,i=this;this.isIdevice()&&this.isWebView()?(this.setNativeUrlIndicator("isIOS=1"),n="NativeCordova"):this.isChromeApp()?(this.setNativeUrlIndicator("isChromeApp="+(new Date).getTime()),n="NativeChrome"):this.isAndroidApp()?(this.setNativeUrlIndicator("isAndroidApp=1"),n="NativeAndroid"):this.isJXBrowserApp()&&(this.setNativeUrlIndicator("isJXBrowserApp=1"),n="NativeJXBrowser");try{TN8.log("TestEngine.js createNativeComponent: nativeLibFile "+n,TN8.CRITICAL)}catch(e){}var o=new Array;o.push(this._baseLocation+"Native"),n&&o.push(this._baseLocation+n),e(o,function(e,o){try{TN8.log("TestEngine.js createNativeComponent: successfully required "+n,TN8.CRITICAL)}catch(e){}if(h=e,window.TestEngine=i,n){var s=new o.TestEngine[n];t.call(i,s)}else{var r=new e.TestEngine.Native;t.call(i,r)}})},n.prototype.loadDependantLibs=function(t,n){var i=window.TestEngine;i.libsLoaded?t.call(i):e(["EngineDependantLibs"],function(e){return e?(i.loadLibs(e.Navigation,e.State,e.ServerInterface,e.EngineDiagnostics,e.JSTreeToQTI,e.AssessmentTest,e.Response,e.SRFManager),i.initializeDependantLibs(),i.libsLoaded=!0,n&&i._ewsRetrySucessfullCallback.call(i),void t.call(i)):(TN8.log("Error 3135: EngineDependantLibs file is corrupt!!!",TN8.CRITICAL),void TN8.throw("EngineDependantLibs file is corrupt",TN8.errorType.ENGINE_LIB_CORRUPT))},function(e){requirejs.undef(e.requireModules[0]),e.originalError&&$(e.originalError.target).remove();var t={msgCode:"3018",msg:"Failed to load EngineDependantLibs"};TN8.throw(t.msg,t.msgCode)})},n.prototype.loadLibs=function(e,t,n,i,o,s,h,g){l=e,a=t,c=n,u=i,r=o,d=s,p=h,f=g},n.prototype.initializeDependantLibs=function(){var e=window.TestEngine;e._state=new a.TestEngine.State(e._auth,e._apiBaseUri,e._devMode),e.UtilsLib=v,e.ResponseLib=p,e.EventLib=g,e.StateLib=a,e.NativeLib=h,e._serverInterface=new c.ServerInterface,e._engineDiagnostics=new u.EngineDiagnostics,e._srfManager=new f.SRFManager},n.prototype.isIdevice=function(){var e=0,t=["iPad","iPhone","iPod","iPad Simulator"];if(null!==this._isIdevice&&void 0!==this._isIdevice)return this._isIdevice;for(;e<t.length;e++)if(navigator.platform===t[e])return this._isIdevice=!0,!0;return this._isIdevice=!1,!1},n.prototype.isWindows=function(){return navigator.appVersion.toLowerCase().indexOf("windows")!==-1},n.prototype.isMobileDevice=function(){return this.isIdevice()||this.isChromeApp()||this.isAndroidApp()},n.prototype.getLogFileName=function(e){if(!this._logFilename){var t=function(e){return 1===e.length?"0"+e:e},n=new Date;this._logFilename=n.getFullYear()+""+t(n.getMonth()+1+"")+t(n.getDate()+"-")+t(n.getHours()+"")+t(n.getMinutes()+"")+t(n.getSeconds()+"")}return e.substring(0,e.lastIndexOf("."))+"-"+this._logFilename+e.substring(e.lastIndexOf("."))},n.prototype.setWindowName=function(e){window.TestEngine._windowName=e},n.prototype.isUsingHttps=function(){return window.TestEngine._isHttps},n.prototype.getWindowName=function(){return" - "+window.TestEngine._windowName},n.prototype.setNativeUrlIndicator=function(e){this._nativeUrlIndicator||(this._nativeUrlIndicator=e)},n.prototype.getNativeUrlIndicator=function(){return window.TestEngine._nativeUrlIndicator},n.prototype.isWebView=function(){var e=!1;return null!==this._isiOSWebView&&void 0!==this._isiOSWebView?this._isiOSWebView:(this.isIdevice()&&(e=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)),this._isiOSWebView=e,e)},n.prototype.isChromeOS=function(){return null!==this._isChromeOS&&void 0!==this._isChromeOS?this._isChromeOS:(window.navigator.userAgent.indexOf("CrOS")!==-1?this._isChromeOS=!0:this._isChromeOS=!1,this._isChromeOS)},n.prototype.isAndroidOS=function(){
return null!==this._isAndroidOS&&void 0!==this._isAndroidOS?this._isAndroidOS:(window.navigator.userAgent.toLowerCase().indexOf("android")!==-1?this._isAndroidOS=!0:this._isAndroidOS=!1,this._isAndroidOS)},n.prototype._isAppMode=function(){var e=!1;return void 0!==this._isAppModeBool&&null!==this._isAppModeBool?this._isAppModeBool:e=!!(this.isWebView()||this.isChromeApp()||this.isAndroidApp()||this.isJXBrowserApp())},n.prototype.isChromeApp=function(){return null!==this._isChromeApp&&void 0!==this._isChromeApp?this._isChromeApp:window.isChromeApp||document.referrer&&document.referrer.indexOf("isChromeApp")!==-1||window.location.href&&window.location.href.indexOf("isChromeApp")!==-1||document.URL&&document.URL.indexOf("isChromeApp")!==-1||navigator.userAgent&&navigator.userAgent.indexOf("TestNavChromeApp")!==-1?(this._isChromeApp=!0,!0):void 0},n.prototype.isJXBrowserApp=function(){var e=this;if(!e._isJXbr)try{var t=!!e.isUsingJXBridge()&&jx_bridge.invoke("jx_isJXBrowser",[""]);(navigator.userAgent&&navigator.userAgent.indexOf("TestNavDesktopApp")!==-1||t)&&(e._isJXbr="true")}catch(e){return!1}return"true"===e._isJXbr},n.prototype.isUsingJXBridge=function(){var e=this;if(void 0!==e._isJXBridge)return e._isJXBridge;try{jx_bridge,e._isJXBridge=!0}catch(t){e._isJXBridge=!1}return e._isJXBridge},n.prototype.isAndroidApp=function(){return null!==this._isAndroidApp&&void 0!==this._isAndroidApp?this._isAndroidApp:window.isAndroidApp||document.referrer&&document.referrer.indexOf("isAndroidApp")!==-1||window.location.href&&window.location.href.indexOf("isAndroidApp")!==-1||document.URL&&document.URL.indexOf("isAndroidApp")!==-1||navigator.userAgent&&navigator.userAgent.indexOf("TestNavAndroidApp")!==-1?(this._isAndroidApp=!0,!0):void 0},n.prototype.resetRecorderOverrideAttempts=function(){this._state._localItemCache.forEach(function(e){e.state.mods.forEach(function(e){e.r.hasOwnProperty("remainingOverrideAttempts")&&"CustomInteraction-AudioCapture"===e.it&&(e.r.remainingOverrideAttempts=null)})})},n.prototype.getProtocol=function(){var e="https:",t=/[0-9]{2,3}\.[0-9]{2,3}\.[0-9]{1,3}\.[0-9]{1,3}|::1|\.local|localhost|^$/gi;return t.test(window.document.location.hostname)&&this.isIdevice()&&(e="http:"),e},n.prototype.compileApiUri=function(e){"undefined"==typeof e&&(e=!1);var t=this.getProtocol()+"//";return e?t=this._native.getSecureLocalUrl():t+=window.location.host,t+="/api/8.0"},n.prototype.getGenericNativeComponent=function(e){return window.TestEngine.genericNativeComponent||(window.TestEngine.genericNativeComponent=new h.TestEngine.Native),window.TestEngine.genericNativeComponent},n.prototype.setupNavigation=function(e){var t=new l.TestEngine.Navigation(e,this._apiBaseUri,this._auth,this);return t},n.prototype.checkForSecureMode=function(){return window.location.href.indexOf("isSecure")!==-1},n.prototype.ewsError=function(e,t,n,i,o){var s=JSON.parse(t);console.log("EWS ERROR: ",t),console.log(s.details),e.stopSRFTimeout();var r=s;r.errorMsg=s.errorcode,r.retryFunction=n,r.retryFunctionArgs=i,r.details=o?o:s.details,e._ewsErrorCallback&&e._ewsErrorCallback.apply(e,[r])},n.prototype.registerEwsErrorCallback=function(e,t){if(!e||"function"!==$.type(e))throw{message:"registerEwsErrorCallback must be must be passed a function"};this._ewsErrorCallback=e,t&&"function"===$.type(t)&&(this._ewsRetrySucessfullCallback=t)},n.prototype.setTestDefine=function(e){var t=new d.TestEngine.TestInformation.AssessmentTest;t.parseJson(e);var n=t.isPracticeTest()||this._state.getPracticeTestMode();n?(console.log("Practice test mode enabled! State will not be transmitted/received."),this._state.setPracticeTestMode(n)):this._state.setPracticeTestMode(!1),this._native&&this._native.isActive()&&this._native.isReadyToBeLocked()&&1===parseInt(window.TestEngine._state._securityLevel)&&(t.isLocked()?this._native.lockDesktop():this._native.unlockDesktop()),this._navigation=this.setupNavigation(t),this._testInformation=t},n.prototype.getDesiredFlavor=function(e){var t=1;try{var n=this.getNavigation().getCurrentTestPart().getItemById(e),i=parseInt(TN8.PnpController.getFlavorVariant());n.getFlavorsAvailable().forEach(function(e,n){if(e===i)return void(t=i)})}catch(e){}return t},n.prototype.logError=function(e){TN8&&TN8.Application&&TN8.Application.error&&TN8.Application.error.logError(e,TN8.Application.error.logLevel.CRITICAL)},n.prototype.saveTestState=function(e,t){this._state.setTestState(this._navigation.getTestId(),e,t)},n.prototype.getProctorPassword=function(){var e=window.TestEngine;return e.getAuthentication().getCurrentForm().getProctorPassword()},n.prototype.getEngineTestStateAttrs=function(){var e={itemAttrs:{},sectionAttrs:{sessionToken:""},testPartAttrs:{},root:{srfBackupPath:window.TestEngine._srfBackupPath}};return e},n.prototype.isResumeRestrictionApplicable=function(){var e=window.TestEngine;if(e.getTestDefine().getReviewRestrictionTime()>0&&e._auth.getSession().getLastActivityTime()>0){var t=(e._auth.getSession().getServerCurrentTime()-e._auth.getSession().getLastActivityTime())/6e4;if(t>e.getTestDefine().getReviewRestrictionTime())return!0}return!1},n.prototype.getTestState=function(e,t){var n=function(e){return $(document).trigger("inform.testLocked"),window.TestEngine.getAuthentication().getSession().setResumeRestriction(window.TestEngine.isResumeRestrictionApplicable()),e};if(3!==parseInt(this._state._securityLevel)){window.TestEngine._native.tabEnabled=!0;var i=function(i){$(document).trigger("inform.sessionInit");var o=function(){$(document).trigger("inform.preloadInit");var o=function(){i&&"no"===i.success&&(i.msgCode=i.errorType),e.call(t,n(i))};window.TestEngine._native.afterStateRetrieved(o)};if(3!==parseInt(window.TestEngine._state._securityLevel)){var s=function(n){return"no"===n.success?void e.call(t,n):void o()};window.TestEngine._native.preloadInitFiles(s)}else o()},o=function(n){if("no"===n.success)return void e.call(t,n);var o=window.TestEngine;n&&n.state&&n.state.srfBackupPath&&(window.TestEngine._oldSRFBackupPath=n.state.srfBackupPath),window.TestEngine._srfBackupPath={srfPrimaryBackup:window.TestEngine._native.getSRFPath(),srfAlternateBackup:window.TestEngine._native.getSrfAltPath()};var s=function(e){if(e)if(o.validateSRF(e,!0)){e.ignoreTokenValidation&&e.testStateVersion&&e.testStateVersion<=window.TestEngine._state._testStateVersion&&(e.testState=n.state),e.lastClientActivity&&e.lastClientActivity>o._auth.getSession().getLastActivityTime()&&o._auth.getSession().setLastActivityTime(e.lastClientActivity);var t=function(t){o._isAppMode()?o._native.deleteResponseFile(o.getAuthentication().getLastSessionToken()+".SRF"):o._native.deleteSRF(o.getAuthentication().getLastSessionToken()+".SRF"),o._state.prepareTestStateForClient(e,i,o)};o.restoreResponsesToFile(e,t)}else o.validateSRF(e,!1)?(o._isAppMode()?o._native.deleteResponseFile(e.sessionToken+".SRF"):o._native.deleteSRF(e.sessionToken+".SRF"),i.call(o,n)):i.call(o,n);else i.call(o,n)};null!==o.getAuthentication().getLastSessionToken()&&void 0!==o.getAuthentication().getLastSessionToken()?o.getTestStateFromSRF(s,window):i.call(o,n)};if(window.TestEngine.getAuthentication().getLastSessionToken())this._state.getTestState(this._navigation.getTestId(),window,o);else{var s=function(e){return e.success&&"no"===e.success.toLowerCase()?void window.TestEngine.dispatchPreTestFailureError(e):(window.TestEngine._testInformation.gotAllStates=!0,window.TestEngine.afterAuthSelect(e),void o(new Object))};window.TestEngine.initializeEnvironmentForTestSelection(s)}}else{var r=function(i){$(document).trigger("inform.preloadInit"),$(document).trigger("inform.sessionInit"),e.call(t,n(i))};this._state.getTestState(this._navigation.getTestId(),window,r)}},n.prototype.setItemResponse=function(e,t,n,i,o,s){e.restoreResponsesQueued=!1,e.lostFocusEventFired&&s&&$("#loading").modal("show");var r=e._state.getItemVersion(t);r+=1;var l=e._navigation.getNavigator(e.getNavigation().getCurrentSection()),c=l.getItemOrder(t),u=e._state.setItemResponse(e._navigation.getTestId(),t,n,i,r,c);if(e.lostFocusEventFired||e._isFatalError||!e._state.getPracticeTestMode()&&"undefined"==typeof e.getAuthentication().getSessionToken())return void(i=void 0);var d=u._itemId+"@"+u._timestamp,h=JSON.parse(JSON.stringify(u));if(e._isResponseSendingInProgress)return e._state._lastSavedTestState=h.data.test_state,void(void 0===e._pendingResponseQueueList[d]&&(e._pendingResponseQueueList[d]=h));if(void 0===e._responseQueue[d]&&(e._responseQueue[d]=h),e._isResponseSendingInProgress=!0,3!==parseInt(e._state._securityLevel)){var p=function(t){e._state.transmitState(e,u,a.TestEngine.State.ITEM,$.proxy(e.saveStateCallback,e,e,i,u,s),null,s,!1,!1,i)};e._native.checkForBlackList(p)}else e._state.transmitState(e,u,a.TestEngine.State.ITEM,$.proxy(e.saveStateCallbackL3,e,e,i),o,s,!1,!1,i)},n.prototype.saveStateCallback=function(e,t,n,i,o,s,r){if("yes"!==r.success&&!r.msgCode){var a=$.proxy(e.saveSRFCallback,e,e,t,i,s,r);return void e.storeResponsesToFile(n,a,i,o,t,s,r)}o&&e._ewsRetrySucessfullCallback.call(e),e.resetAfterSuccessfulSave.call(e,!0),t(r)},n.prototype.saveStateCallbackL3=function(e,t,n,i,o){e.resetAfterSuccessfulSave.call(e,!0),t(o)},n.prototype.resetAfterSuccessfulSave=function(e){e&&this.clearTestnavEventQueue(),this.clearResponseQueue(),this.storeResponsesFailed=!1,this._shouldChangeLastActivity=!0,this._isResponseSendingInProgress=!1},n.prototype.saveSRFCallback=function(e,t,n,i,o){"9999"===o.error?(e.storeResponsesFailed=!1,e._shouldChangeLastActivity=!0,e._isResponseSendingInProgress=!1,t(o)):(n?e.ewsError(e,'{"success":"no","errorcode":"1008","msg":"Failed to save to server on final save"}',i,[],!0):e.ewsError(e,'{"success":"no","errorcode":"1021","msg":"Failed to save to server"}',i,[],!0),e._isResponseSendingInProgress=!1)},n.prototype.storeTestStateToFile=function(e,t,n,i,o){window.TestEngine._srfManager.storeTestStateToFile(e,t,n,i,o)},n.prototype.restoreResponsesToFile=function(e,t,n){window.TestEngine._srfManager.restoreResponsesToFile(e,t,n)},n.prototype.clearResponseQueue=function(){var e=window.TestEngine;for(var t in e._responseQueue)delete e._responseQueue[t];e.storeTestStateFailed=!1},n.prototype.getLogFileNameForApps=function(){var e=window.TestEngine,t=/[*?\["\]:.,|]/gi,n=e._auth.getFirstName().length>20?e._auth.getFirstName().substring(0,20):e._auth.getFirstName(),i=e._auth.getLastName().length>20?e._auth.getLastName().substring(0,20):e._auth.getLastName(),o=n.replace(t,"")+"-"+i.replace(t,"");return encodeURIComponent(o)},n.prototype.storeResponsesToFile=function(e,t,n,i,o,s,r){window.TestEngine._srfManager.storeResponsesToFile(window.TestEngine,e,t,n,i,o,s,r)},n.prototype.getResponseDecoratedForSRF=function(){return window.TestEngine._srfManager.getResponseDecoratedForSRF()},n.prototype.validateSRF=function(e,t){return window.TestEngine._srfManager.validateSRF(e,t)},n.prototype.getTestStateFromSRF=function(e,t,n,i){window.TestEngine._srfManager.getTestStateFromSRF(e,t,n,i)},n.prototype.afterAuthSelect=function(e){var t=window.TestEngine;e.sessionToken&&t.getAuthentication().setSessionToken(e.sessionToken),e.lastSessionToken&&"null"!==e.lastSessionToken?t.getAuthentication().setLastSessionToken(e.lastSessionToken):t.getAuthentication().setLastSessionToken(null),e.xinfo&&t.getAuthentication().setXInfo(e.xinfo),3!==parseInt(t._state._securityLevel)&&t._native.logSysInfo(),e.resumeRestrictionOverride&&t._auth.getSession().setResumeOverride("true"===e.resumeRestrictionOverride),e.unsubmitted&&(t._auth.getSession().setUnsubmitted("true"===e.unsubmitted),t._auth.getSession().getUnsubmitted()&&t.resetRecorderOverrideAttempts()),e.currentServerTime&&(t._auth.getSession().setServerCurrentTime(e.currentServerTime),t.updateServerTimeOffset(e.currentServerTime)),e.lastClientActivity&&t._auth.getSession().setLastActivityTime(e.lastClientActivity),t.proctorCacheBypassFE&&(t.proctorCacheBypassFE.xinfo=t.getAuthentication().getXInfo(),$(document).trigger("snitch.sendOut",t.proctorCacheBypassFE),delete t.proctorCacheBypassFE)},n.prototype.isLevel3Test=function(){return 3===parseInt(this._state._securityLevel)},n.prototype.onStateLoaded=function(e,t){this._state.getTestState(this._navigation.getTestId(),caller,t)},n.prototype.getItemResponse=function(e,t,n){this._state.getItemResponse(this._navigation.getTestId(),e,n,t)},n.prototype.getAllItemResponses=function(){return window.TestEngine._state.getAllItemResponses()},n.prototype.saveIncompleteTestResults=function(e,t,n){window.TestEngine._isFatalError=n,!window.TestEngine._isFatalError&&window.TestEngine._isNotifyParentError&&(window.TestEngine._isFatalError=window.TestEngine._isNotifyParentError),this.performTestExit("exit",e)},n.prototype.submitFinalTestResults=function(e){this.performTestExit("submit",e)},n.prototype.performTestExit=function(e,t){var n=window.TestEngine;if(n._testInProgress){n._srfVerified=!1,window.TestEngine._exitAppCheck=!0,n._native&&n._native.suspendAllRequests();var i=JSON.stringify({u_sess:n.getAuthentication().getLoginToken(),sess:n.getAuthentication().getSessionToken(),ts:(new Date).getTime(),testnavEventQueue:n.getTestnavEventQueue(),changeLastClientActivity:n._shouldChangeLastActivity});if(n._state.getPracticeTestMode()){var o=function(){"submit"===e&&n._native&&n._native.informTestSubmitted(),n.lostFocusEventFired?(window.TestEngine.getNavigation()&&window.TestEngine.getNavigation().stopPreloading(),n.unlockDesktopOnTestExit()):n._isAppMode()&&n.unlockDesktopOnTestExit(),n._state.destroyLocalItemCache(),n._isAppMode()&&n._native.clearProxy(),n.cleanUpAndSwitchlogs(),t(),n.isJXBrowserApp()||(window.TestEngine._testInProgress=!1)};!n._native||1!==parseInt(n._state._securityLevel)&&2!==parseInt(n._state._securityLevel)?o.call():n._native.practiceTestEnd(o,o)}else{if(n.lostFocusEventFired||n._isFatalError){window.TestEngine.logError("performTestExit LostFocus or fatal error"),window.TestEngine.getNavigation()&&window.TestEngine.getNavigation().stopPreloading();var s=function(){n._state.destroyLocalItemCache(),n._responseQueue={},n.getAuthentication().setSessionToken(void 0),n.getAuthentication().setLastSessionToken(void 0),n._isAppMode()&&n._native.clearProxy(),n.unlockDesktopOnTestExit(),window.TestEngine.logError("performTestExit LostFocus or fatal error callback"),n.lostFocusEventFired&&(window.TestEngine._ewsRetrySucessfullCallback&&window.TestEngine._ewsRetrySucessfullCallback.call(n),n._native.afterLostFocus()),n.cleanUpAndSwitchlogs(),t(),n.isJXBrowserApp()||(window.TestEngine._testInProgress=!1)},r=function(t){t&&"yes"===t.success&&!t.skipped&&n.clearResponseQueue(),n.sendExitRequest(e,s,i)};return void(n.areResponsesQueued()?(n._state._testStateVersion++,n._state.flushItemBundle(r,!0,window)):r(null))}var a=function(e){n._isAppMode()&&n._native.clearProxy(),n.unlockDesktopOnTestExit(),n.cleanUpAndSwitchlogs(),t(),n.isJXBrowserApp()||(window.TestEngine._testInProgress=!1)},l=function(t){var o=function(e){n._state.flushItemBundle(e,!0,window)};if(3===parseInt(n._state._securityLevel))n.sendExitRequest(e,a,i),n._state.destroyLocalItemCache();else{var s=[];$.each(n._responseQueue,function(e,t){s.push(t.itemId)}),n.ewsError(n,'{"success":"no","errorcode":"1008","msg":"Unable to save test state to server."}',o,[t],s)}},c=function(t){var o=function(e){n._state.flushTestState(e,!0,window)};3===parseInt(n._state._securityLevel)?(n.sendExitRequest(e,a,i),n._state.destroyLocalItemCache()):n.ewsError(n,'{"success":"no","errorcode":"1008","msg":"Unable to save test state to server."}',o,[t])},u=!1;$.each(n._responseQueue,function(e,t){u=!0});var d=function(t){if(t&&"yes"===t.success){if(n.storeTestStateFailed=!1,t.msg&&"Duplicate Response"===t.msg)return;n.finalResponsesFailed=!1,n._responseQueue={},n.sendExitRequest(e,a,i),n._state.destroyLocalItemCache()}else!u&&n.storeTestStateFailed?c(d):l(d)};if(u){if(n.restoreResponsesQueued)return n.restoreResponsesQueued=!1,void n._state.flushItemBundle(d,!0,window);n.finalResponsesFailed=!0,l(d)}else n.storeTestStateFailed?(n.finalResponsesFailed=!0,c(d)):(n.sendExitRequest(e,a,i),n._state.destroyLocalItemCache())}}},n.prototype.emergencyStopAndUnlock=function(){this.logError("Emergency! stop execution, unlock app, and send exit request"),this.getNavigation()&&this.getNavigation().stopPreloading(),this._isFatalError=!0,this._isAppMode()&&this._native.unlockDesktop();var e=JSON.stringify({u_sess:this.getAuthentication().getLoginToken(),sess:this.getAuthentication().getSessionToken(),ts:(new Date).getTime(),testnavEventQueue:this.getTestnavEventQueue(),changeLastClientActivity:this._shouldChangeLastActivity});this.sendExitRequest("emergencyExit",function(){},e)},n.prototype.onFullscreenExitCallback=function(){window.TestEngine._testInProgress=!1,$(document).trigger("tn.loadingModal.off")},n.prototype.onEndTest=function(){var e=window.TestEngine;$(document).off("tn.navigate.logout  tn.navigate.availableTests tn.errorPage",e.onEndTest),$(document).trigger("tn.loadingModal.on");var t=function(){e._native.unlockDesktop(),e._native.informOnFullscreenExit(e.onFullscreenExitCallback)};setTimeout(t,1e3)},n.prototype.unlockDesktopOnTestExit=function(){var e=window.TestEngine;e._isAppMode()&&(e.isJXBrowserApp()?$(document).on("tn.navigate.logout  tn.navigate.availableTests tn.errorPage",e.onEndTest):e._native.unlockDesktop())},n.prototype.cleanUpAndSwitchlogs=function(){var e=window.TestEngine;window.TestEngine._native&&(window.TestEngine._native.isSwitchLogsSupported()&&(e._native.switchLogs(void 0,null),window.TestEngine.logSwitched=!1),e._native.cleanupMiddle(null),e._isFatalError=!1,e.lostFocusEventFired=!1,e._isNotifyParentError=!1)},n.prototype.sendExitRequest=function(e,t,n){var i=window.TestEngine,o=i.getAuthentication().getFormId(),s=i.getAuthentication().getLoginId();"submit"===e&&$(document).trigger("inform.engineSubmitSuccessful"),n=JSON.parse(n);var r=i.getTestnavEventQueue();r.length<=0?delete n.testnavEventQueue:n.testnavEventQueue=i.getTestnavEventQueue(),n=JSON.stringify(n);var a=i.generateTestExitAjaxSettings(t,e,n);switch(a.data=n,e){case"submit":i._serverInterface.submitTest("/test/"+o+"/"+e+"/"+s,a.data,a.success,a.error);break;case"exit":case"emergencyExit":i._serverInterface.exitTest("/test/"+o+"/exit/"+s,a.data,a.success,a.error);break;default:console.warn("sendExitRequest given bad action!")}},n.prototype.areResponsesQueued=function(){var e=window.TestEngine,t=!1;return $.each(e._responseQueue,function(e,n){t=!0}),t||e.storeTestStateFailed},n.prototype.generateTestExitAjaxSettings=function(e,t,n){var i=window.TestEngine,o={success:function(){"submit"===t&&i._native&&i._native.informTestSubmitted();var n=function(){i.stopSRFTimeout(),e()};i._native&&"emergencyExit"!==t?(i.startSRFTimeout(),i._native.postExit(n)):n()},error:function(o){if(i.lostFocusEventFired||i._isFatalError){i.isWebView()&&$("#loading").length>1&&$("#loading").modal("hide");var s=function(){e()};return void(i._native&&"emergencyExit"!==t?i._native.postErrorExit(s):s())}3!==parseInt(i._state._securityLevel)?i.ewsError(i,'{"success":"no","errorcode":"1008","msg":"Unable to save test state to server."}',i.sendExitRequest,[t,e,n]):e()}};return o},n.prototype.notifyParentAfterLostFocusSave=function(e,t){var n=window.TestEngine._native.getLostFocusProcessName();window.TestEngine.childLostFocusCallback(t,n),$(document).trigger("tn.loadingModal.on");var i=function(){window.TestEngine._testInProgress?setTimeout(function(){$(document).trigger("tn.loadingModal.on"),i()},10):window.TestEngine.childLostFocusCallback(e,n)};i()},n.prototype.childLostFocusCallback=function(e,t){var n=window.TestEngine,i=function(e,t,n){for(var n=Array.prototype.slice.call(arguments).splice(2)[0],i=e.split("."),o=i.pop(),s=0;s<i.length;s+=1)t=t[i[s]];return t[o].apply(this,n)};if(e){var o=function(){if(n._native){var o=n._native.getErrorDetailsForLostFocus(t);i(e,window,[o.processName,o.errorCode])}},s=function(){setTimeout(function(){r()},500)},r=function(){o()};setTimeout(function(){s()},500)}n._isiOSWebView||n.preinitLostFocus&&window.Native.killApplet()},n.prototype.hideLogin=function(){$(document).trigger("perform.hideLogin")},n.prototype.cleanUp=function(){var e=window.TestEngine;e.libsLoaded&&(e._state&&e._state.destroyLocalItemCache(),e._navigation&&e._navigation.cleanUp(),e._native&&e._native.setSpokenFeedback&&e._native.setSpokenFeedback("reset"),e._native&&e._isAppMode()&&e._native.isProxyActive()&&e._native.clearProxy(),e._native&&e._isAppMode()&&e._native.isSRFLocationSet()&&e._native.clearSRFLocation(),e._native&&e._native.cleanUp(),e.restoreResponsesQueued=!1,e._pendingResponseQueueList={},e._isResponseSendingInProgress=!1,e._exitProcessStarted=!1,e._state.setPracticeTestMode(!1),e._state._testStateVersion=0,e._forcedResumeSection=void 0,e.storeTestStateFailed=!1,e._shouldSkip=!1,e._srfBackupPath=void 0,e._testInProgress=!1,e.proctorCacheBypassFE=void 0,e._shouldChangeLastActivity=!1,window.TestEngine.clearTestnavEventQueue(),e._initPreloadList=void 0,window.TestEngine._oldSRFBackupPath=null,window.TestEngine._testInProgress=!1,window.TestEngine._testDefineFailed=!1,window.TestEngine._apiBaseUri=window.TestEngine.compileApiUri(),window.TestEngine._auth.cleanupBetweenTests(),e._isSecureMode||(window.TestEngine._state._apiBaseUrl=window.TestEngine._apiBaseUri),e.fullscreenAttempts=0,window.TestEngine.genericNativeComponent=void 0,e.lostFocusEventFired||e._isFatalError||(e._responseQueue={},e.getAuthentication().setSessionToken(void 0),e.getAuthentication().setLastSessionToken(void 0)),window.TestEngine._config=void 0,window.TestEngine._testInformation=void 0,window.TestEngine._detectScreenReaderCalled=!1,window.TestEngine.proxySetIgnore=!1,window.TestEngine._engineDiagnostics&&window.TestEngine._engineDiagnostics.cleanUp(),window.TestEngine.selectTestNativeNotification=!1,window.TestEngine._engineCallbackMapper=new Object)},n.prototype.resetNative=function(){var e=window.TestEngine;e._native.cleanupNative();var t=function(t){e._native=t,e._auth.setNativeComponent(e._native)};e.createNativeComponent(t)},n.prototype.getForcedResumedSection=function(){var e=window.TestEngine;return e._forcedResumeSection},n.prototype.detectForcedResumeSection=function(e,t){var n=window.TestEngine,i=n._auth.getCurrentForm().getForcedResumedSectionIndex();if(i)try{i=parseInt(i)-1;var o=n.getTestDefine().getTestParts()[0].getSectionByIndex(i);if(!o)throw"Invalid section Index";if(n.getTestDefine().getTestParts()[0].hasAdaptiveSection())return n.emitEvent(new g.Event(window.TestEngine.constructor.FATAL_ENGINE_ERROR,{msgCode:"9105",msg:"This test has at least one adaptive section. Cannot resume the student.",forceSave:!0})),void t.call(n);n._forcedResumeSection=o}catch(e){return n.emitEvent(new g.Event(window.TestEngine.constructor.FATAL_ENGINE_ERROR,{msgCode:"9106",msg:"Invalid section. Cannot resume the student",forceSave:!0})),void t.call(n)}e.call(n)},n.prototype.isClbkFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},n.prototype.detectScreenReaders=function(e){var t=window.TestEngine;if(1===parseInt(t.getAuthentication().getCurrentForm().getTestSecurityLevel()+"")&&(!t._isAppMode()||t.isJXBrowserApp())&&t.getAuthentication().getCurrentForm().getWhitelist()&&t.getAuthentication().getCurrentForm().getWhitelist().length>0){var n=t.getAuthentication().getCurrentForm().getWhitelist().join(",");return void t.getNativeComponent().detectScreenReaders(n,e)}e&&e.call(window.TestEngine)},n.prototype.selectTest=function(e,t){if(window.TestEngine._native&&$(document).on("tn.test.start",window.TestEngine._native.checkForBlackList),window.TestEngine._native&&window.TestEngine._native.fullscreenFailed)return void window.TestEngine._native.fullscreenStateChanged(!0);if(window.TestEngine._native&&window.TestEngine._native.isSwitchLogsSupported()&&!window.TestEngine.logSwitched&&(window.TestEngine._native.switchLogs(window.TestEngine.getLogFileNameForApps(),null),window.TestEngine.logSwitched=!0),!window.TestEngine._testInProgress){var i=window.TestEngine;if(this.checkForSecureMode()&&this._native.setSRFPath(),!this._isSecureMode||this._shouldStartTest){if(void 0===e||e.length<=0)return void console.warn("No testId was passed to selectTest");if(!t||!t.securityLevel)return void console.log("Warning: no form data found! formData object: "+t+" Window used: "+window.document.title);if(this._isAppMode()||this.isChromeApp()||this.isAndroidApp()||(i._srfVerified=!1),i.selectedTestId=e,i.selectedFormId=t.formId,i.selectedLoginId=t.testnavLoginId,i.securityLevel=t.securityLevel,window.TestEngine._config=t.config,this._isAppMode()&&this.appOutdated)return void this.emitEvent(new g.Event(n.APP_OUTDATED,"The installed version of the app is outdated"));if(this.isChromeApp()&&this.middleFilesCorrupt)return void this.emitEvent(new g.Event(n.MIDDLE_FILES_COMPROMISED,"The middle files are corrupt"));if(!this._isFullySecured&&!this._isAppMode()&&!this.isIdevice()&&3!==parseInt(t.securityLevel)&&this._native&&!this._native.checkForJava())return $("#loading").modal("hide"),void this._native.noJavaStateChanged();t.lastSessionToken&&"null"!==t.lastSessionToken?i.getAuthentication().setLastSessionToken(t.lastSessionToken):i.getAuthentication().setLastSessionToken(null),i.getAuthentication().getStaticKey()&&(this._staticKey=i.getAuthentication().getStaticKey());var o=new m.TestEngine.TestForm;if(o.parse(t),this._auth.setCurrentForm(o),this._isAppMode()&&!this._native.isSRFLocationSet()&&3!==parseInt(t.securityLevel)){var s=this._native.extractSRFLocation(t.config);if(s){var r=function(n){if(i.stopSRFTimeout(),!i._srfTimeoutCalled){if(!n.success){var o={},r="srfAlternate",a=s;o.errorcode="1018",o.success="no",n.type&&(r=n.type,a=n.location,"srfPrimary"===r&&(o.errorcode="1017")),o[r]=a;var l=function(){i.selectTest(e,t)};return void i.ewsError(i,JSON.stringify(o),l)}i.selectTest(e,t)}};return this.startSRFTimeout(),void this._native.startSRFSetup(s,r)}}!(this._isAppMode()||this.isChromeApp()||this.isAndroidApp())||i._srfVerified||this.isJXBrowserApp()||(this._formData=t);var a="Calling for test. Login name: "+i.getAuthentication().getUserName()+". Login Id: "+t.testnavLoginId+". Form Id: "+t.formId+". Security Level: "+t.securityLevel+". Pratice Test: "+("false"!==t.practice)+".";if(3!==parseInt(t.securityLevel)){var l=function(){},c=function(){};i._native.writeLog("TN8Logs.log",1,a,l,c)}if(console.log(a),window.TestEngine._native&&!window.TestEngine.selectTestNativeNotification){var u=function(n){window.TestEngine.selectTestNativeNotification=!0,i.selectTest(e,t)};return void window.TestEngine._native.onSelectTest(u)}if(this._isAppMode()&&!this._native._proxySet&&!window.TestEngine.proxySetIgnore&&3!==parseInt(t.securityLevel)){var d=void 0;try{if(t.config){var p=t.config.replace(/\\/g,"\\\\");d=JSON.parse(p)}}catch(e){}var f=function(){return d.proxyserver&&d.proxyport};if(d&&f()){var v=function(){var e=function(){$(document).trigger("tn.route.to","logout"),window.TestEngine.emitEvent(new g.Event(window.TestEngine.constructor.TEST_SETUP_FAILURE,window.TestEngine.constructor.PROXY_SETUP_FAILURE)),window.TestEngine.emitEvent(new g.Event(window.TestEngine.constructor.PROXY_SETUP_FAILURE,"There was a problem setting up the proxy!"))};setTimeout(e,0)};return void this._engineDiagnostics.testProxy(d,window.TestEngine.getProxyUrlList(d.proctorCacheFailOver+""=="true",window.TestEngine.getS3Url(o)),v,i.selectTest,[e,t],i)}}if((this._isAppMode()||!this._isAppMode()&&3===parseInt(t.securityLevel))&&(!this._native||!this._native._proxySet)&&!this._engineDiagnostics._s3UrlTestCompleted){var T=function(n){if(n)window.TestEngine.selectTest(e,t);else{var i={msgCode:"5035",msg:"Unable to communicate with the testing server. Please contact your administrator."};window.TestEngine.emitEvent(new g.Event(window.TestEngine.constructor.FATAL_ENGINE_ERROR,i))}};return void this._engineDiagnostics.testS3Url(window.TestEngine.getS3Url(o),5,T)}if(this._state.setSecurityLevel(o.getTestSecurityLevel()),this.isJXBrowserApp()&&!this._blackListSet&&1===parseInt(t.securityLevel)){var _;try{_=JSON.parse(t.config)}catch(e){}if(_=window.TestEngine.getNativeComponent().addDefaultBlacklistProcessesToConfig(_),_&&_.blacklist&&"[object Array]"===Object.prototype.toString.call(_.blacklist)&&_.blacklist.length>0){t.config=JSON.stringify(_),window.TestEngine._config=t.config;var E=function(){window.TestEngine.selectTest(e,t)};return void window.TestEngine._native.initiateBlackList(E,_.blacklist)}}if("Y"===o.getReadAloudInd()&&this._state.setPracticeTestMode(!0),!window.TestEngine._detectScreenReaderCalled){var b=function(){window.TestEngine._detectScreenReaderCalled=!0,window.TestEngine.selectTest(e,t)};return void window.TestEngine.detectScreenReaders(b)}window.TestEngine._testInProgress=!0,$(document).trigger("inform.diagnosticsDone");var y=o.getKey();if(void 0!==y&&y.length>0){var w="http://"+window.location.host,S=w+"/api/8.0",C=this._native.getSecureLocalUrl()+"/api/8.0/secure";this._apiBaseUri=this._native.getSecureLocalUrl()+"/api/8.0",this._apiRemoteUri=this._native.getSecureRemoteUrl();var N="",I="",A="",x="",O="",R="",L="",k="",D="",P=this._apiRemoteUri;this._native.getNativeType()===this._native.NATIVE_ANDROID||this._native.getNativeType()===this._native.NATIVE_JXBROWSER||this._native.getNativeType()===this._native.NATIVE_CHROME?(N="^("+this._apiBaseUri+"/test/)(.*)/testdef",I=this._apiRemoteUri,A="^("+this._apiBaseUri+"/item/)(.*)/flavor/(.*)",x=this._apiRemoteUri,O=this._apiRemoteUri,R="^("+this._native.getSecureLocalUrl()+"/client/)(.*)",L=this._native.getSecureRemoteUrl(),k=this._native.getSecureLocalUrl()+"/"+this._auth.getCurrentForm().getContentUrlLocationPath(),D=this._auth.getCurrentForm().getContentUrlHost(),this._native.getNativeType()===this._native.NATIVE_CHROME&&D.lastIndexOf("/")===D.length-1&&(D=D.substring(0,D.length-1))):(P=this._apiRemoteUri+"/api/8.0",N=this._apiBaseUri+"/test/",I=S+"/test/",A=this._apiBaseUri+"/item/",x=S+"/item/",O=this._apiRemoteUri+"/api/8.0/secure",R=this._native.getSecureLocalUrl()+"/client/",L=w+"/client/",k=this._native.getSecureLocalUrl()+"/"+this._auth.getCurrentForm().getContentUrlLocationPath(),D=this._auth.getCurrentForm().getContentUrlHost()+this._auth.getCurrentForm().getContentUrlLocationPath()),this.addListener(h.TestEngine.Native.WHITELIST_SUCCESS,this.encryptionSetup,this),this.addListener(h.TestEngine.Native.WHITELIST_ERROR,this.encryptionSetupFailure,this),this._native.setEncryptionKeys([N,I,y],[A,x,y],[C,window.TestEngine.getHttpsUrl(O),i.getAuthentication().getCurrentForm().getWireKey()],[i._apiBaseUri,P,null],[R,L,null],[k,D,y])}else this.initializeEnvironmentForTestSelection(i.loadTestDefine)}}},n.prototype.startSRFTimeout=function(){clearTimeout(this.srfTimeout),this.srfTimeout=setTimeout(function(){window.TestEngine._srfTimeoutCalled=!0,TN8.throw("SRF call failed to return in 130 seconds",3140)},this.SRF_TIMEOUT_TIME)},n.prototype.stopSRFTimeout=function(){clearTimeout(this.srfTimeout)},n.prototype.setSRFBackupPath=function(e,t,n){var i=window.TestEngine,o=function(){var o=function(o){if("no"===o.success)return i.resetNative(),window.TestEngine.emitEvent(new g.Event(window.TestEngine.constructor.FATAL_ENGINE_ERROR,{msgCode:"3087",msg:"The test will be closed due to network connectivity issues. Contact your administrator."})),void $(document).trigger("tn.route.to","login");if(o&&!o.testState)return i._stateRetrieved=!0,void e.apply(t,n);if(o&&o.testState&&!o.testState.srfBackupPath)return i._stateRetrieved=!0,void e.apply(t,n);var s={};s.type="POST",s.data="srfPrimaryBackup="+o.testState.srfBackupPath.srfPrimaryBackup+"&srfAlternateBackup="+o.testState.srfBackupPath.srfAlternateBackup,s.dataType="json",s.timeout=5e3,s.context=window,s.success=function(o){i._stateRetrieved=!0,e.apply(t,n),console.log("CAme in success")},s.error=function(e,t,n){console.log("CAme in error")},jQuery.ajax(i._native.getSecureLocalUrl()+"/command/saveSRFBackupPath",s);
};i._state._apiBaseUrl=i._native.getSecureLocalUrl()+"/api/8.0",i._state.retrieveStateForSRF(i.selectedTestId,window,o)},s=function(){i._stateRetrieved=!0,e.apply(t,n)},r=this._native.getSecureLocalUrl()+"/api/8.0/secure";i._apiRemoteUri=this._native.getSecureRemoteUrl(),window.TestEngine._native.addWhiteList([[r,i.getHttpsUrl(i._apiRemoteUri),i._formData.wireKey]],o,s)},n.prototype.checkForSRFState=function(e,t,n){window.TestEngine._srfManager.checkForSRFState(e,t,n)},n.prototype.encryptionSetup=function(e){this.removeListener(h.TestEngine.Native.WHITELIST_SUCCESS,this.encryptionSetup);var t=this;setTimeout(function(){var e=function(e){window.TestEngine._testDefineFailed=!0,t.emitEvent(new g.Event(n.TEST_SETUP_FAILURE,null))};t.loadTestDefineBeforeAuthSelect(e)},500)},n.prototype.encryptionSetupFailure=function(e){var t=window.TestEngine;t.emitEvent(new g.Event(n.TEST_SETUP_FAILURE,null))},n.prototype.dispatchPreTestFailureError=function(e){var t=(window.TestEngine,"");e.msg&&(t=e.msg),"9107"===e.msgCode?TN8.throw(t,TN8.errorType.DUPLICATE_LOGIN):"9108"===e.msgCode?TN8.throw(t,TN8.errorType.AUTH_SELECT_TEST_COMPLETED):"9109"===e.msgCode?TN8.throw(t,TN8.errorType.AUTH_SELECT_TEST_NOT_RESUMED):TN8.throw("Failed Connection",TN8.errorType.LOST_CONNECTION_IN_TEST)},n.prototype.loadTestDefine=function(e,t){var i=window.TestEngine;return e.success&&"no"===e.success.toLowerCase()?(window.TestEngine._testDefineFailed=!0,void("9107"===e.msgCode?i.emitEvent(new g.Event(n.TEST_SETUP_FAILURE,n.DUPLICATE_LOGIN_FAILURE)):i.emitEvent(new g.Event(n.TEST_SETUP_FAILURE,null)))):(i.afterAuthSelect(e),t||(t=i.loadTestDefine),void i._serverInterface.getTestDefine(i.jsTreeTestDefineLoaded,t,i))},n.prototype.loadTestDefineBeforeAuthSelect=function(e){var t=window.TestEngine;t._serverInterface.getTestDefine(t.jsTreeTestDefineLoaded,e,t)},n.prototype.buildTestDefUrl=function(e){var t="",n=window.TestEngine;if(!e)var e={};return e.buildWithoutDomain===!0?"/api/8.0/test/"+n.selectedFormId+"/"+window.TestEngine.getAuthentication().getCurrentForm().getContentVersion()+"/testdef":e.buildForSetProxy?n._isiOSWebView&&"3"!==n._state._securityLevel?(n._native?n._native.getSecureRemoteUrl():"")+"/api/8.0/test/"+n.selectedFormId+"/"+window.TestEngine.getAuthentication().getCurrentForm().getContentVersion()+"/testdef":n._native.getSecureRemoteUrl()+"/api/8.0/test/"+n.selectedFormId+"/"+window.TestEngine.getAuthentication().getCurrentForm().getContentVersion()+"/testdef":t=n._native&&!n._native.hasSecureEnvironment()?n._apiBaseUri+"/test/"+n._auth.getFormId()+"/"+window.TestEngine.getAuthentication().getCurrentForm().getContentVersion()+"/testdef":!n._isiOSWebView||n._isiOSWebView&&"3"!==n._state._securityLevel?(n._native?n._native.getSecureLocalUrl():"")+"/api/8.0/test/"+n._auth.getFormId()+"/"+window.TestEngine.getAuthentication().getCurrentForm().getContentVersion()+"/testdef":n._native.getSecureRemoteUrl()+"/api/8.0/test/"+n._auth.getFormId()+"/"+window.TestEngine.getAuthentication().getCurrentForm().getContentVersion()+"/testdef"},n.prototype.jsTreeTestDefineLoaded=function(e){var t=window.TestEngine,i=void 0===e.msg?e:e.msg;if(void 0!==e.success&&("no"===e.success||"No"===e.success||"NO"===e.success)){var o={msgCode:e.msgCode,msg:e.msg};return void window.TestEngine.emitEvent(new g.Event(window.TestEngine.constructor.FATAL_ENGINE_ERROR,o))}var s=r.JSTreeToQTI.Converter.convertToQTI(i),a=function(){var e=function(){t._testSetupComplete=!0,t.emitEvent(new g.Event(n.TEST_SETUP_COMPLETE,null))},i=function(){t.emitEvent(new g.Event(n.TEST_SETUP_FAILURE,n.INVALID_FORCED_SECTION))};t.detectForcedResumeSection(e,i)};this.setTestDefine(s),$(document).trigger("inform.testDefRecieved"),t._native&&t._native.getNativeType()===t._native.NATIVE_CORDOVA&&1===parseInt(window.TestEngine._state._securityLevel)?t._native.lockDesktopWrapper(a):a()},n.prototype.initializeEnvironmentForTestSelection=function(e){this.getAuthentication().authSelectTest(e),this._testId=void 0,this._formData=void 0},n.prototype.isNativeComponentActive=function(){var e=window.TestEngine;return!!e.getNativeComponent()&&e.getNativeComponent().isActive()},n.prototype.loadLoginView=function(){$(document).trigger("tn.route.to","logout")},n.prototype.informTestSubmitted=function(){window.TestEngine._native.onTestSubmitted(),$(document).trigger("inform.testSubmittedSuccessfully")},n.prototype.getResponseForItem=function(e){var t=null;return this._state._localItemCache.forEach(function(n){n.itemId===e&&(t={},t[e]={state:n.state,timeStamp:n.timeStamp,version:n.version,itemOrder:n.itemOrder})}),t},n.prototype._shouldSetReturnFlag=function(e){return!(!e.response||"undefined"!=typeof e.response.score||e.isWC)||!(!e.response||!e.isWC||e.response.wcProcessed)||e.catchUpItems.length>0},n.prototype.checkForResponseToBeScored=function(e,t){var n=-1;e.forEach(function(e){e.itemId===t.lastItem&&(n=parseInt(e.itemId))});var i={};if(n!==-1){var o=this.getNavigation().getCurrentTestPart().getItemById(n),s=this.getResponseForItem(n);i.response=s[n].state,i.itemId=n,i.isWC=o.getWc()}var r=this._navigation.getNavigator(this.getNavigation().getCurrentSection());return i=r._addCatchUpItems(this,i),this._shouldSetReturnFlag(i)&&(i.shouldSendResponse=!0),i},n.prototype.prepNavigateData=function(e,t,n,i){this._navigation.getNavigator(this.getNavigation().getCurrentSection()).prepNavigateData(this,e,t,n,i)},n.prototype.navigateAndSave=function(e,t,n,i,o){var s=this._state.getItemVersion(e);s+=1;var r=this._navigation.getNavigator(this.getNavigation().getCurrentSection()),a=r.getItemOrder(e),l=this._state.setItemResponse(this._navigation.getTestId(),e,n,i,s,a),c=$.proxy(this.navSaveFailureCallback,this,l,r,i);this._state.addItemToBundleArr(l,this.StateLib.TestEngine.State.ITEM,1);var u=l._itemId+"@"+l._timestamp;void 0===this._responseQueue[u]&&(this._responseQueue[u]=JSON.parse(JSON.stringify(l)));var d=function(e){r.navigateAndSave(this,t,l.toJSON(),i,c)};this._native.checkForBlackList($.proxy(d,this))},n.prototype.navSaveFailureCallback=function(e,t,n,i,o){3!==parseInt(this._state._securityLevel)?this.storeResponsesToFile(e,$.proxy(this.navSaveSRFCallback,this,t,n,i,o),!1,!1,n,i,o):o.msgCode&&o.msgCode!==TN8.errorType.CAT_NAVIGATE_TIMEOUT?(o.msgCode=this._getTranslatedErrorMsgCode(o.msgCode),n(o)):TN8.throw("Navigate-save call failed on level 3 test",TN8.errorType.NAVSAVE_FAIL_L3)},n.prototype.navSaveSRFCallback=function(e,t,n,i){i.msgCode&&i.msgCode!==TN8.errorType.CAT_NAVIGATE_TIMEOUT?(i.msgCode=this._getTranslatedErrorMsgCode(i.msgCode),t(i)):("function"!=typeof n&&(n=e._navSaveRetryMethod),this.ewsError(this,'{"success":"no","errorcode":"1019","msg":"Unable to complete NavSave call."}',n,[]))},n.prototype._getTranslatedErrorMsgCode=function(e){return"9999"===e?"3138":e},n.prototype.setFirstItemCallback=function(e,t,n,i){var o=window.TestEngine._navigation;o.setFirstItemCallback(e,t,n,i)},n.prototype.setNextItemIdCallback=function(e,t){var n=window.TestEngine._navigation;n.setNextItemIdCallback(e,t)},n.prototype.setResumedItemIdCallback=function(e,t,n){var i=window.TestEngine._navigation;i.setResumedItemIdCallback(e,t,n)},n.prototype.resumeAndPrepNavigateData=function(e,t,n,i,o,s){var r=window.TestEngine._navigation,a=function(e){e&&"no"===e.success?t.call(r,e):window.TestEngine.prepNavigateData(i,t,o,s)};r.setResumedItemIdCallback(e,a,n,!0)},n.prototype.setPrevItemIdCallback=function(e,t){var n=window.TestEngine._navigation;n.setPrevItemIdCallback(e,t)},n.prototype.setItemIdCallback=function(e,t,n){var i=window.TestEngine._navigation;i.setItemIdCallback(e,t,n)},n.prototype.setLastItemIdCallback=function(e,t){var n=window.TestEngine._navigation;n.setLastItemIdCallback(e,t)},n.prototype.scoreItem=function(e,t,n,i){var o=window.TestEngine._navigation;o.scoreItem(e,t,n,i)},n.prototype.getCorrectTestCases=function(e,t){var n=window.TestEngine._navigation;n.getCorrectTestCases(e,t)},n.prototype.scoreFeedback=function(e,t,n){var i=window.TestEngine._navigation;i.scoreFeedback(e,t,n)},n.prototype.getLastRefreshFormsData=function(){return window.TestEngine.getAuthentication().getLastRefreshFormsData()},n.prototype.remoteSectionControlConfig=function(e,t){var n=window.TestEngine,i=n.getAuthentication().getLoginToken(),o=n.getAuthentication().getSessionToken(),s=JSON.stringify({u_sess:i,sess:o}),r=n._state._secureUrlString+"/sectionControl/"+n.getAuthentication().getLoginId();n._serverInterface.remoteSectionControlConfig(r,s,e,t,n)},n.prototype.getHttpsUrl=function(e){var t=["http://dev2.tn8.pearsondev.com/api/8.0","http://devops.tn8.pearsondev.com/api/8.0","http://10.40.66.160/api/8.0","http://10.25.227.150/api/8.0","http://10.25.168.253/api/8.0","http://10.25.148.32/api/8.0","http://10.25.173.94/api/8.0"],n=function(){if(_.indexOf(t,e)>=0)return!0};return n()||e.match("^http://")&&(e=e.replace("http://","https://")),e},n.prototype.getApiUri=function(){return this._apiBaseUri},n.prototype.getVersion=function(){return this._version},n.prototype.getTestDefine=function(){return this._testInformation},n.prototype.getTestItemStyles=function(){return this._testInformation._sourceJson.itemStyles||""},n.prototype.getNavigation=function(){return this._navigation},n.prototype.getAuthentication=function(){return this._auth},n.prototype.getStateComponent=function(){return this._state},n.prototype.getNativeComponent=function(){return this._native},n.prototype.closeTestBatteryTest=function(e){this._native.closeTestBatteryTest(e)},n.prototype.securityEnabledAtStart=function(){var e=window.TestEngine;e._native.securityEnabledAtStart()},n.prototype.escapeKeyPressed=function(){var e=window.TestEngine;e._native.escapeKeyPressed()},n.prototype.verifyAndClearResponseQueue=function(e){var t=window.TestEngine;if("yes"===e.success)for(var n in t._responseQueue)delete t._responseQueue[n]},n.prototype.appCheck=function(e,t){var n=window.TestEngine,i=function(){n._engineDiagnostics.appCheck(e,t)};n.loadDependantLibs(i)},n.prototype.isNonIOSApp=function(){var e=window.TestEngine;return!(!e.getNativeComponent()||!e._isAppMode()||e._isiOSWebView)},n.prototype.getS3Url=function(e){var t=e.getContentUrlHost();return t+window.TestEngine.getS3FileName()},n.prototype.getS3FileName=function(){return"S3CheckFile.txt"},n.prototype.getProxyUrlList=function(e,t,n){var i=[];n=null!==n&&void 0!==n?v.TestEngine.Utils.addUniqueQueryParam(n):v.TestEngine.Utils.addUniqueQueryParam(window.TestEngine.buildTestDefUrl({buildForSetProxy:!0}));var o="http://"+window.location.host+"/"+window.TN8.getNoneCacheableFName(),t=v.TestEngine.Utils.addUniqueQueryParam(t);return e?(i.push(n),i.push(o),i.push(t)):i.push(n),i},n.prototype.registerTestnavEvent=function(e){var t=window.TestEngine;t._testnavEventQueue.push(e)},n.prototype.getTestnavEventQueue=function(){var e=window.TestEngine;return e._testnavEventQueue},n.prototype.clearTestnavEventQueue=function(){var e=window.TestEngine;e._testnavEventQueue=new Array},n.prototype.getBlackListConfigWithValue=function(e,t){var n=(window.TestEngine,e);try{("string"==typeof n||n instanceof String)&&(n=JSON.parse(n))}catch(e){n=void 0}return n||(n={}),n.blacklist&&n.blacklist&&"[object Array]"===Object.prototype.toString.call(n.blacklist)||(n.blacklist=[]),n.blacklist.push(t),n},n.prototype.setInitPreloadList=function(e){var t=window.TestEngine;t._initPreloadList=e},n.prototype.updateServerTimeOffset=function(e){var t=window.TestEngine,n=(new Date).getTime();t._serverTimeoffset=e-n},n.prototype.getServerTimeOffset=function(){var e=window.TestEngine;return e._serverTimeoffset},n.prototype.getCurrentServerTime=function(){var e=window.TestEngine;return new Date((new Date).getTime()+e._serverTimeoffset).getTime()},n.prototype.switchLogs=function(){window.TestEngine._native&&window.TestEngine._native.isSwitchLogsSupported()&&window.TestEngine.logSwitched&&(window.TestEngine._native.switchLogs(void 0,null),window.TestEngine.logSwitched=!1)},n.prototype.getTestdefRelativeUrl=function(){var e=window.TestEngine;return"/test/"+e.getAuthentication().getFormId()+"/"+e.getAuthentication().getCurrentForm().getContentVersion()+"/testdef"},n.prototype.getItemFlavorRelativeUrl=function(e){var t=this.getDesiredFlavor(e);return"/item/"+e+"/"+this.getTestDefine().getItemContentVersion(e)+"/flavor/"+t},n.prototype.onLoginSuccess=function(e){var t=window.TestEngine;t._navigation=void 0;var n=function(){window.TestEngine._testSetupComplete||(window.TestEngine.switchLogs(),window.TestEngine._testSetupComplete=!0),window.TestEngine._native&&window.TestEngine._native.onLogout()};$(document).off("tn.navigate.logout",n).one("tn.navigate.logout",n),t.loadDependantLibs(e)},n.prototype.executeFunctionByName=function(e,t){for(var n=e.split("."),i=n.pop(),o=0,s=window;o<n.length;o+=1)s=s[n[o]];return s[i].apply(this,t)},n.prototype.notifyParentAfterExitWithoutAsking=function(e,t,n){var i=window.TestEngine;n&&window.TestEngine.logError("notifyParentAfterLostFocusSave "+JSON.stringify(n)),i._isNotifyParentError=!0,window.TestEngine.executeFunctionByName(t),$(document).trigger("tn.loadingModal.on");var o=function(){window.TestEngine._testInProgress?setTimeout(function(){$(document).trigger("tn.loadingModal.on"),o()},10):window.TestEngine.executeFunctionByName(e,[n])};o()},n.prototype.getLocalizedString=function(e){return $.i18n.t(e)},n.prototype.emitEventWrapper=function(e,t){window.TestEngine.emitEvent(new g.Event(e,t))},n.prototype.doesWhitelistContainValue=function(e){var t=window.TestEngine;if(t.getAuthentication()&&t.getAuthentication().getCurrentForm()&&t.getAuthentication().getCurrentForm().getWhitelist()){var n=e.toLowerCase().trim(),i=$.grep(t.getAuthentication().getCurrentForm().getWhitelist(),function(e){return e.toLowerCase().trim()===n});return i&&i.length>0}return!1},n.prototype.registerCallback=function(e,t){var n=window.TestEngine;n._engineCallbackMapper[e]=t},n.prototype.getRegisteredCallback=function(e){var t=window.TestEngine;return t._engineCallbackMapper[e]},n.prototype.unregisterCallback=function(e){var t=window.TestEngine;t._engineCallbackMapper&&t._engineCallbackMapper[e]&&delete t._engineCallbackMapper[e]},n.prototype.loadChecksum=function(e){var t=this,n=location.protocol+"//"+location.hostname+"/client/checksum.json",i={};i.type="GET",i.dataType="json",e||(e=0),e++;try{TN8.log("TestEngine.js loadChecksum: loading checksum url "+n,TN8.CRITICAL)}catch(e){}i.success=function(e,n,i){try{TN8&&TN8.log&&TN8.log("TestEngine.js loadChecksum: successfully loaded checksum ",TN8.CRITICAL)}catch(e){}t.checksumData=e.files,"8.14.757"!==TN8.Application.clientVersion&&e.version!==TN8.Application.clientVersion&&(t.checksumData={},t.checksumData.errorFEObj={event:"ChecksumFailedLoading",details:"Version mismatch"})},i.error=function(n,i,o){e<3?t.loadChecksum(e):(t.checksumData={},t.checksumData.errorFEObj={event:"ChecksumFailedLoading",details:"Network Error "+n.responseText})},$.ajax(n,i)},n}(g.EventEmitter);t.Engine=n}(t.TestEngine||(t.TestEngine={}))}),define("util/secureErrors",["utils"],function(e){function t(t){for(var n=[[["1",!0,!1,!1,!1,!1,!1],"NOT_APP_SECURE_TEST"],[["2",!0,!1,!1,!1,!1,!1],"NOT_APP_SECURE_TEST"],[["1",!1,!0,!1,!1,!1,!1],"NOT_APP_SECURE_TEST"],[["2",!1,!0,!1,!1,!1,!1],"NOT_APP_SECURE_TEST"],[["1",!1,!1,!0,!1,!1,!1],"NOT_APP_SECURE_TEST"],[["2",!1,!1,!0,!1,!1,!1],"NOT_APP_SECURE_TEST"],[["1",!1,!1,!1,!0,!1,!1],"CHROMEAPP_SECURE_TEST"],[["1",!0,!1,!1,!0,!1,!1],"NEED_SINGLE_MODE"],[["1",!1,!0,!1,!0,!1,!1],"CHROMEAPP_SECURE_TEST"],[["1",!1,!1,!0,!0,!1,!1],"NEED_SINGLE_MODE"]],i=0;i<n.length;i++)if(e.arrayEquals(n[i][0],t))return TN8.errorType[n[i][1]];return null}function n(e,t){if(!(e.indexOf("Linux")===-1||TestEngine.isAndroidOS()||TestEngine._isAppMode()||TestEngine.isChromeOS()||"1"!==t&&"2"!==t))return TN8.errorType.CHROME_OR_EDGE_SECURE}function i(e,t){return!(e.indexOf("Edge")===-1||TestEngine.isChromeOS()||TestEngine.isAndroidOS()||"1"!==t&&"2"!==t)&&TN8.errorType.CHROME_OR_EDGE_SECURE}function o(e,t){return!(e.indexOf("Trident")===-1||TestEngine._isAppMode()||TestEngine.isAndroidOS()||"1"!==t&&"2"!==t)&&TN8.errorType.CHROME_OR_EDGE_SECURE}function s(e,t){if(!(e.indexOf("Chrome")===-1||TestEngine._isAppMode()||TestEngine.isChromeOS()||TestEngine.isAndroidOS()||"1"!==t&&"2"!==t)){var n=" UserAgent : "+e+" IsAppMode : "+TestEngine._isAppMode()+" IsJxBrowser : "+TestEngine.isJXBrowserApp();return TN8.log("Checking Chrome Browser Failed : "+n,TN8.CRITICAL),TN8.errorType.CHROME_OR_EDGE_SECURE}return!1}function r(e,t){return!(e.indexOf("Firefox")===-1||TestEngine._isAppMode()||TestEngine.isAndroidOS()||"1"!==t&&"2"!==t)&&TN8.errorType.CHROME_OR_EDGE_SECURE}function a(e,t){return!(e.indexOf("Safari")===-1||TestEngine._isAppMode()||"1"!==t&&"2"!==t)&&TN8.errorType.CHROME_OR_EDGE_SECURE}var l=function(e){var t=TN8.utils.detectBrowser(),l={chrome:function(){return s(navigator.userAgent,e)},"chrome android":function(){return s(navigator.userAgent,e)},"ie edge":function(){return i(navigator.userAgent,e)},"ie edge surface":function(){return i(navigator.userAgent,e)},"ie ie11":function(){return o(navigator.userAgent,e)},"ie ie11 surface":function(){return o(navigator.userAgent,e)},ff:function(){return r(navigator.userAgent,e)},safari:function(){return a(navigator.userAgent,e)},"safari ipad":function(){return a(navigator.userAgent,e)},linux:function(){return n(navigator.userAgent,e)}};TN8.log("Checking if browser supports secure window : "+t,TN8.CRITICAL);var u=l[t]();u?$(document).trigger("tn.secureError.found",u):c(e)},c=function(e){var n=!1;if(TestEngine.getNativeComponent())TestEngine.getNativeComponent().canLockOrIsLockedByOS(function(i){if(i===!1&&("1"===e||"2"===e)){var o=[e,TestEngine.isIdevice(),TestEngine.isChromeOS(),TestEngine.isAndroidOS(),TestEngine._isAppMode(),TestEngine.getNativeComponent().hasSecureEnvironment(),TestEngine.getNativeComponent().isLocked()];n=t(o)}$(document).trigger("tn.secureError.found",n)});else{var i=[e,TestEngine.isIdevice(),TestEngine.isChromeOS(),TestEngine.isAndroidOS(),TestEngine._isAppMode(),!1,!1];n=t(i),$(document).trigger("tn.secureError.found",n)}};return{isThereError:l,privates:{_getSingleFormErrorCode:t,_isThereSecureError:c,_checkEdgeBrowser:i,_checkChromeBrowser:s,_checkFirefoxBrowser:r,_checkSafariBrowser:a}}}),define("views/login",["javascripts/backbone-min","utils","text!tpl/initCombined.html","util/Dispatcher","tools/version","util/secureErrors","controllers/ApplicationStatusController"],function(e,t,n,i,o,s,r){"use strict";var a=e.View.extend({thisClassName:"Login",status:{NAVIGATING:1,IDLE:2},initialize:function(){_.bindAll(this),this.el=document.getElementById("content"),this.$el=$(this.el),this.template=_.template($(n).filter("#logintemplate").html()),this.audioSourcesTemplate=_.template($(n).filter("#audio-sources-template").html()),TestEngine.addListener(TestEngine.constructor.APP_OUTDATED,this.handleAppOutdated,this),TestEngine.appOutdated&&this.handleAppOutdated(),this.applicationStatusInit(),TN8.fnOn("inform.proxyFailure",this._proxyFailureHandler),$(document).off("performLogin",this.handleLogin).on("performLogin",this.handleLogin)},applicationStatusInit:function(){r.registerEvent(r.actionNames.NavigateLogin,"DoNavigateLogin","ErrNavigateLogin",TN8.Dispatcher),TN8.Dispatcher.off("DoNavigateLogin").on("DoNavigateLogin",this._doNavLogin,this),TN8.Dispatcher.off("ErrNavigateLogin").on("ErrNavigateLogin",this._errNavLogin,this),r.subscribeCondition(r.actionNames.NavigateLogin,this.thisClassName,this.status.IDLE),r.subscribeCondition(r.actionNames.TurnOffModal,this.thisClassName,this.status.IDLE)},_doNavLogin:function(){var e=$("#email").val().trim(),t=$("#password").val().trim();r.statusChange(this.thisClassName,this.status.NAVIGATING),this.processLogin(null,{user:e,pass:t})},_errNavLogin:function(){TN8.Application.error.logError("Login.ErrNavigateLogin: Login is in navigating state",TN8.Application.error.logLevel.IMPORTANT)},_proxyFailureHandler:function(){$("#email").val(""),$("#password").val("")},render:function(){$("#userName span").addClass("hidden"),window.TestEngine.checkForSecureMode()&&$(document).trigger("tn.loadingModal.on");var e=this.getAllVersions();this.$el.html(this.template({versions:e,browser:t.detectBrowser()})),this.proceedWithQuery(),this.sendRenderTime();var n="placeholder"in document.createElement("input");n||this.ie9PHolderHack();var o=this;return $("#studentLogin",o.$el).on("click",o.handleStudentLogin),$(document).off("tn.login.with.creds").on("tn.login.with.creds",this.processLogin.bind(this)),$(document).off("perform.hideLogin",this.hideLogin).on("perform.hideLogin",this.hideLogin),$(document).off("navigated.startTest navigated.settings",this.errorStatusChangeIdle).on("navigated.startTest navigated.settings",this.errorStatusChangeIdle),r.statusChange(this.thisClassName,this.status.IDLE),i.trigger("CleanUpItemController"),(TestEngine.isChromeApp()||TestEngine.isAndroidApp())&&this.createLogView(),this.attachErrorHandlers(),$("#audio_test_button").on("click",this.handleTestAudio),$("#showPassword").on("click",$.proxy(this.switchTextType,this)),this.createPracticeTestIFrame(),this.customizePracticeLinkText(),this.displayCustomerName(),window.performance&&console.log("Login rendered.."+window.performance.now()/1e3),$(".navbar-inner #crumbTrail").css("display","none"),$(".navbar-fixed-top .navbar-inner").css({"box-shadow":"none",background:"transparent","border-bottom":"none"}),$("body").addClass("loginPageWhite"),$("#header .navbar-inner .container .tn8-logo").css("display","none"),this},proceedWithQuery:function(){var e,t=this.credentials=this.parseQuery(window.location.search,window.location.href);if(t.username&&t.password?e={user:t.username,pass:t.password}:t.loginToken&&(e={loginToken:t.loginToken}),e)if($(document).trigger("tn.loadingModal.on"),TN8.Application.libsCssLoaded)this.processLogin(null,e);else{var n=this;$(document).one("libsCssLoaded",function(){n.processLogin(null,e)})}},getAllVersions:function(){var e={};return e.testEngineVersion=TestEngine.getVersion(),e.clientVersion=TN8.Application.clientVersion,e},handleTestAudio:function(e){this.testAudio(this.audioSourcesTemplate),e.preventDefault()},switchTextType:function(e){var t,n=$("#loginForm .password-div input"),i=$("#showPassword");"password"==n.attr("type")?(t=$.i18n.t("login:hidePassword"),n.prop("type","text"),i.removeClass("icon-eye-close").addClass("icon-eye-open").prop({title:t,"aria-label":t})):(t=$.i18n.t("login:showPassword"),n.prop("type","password"),i.removeClass("icon-eye-open").addClass("icon-eye-close").prop({title:t,"aria-label":t}))},testAudio:function(e){var t=.7;$("#audio-sources").html(e),setTimeout(function(){$("#audioTest").get(0).volume=t,$("#audioTest").get(0).play()},0)},events:{"submit #loginForm":"secondLoadConfirm"},sendRenderTime:function(){!window.renderTimeSent&&window.performance&&window.performance.now&&($(document).trigger("snitch.sendOut",{event:"loginRender",timing:window.performance.now()}),window.renderTimeSent=!0)},displayCustomerName:function(){var e=TN8.Application.config&&TN8.Application.config.envTitle?TN8.Application.config.envTitle:"";$("#customerName").text(e)},attachErrorHandlers:function(){TN8.fnOn("tn.login.error",this.displayError),TN8.fnOn("Inform.error",this.errorStatusChangeIdle),TN8.fnOn("navigated.practiceTest navigated.availableTest navigated.startTest navigated.settings",this.closeGrowls),$(document).on("tn.navigate.home  inform.selectTestDone",this.detachErrorHandlers)},errorStatusChangeIdle:function(){r.statusChange(this.thisClassName,this.status.IDLE)},detachErrorHandlers:function(){$(document).off("tn.login.error",this.displayError),$(document).off("tn.navigate.home inform.selectTestDone",this.detachErrorHandlers)},displayError:function(e,t,n){this.errorStatusChangeIdle();var i="<sub> "+$.i18n.t("errorMessages:msg").toUpperCase()+" "+t+"</sub>",o=document.activeElement,s=$("#login-error .alert").clone();s.on("closed",function(){o.focus()}).insertBefore(".login-actions").find(".close").after("<p>"+n+"</p>"+i),setTimeout(function(){s.find(".close").focus()},100)},createLogView:function(){if(this.logs)this.logs.destroy(),this.logs.init();else{var e=function(e){this.logs=e,this.logs.init()};require(["views/ChromeLogView"],e.bind(this))}},customizePracticeLinkText:function(){var e=TN8.Application.config;if(e){var t=e.practiceURL,n=e.practiceLinkText;if(t&&""!=t){var i=$.i18n.lng(),o=$("#practice_test_link").html(),s="";n&&n[i]?(o+=n[i],s=n[i]):(o+=$.i18n.t("login:practiceTestsBtn"),s=$.i18n.t("login:takePracticeTest")),$("#practice_test_link").html(o),$("#practice_test_link").attr("aria-label",s)}}},createPracticeTestIFrame:function(){var e=TN8.Application.config;if(e){var t=e.practiceURL;t&&""!=t&&($("#practice_test_link").css("display","inline-block"),$("#practice_test_link").on("click",function(e){$(document).trigger("tn.loadingModal.on"),$(document).trigger("tn.route.to","practiceTest"),e.preventDefault()}))}},ie9PHolderHack:function(){$(".username-field").val("Username"),$(".password-field").hide().after('<input style="color: #8e8d8d; padding: 9px 15px 9px 50px"type="text" class="login password-field" id="fakepassword" value="Password" />'),$(".username-field").focus(function(){"Username"==this.value&&(this.value="")}).blur(function(){this.value||(this.value="Username")}),$("#fakepassword").focus(function(){$("#fakepassword").hide(),$("#password").show().focus()}),$("#password").blur(function(){""==$("#password").attr("value")&&($("#password").hide(),$("#fakepassword").show())})},parseQuery:function(e,n){var i=e.slice(1)||n.split("?")[1];if(!i)return{};var o=i.split("&").map(function(e){return e.split("=")});return t.object(o)},successfulLogin:function(e){var t=this;if(TN8.log("login.successfulLogin called from TestEngine",2),$(document).trigger("tn.loadingModal.off"),$(".login-fields > .alert").remove(),this.isSingleUser()){TN8.fnOne("tn.secureError.found",function(n,i){$(document).off("tn.secureError.found"),t.continueLogin(i,e)});var n=_.values(e.forms),i=1===n.length?n[0].securityLevel:null;s.isThereError(i)}else this.continueLogin(null,e)},verifyAndProceedToLogin:function(e){if(TN8.Application.error.successCheck(e)){if(!this.isUnlocked(e)&&this.isSingleUser())return void TN8.throw("",TN8.errorType.SINGLE_TEST_LOGIN_LOCKED);TN8.log("login.successfulLogin: success check passed, login successful",2),$(document).trigger("perform.AfterAuthSuccessful",e),this.closeGrowls(),this.logs&&this.logs.destroy(),$(document).trigger("tn.login.success"),$("#userName span").removeClass("hidden"),$("body").removeClass("loginPageWhite")}else this.errorStatusChangeIdle()},continueLogin:function(e,t){e?(this.errorStatusChangeIdle(),TN8.throw("",e),$(document).trigger("perform.loginCookieCleanup")):this.verifyAndProceedToLogin(t)},isUnlocked:function(e){var t=e.forms[Object.keys(e.forms)[0]];return t&&t.unlockTest},parseChromeVersion:function(e){return e.match(/Chrome[\/\s]([\d.]+)/)[1]},checkChromeVersion:function(e,t){if(e&&t){var n=this.parseChromeVersion(navigator.userAgent),i=+n.split(".")[0];if(i<35)return TN8.errorType.OS_WRONG_VER_FATAL}return null},closeGrowls:function(){$(".jGrowl-close, .jGrowl-closer").trigger("click")},validateEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},hideLogin:function(){$("#content").empty()},processLogin:function(e,t){TN8.log("login.processLogin: called",TN8.HELPFUL),$(document).trigger("tn.loadingModal.on");var n="string"==typeof t.user?"student":"loginToken";o.check(this.engineAuth.bind(this,t,n),this.versionFail)},versionFail:function(){this.errorStatusChangeIdle()},engineAuth:function(e,t){var n=TestEngine.getAuthentication();n.login(e,t,navigator.userAgent,this.successfulLogin)},secondLoadConfirm:function(e){e.preventDefault(),console.log("loginBtnClicked"),$(document).trigger("tn.loadingModal.on"),$(document).trigger("loginBtnClicked")},handleLogin:function(){$(document).off("loginBtnClicked",this.handleLogin).on("loginBtnClicked",this.handleLogin),$(document).trigger("tn.loadingModal.off"),document.activeElement&&$.isIdevice()&&document.activeElement.blur(),r.execute(r.actionNames.NavigateLogin)},handleStudentLogin:function(e){$("#loginUserLable",this.el).text("Login Name:"),$("#loginPassLable",this.el).text("Login Test Code:"),$("#email",this.el).attr("placeholder","Login Name"),$("#password",this.el).attr("placeholder","Login Test Code")},handleAdministratorLogin:function(e){$("#loginUserLable",this.el).text("Email:"),$("#loginPassLable",this.el).text("Password:"),$("#email",this.el).attr("placeholder","Email"),$("#password",this.el).attr("placeholder","Password")},handleAppOutdated:function(e){TN8.throw("The installed version of the app is outdated",TN8.errorType.APP_OUTDATED)},isSingleUser:function(){return"multi-test"!==TestEngine.getAuthentication().getLoginType()},getSaveToLocation:function(){return""}});return a}),define("controllers/TooltipController",[],function(){"use strict";var e={animation:!1,delay:{show:0,hide:0}},t=function(){var t=_.extend({},e,{placement:"bottom"}),n=_.extend({},e,{placement:"left"}),i=function(){$("#drawingToolBar > button, #deepZoomTools").tooltip(t)},o=function(){$("#header [data-toggle='tooltip']").not("#userMenu").tooltip(t),$("#userMenu").tooltip(n)},s=function(){$("#main_panel [data-toggle='tooltip']").tooltip(n)};TN8.fnOn("ItemController.ItemLoaded",i),TN8.fnOn("tn.header.render.complete tn.startsection.loaded tn.endsection.loaded tn.endtest.loaded do.resetTooltips",o),TN8.fnOn("tn.review.render.complete",s)};return{init:t,conf:e}}),define("controllers/ReviewRangeController",["utils"],function(){"use strict";var e=function(){return{init:function(){_.bindAll(this,"_registerEvents","_unregisterEvents","setRangeValues"),this._startEndTestListener()},_startEndTestListener:function(){TN8.fnOn("tn.test.start",this._registerEvents),TN8.fnOn("cleanup.betweenTest",this._unregisterEvents)},_registerEvents:function(){TN8.fnOn("tn.test.cat.range",this.setRangeValues)},_unregisterEvents:function(){$(document).off("tn.test.cat.range",this.setRangeValues),this.rangeIds=null,this.rangeDisplayLabel=null,this.reviewRestricted=null},setRangeValues:function(e,t){var n=t.reviewRangeItemsList;if($.isArray(n)?this.convertToid(n):this.rangeIds=[],n){var i=this.findAvailablePrevItems(t.items[0].itemId,n),o=this.convertExtIdToInternal(i);this.setAvailablePrevItems(o)}},setAvailablePrevItems:function(e){this.availablePrevItems=e},getAvailablePrevItems:function(){return this.availablePrevItems},findAvailablePrevItems:function(e,t){for(var n=[],i=0;i<t.length&&t[i].itemId!==e;i++)n.push(t[i]);return _.filter(n,function(e){return e.reviewRestriced===!1})},getCurrentItemId:function(){return TN8.TestStateController.getCurrentItemId()},convertToid:function(e){for(var t=[],n=[],i=[],o=0;o<e.length;o++){var s=e[o],r=s.itemId;s.displayLabel;i.push(s.reviewRestriced),n.push(s.displayLabel),t.push(window.TestEngine.getNavigation().getCurrentSection().getItemByName(r).getIdentifier())}this.rangeIds=t,this.rangeDisplayLabel=n,this.reviewRestricted=i},convertExtIdToInternal:function(e){for(var t=[],n=0;n<e.length;n++)t.push(window.TestEngine.getNavigation().getCurrentSection().getItemByName(e[n].itemId).getIdentifier());return t},getCurrentRange:function(){return this.rangeIds},getReviewRestricted:function(){return this.reviewRestricted},getRangeDisplayLabel:function(){return this.rangeDisplayLabel},hasRange:function(){return this.rangeIds&&this.rangeIds.length>0}}},t=new e;return t.init(),t}),define("util/TestDefProperties",["controllers/PnpController","controllers/ReviewRangeController","timer/TimerUtils"],function(e,t,n){"use strict";return function(i){return{areAllItemsLocked:function(){if(i.TestEngine.getAuthentication().getSession().getResumeOverride())return!1;var e=this.getCurrentSectionItems(),t=e.filter(function(e){
return e.locked===!0});return e.length===t.length},init:function(){_.bindAll(this)},getCurrentItem:function(){return i.TestEngine.getNavigation().getCurrentItem()},getCurrentSectionItems:function(){return i.TN8.TestStateController.getCurrentSectionItems()},getPreviousItems:function(){var e=this.getCurrentSectionItems(),t=this.getCurrentItem().getIdentifier(),n=e.map(function(e){return e.id}).indexOf(t);return e.slice(0,n)},getPrevUnavailableItems:function(e){var t=e.map(function(e){return e.itemId}),n=this.getPreviousItems(),i=n.filter(function(e){return t.indexOf(e.id)>-1});return i},getToolsets:function(){var e=this._getTestDef();return e?e.getToolsets():[]},getCurrentToolset:function(){if(i.TestEngine)return new ToolLoader},getUnavailableItems:function(){return i.TN8.TestStateController.getUnavailableItemsInSection(i.TestEngine.getNavigation().getCurrentSection().getIdentifier())},considerResumeRestriction:function(e){var t=this.hasResumeRestriction();if(t){var n=this.getUnavailableItems(),i=this.getPrevUnavailableItems(n),o=this.getPreviousItems();return o.length>i.length}return e.default},hasPreviousSiblingCat:function(){var e=t.getAvailablePrevItems();return e&&e.length>0},hasPreviousSibling:function(){var e=i.TestEngine.getNavigation().getCurrentItem().getPreviousSibling();return e?this.considerResumeRestriction({default:!0}):!!e&&void 0},hasReviewRangeForCAT:function(){return t.hasRange()},hasResumeRestriction:function(){var e=this._getTestDef()&&this._getTestDef().getReviewRestrictionTime();return $.isNumeric(e)&&0!==e},hasItemFeedback:function(){return!!this._getTestDef()&&TestEngine.getTestDefine().itemFeedback()},isAimsWeb:function(){return this._getTestDef()&&this._getTestDef().getChrome()&&"aimsweb"===this._getTestDef().getChrome().toLowerCase()},isCat:function(){return!(i.TestEngine&&i.TestEngine.getNavigation().getCurrentSection().isLinear())},isHideNavigation:function(){return i.TestEngine&&i.TestEngine.getNavigation().getCurrentItem().hideNavigation()},isItemAnswered:function(){return i.TN8.Application.DataProvider._isItemAnswered()},isLastItemLocked:function(){return this.getCurrentSectionItems().slice().pop().locked},isMustAnswerToContinue:function(){return!!this.hasResumeRestriction()||!!this._getTestDef()&&i.TestEngine.getNavigation().getCurrentSection().getMustAnswerToContinue()},isReviewRange:function(){return t.getCurrentRange()&&t.getCurrentRange().length>0},hasTimer:function(){var t=e.getTimeMultiplier();return this._getTestDef()&&(n.isTestTimer()||this.hasSectionTimer())&&0!==t},hasSectionTimer:function(){var e=this._getTestDef()&&"undefined"!=typeof TestEngine.getTestDefine().getCountdown()&&TestEngine.getTestDefine().getCountdown()!==-1,t=this._getTestDef()&&i.TestEngine.getNavigation().getCurrentSection();return t&&null!==t.getTimer()&&0!==t.getTimer()&&!e},hasStudentToggleTimer:function(){return this._getTestDef()&&this._getTestDef().getStudentToggleTimer()},hideTimer:function(){return this._getTestDef()&&this._getTestDef().hideTimer()},noReview:function(){return!!this._getTestDef()&&i.TestEngine.getNavigation().getCurrentSection().hideSectionReview()},_getTestDef:function(){return i.TestEngine&&i.TestEngine.getTestDefine()}}}}),define("models/header/UserMenuItem",["javascripts/backbone-min"],function(e){"use strict";var t=e.Model.extend({defaults:{id:"",accName:"",itemType:"normal",label:"",title:"",context:null,callback:null,onRender:null,enabled:!0}});return t}),define("views/header/UserMenuItemView",["javascripts/backbone-min","text!tpl/initCombined.html","utils"],function(e,t,n){"use strict";var i=e.View.extend({el:"<li role='presentation'>",template:_.template($(t).filter("#header_userdropdown_item").html()),initialize:function(e,t){_.bindAll(this,"destroy")},events:{"click a":"handleClick"},render:function(){return this.$el.html(this.template(this.model.attributes)),this.model.attributes.onRender&&this.model.attributes.onRender.apply(this.model.attributes.context,this.$el),this},handleClick:function(e){n.preventDefault(e);var t=this.model.get("accName");if(t){var i={accommodationName:t,enabled:!1};$(document).trigger("userDude.accommodationItem.clicked",i)}var o=this.model.attributes.context,s=this.model.attributes.callback.apply(o,[e]);return"touchstart"===e.type&&s!==!1&&$("#userMenuDropDown").trigger("click"),$(document).trigger("do.WindowRepaint"),s},destroy:function(){this.unbind(),this.remove()}});return i}),define("views/header/UserMenuItemViewToggle",["javascripts/backbone-min","text!tpl/initCombined.html","utils"],function(e,t,n){"use strict";var i=e.View.extend({el:"<li role='presentation'>",template:_.template($(t).filter("#header_userdropdown_item").html()),initialize:function(e,t){_.bindAll(this,"render","destroy","handleToggle"),this.model.bind("toggle",this.handleToggle),TN8.Dispatcher.on("enableMenuItem",this.handleClose,this)},events:{"click a":"handleClick"},render:function(){var e=this.model.attributes;if("zoomControls"==e.accName){var t=$.i18n.t("userDropDown:zoomControls");this.model.set("label",t+e.inactiveLabel),this.model.set("title",t),this.$el.html(this.template(e))}else{var n=e.enabled,t=n?e.activeLabel:e.inactiveLabel;this.model.set("label",t),this.model.set("title",t),this.$el.html(this.template(e)),e.enabled===!0&&this.$el.children("a").append(" <i style='position: absolute; right: 3px;' class='icon-ok'></i>")}return e.onRender&&e.onRender.apply(e.context,this.$el),this},handleToggle:function(e){this.model.set("enabled",e),this.render()},handleClose:function(e){e.id===this.model.id&&this.handleToggle(e.enabled)},handleClick:function(e){n.preventDefault(e);var t=this.model.attributes,i=!t.enabled,o=this.model.get("accName");if(o){var s={accommodationName:o,enabled:i};$(document).trigger("userDude.accommodationItem.clicked",s)}e.enabled=i,this.model.set("enabled",i),$("#dropdown_zoomControls")[0]&&$("#dropdown_zoomControls")[0].contains(event.target)||this.render();var r=t.context,a=t.callback.apply(r,[e]);return"touchstart"===e.type&&a!==!1&&$("#userMenuDropDown").trigger("click"),i&&"masking"!=o&&$(document).trigger("do.WindowRepaint"),a},destroy:function(){this.unbind(),this.remove(),TN8.Dispatcher.off("enableMenuItem",this.handleClose),this.model.unbind("toggle",this.handleToggle)}});return i}),define("views/header/UserMenuItemCollectionView",["javascripts/backbone-min","models/header/UserMenuItem","views/header/UserMenuItemView","views/header/UserMenuItemViewToggle"],function(e,t,n,i){"use strict";var o=e.View.extend({initialize:function(){_.bindAll(this,"add","remove","render"),this._itemViews=[],this.collection.each(this.add),this.collection.bind("add",this.add),this.collection.bind("remove",this.remove),this.collection.bind("render",this.render)},add:function(e){var t,o=e.attributes.itemType;t="toggle"===o?new i({model:e,tagName:"li"}):new n({model:e,tagName:"li"}),this._itemViews.push(t),this._rendered&&this.$el.append(t.render().$el)},remove:function(e){var t=_(this._itemViews).select(function(t){return t.model===e})[0];this._itemViews=_(this._itemViews).without(t),this._rendered&&$(t.el).remove()},removeAll:function(){for(var e=0;e<this._itemViews.length;e++)this._itemViews[e].destroy()},render:function(){var e=this;return this._rendered=!0,this.$el.empty(),_(this._itemViews).each(function(t){e.$el.append(t.render().$el)}),this.delegateEvents(),this},destroy:function(){this.removeAll(),this.unbind()}});return o}),define("views/header/UserMenuDividerView",["javascripts/backbone-min","text!tpl/initCombined.html","utils"],function(e,t,n){"use strict";var i=e.View.extend({template:_.template($(t).filter("#header_userdropdown_divider").html()),initialize:function(e,t){},events:{},render:function(){return this.el=this.template(),this}});return i}),define("views/header/UserDropdown",["javascripts/backbone-min","views/header/UserMenuItemCollectionView","views/header/UserMenuDividerView","models/header/UserMenuItem","text!tpl/initCombined.html"],function(e,t,n,i,o,s){"use strict";var r=e.View.extend({el:"#userDropdown",template:_.template($(o).filter("#header_userdropdown").html()),initialize:function(e,t){_(this).bindAll("onChange"),this.menuItemViewCollection=[]},onChange:function(e){this.render()},render:function(){this.$el=$("#userDropdown"),this.$el.html(this.template());var e=this.$el.find("#userMenu"),i=this.$el.find("#userMenuDropDown"),o=this.$el.find("#menuDrop");TestEngine.isAndroidApp()&&!$("body").hasClass("chrome")||TestEngine.isIdevice()||o.focus(function(){$("#userMenu").tooltip("show")}).blur(function(){$("#userMenu").tooltip("hide")});var s=this;e.on("keydown",function(e){9==e.which&&(i.removeClass("open"),s.closeDropdown())}),e.off("open.bs.dropdown").on("open.bs.dropdown",this.updateDropdownOpen.bind(this)),e.off("close.bs.dropdown").on("close.bs.dropdown",this.updateDropdownClose.bind(this)),$(document).off("inform.timeoutModalOn deepZoomLevel.enter",$.proxy(this.closeDropdown,this)).on("inform.timeoutModalOn deepZoomLevel.enter",$.proxy(this.closeDropdown,this));for(var r=(new n).render().el,a=0,l=0;l<this.model.collections.length;l++){var c=this.model.collections[l];c.on("add",this.onChange),c.on("remove",this.onChange);var u=new t({collection:c});this.menuItemViewCollection.push(u);var d=u.render().$el.children();0!==l&&d.length>0&&a>0&&i.append(r),i.append(d),a+=d.length}return this.delegateEvents(),this},handleMousedown:function(e){var t=$("#userMenu");$("#menuDrop");if(t.hasClass("open")){var n=$.contains(t[0],e.target)||$.contains($("#deepZoomLayer")[0],e.target);n||this.closeDropdown()}},closeDropdown:function(){$("#userMenu").removeClass("open").trigger("close.bs.dropdown")},updateDropdownOpen:function(){var e=$("#userMenu"),t=$("#menuDrop"),n=$("ul",e);$("button",e).attr("aria-expanded",!0),t.addClass("btn-inverse active"),_.defer(function(){n.find("a").eq(0).focus()}),TestEngine.isAndroidApp()&&!$("body").hasClass("chrome")||TestEngine.isIdevice()||e.tooltip("hide"),$(document).off("mouseup",$.proxy(this.handleMousedown,this)).on("mouseup",$.proxy(this.handleMousedown,this)),TN8.EpatBlocker.on(["mousedown"],$.proxy(this.handleMousedown,this),!1),$(document).trigger("userDropdown.open"),$(document).trigger("deepZoomLayer.getStatus",$.proxy(this._handleDeepZoomStatus,this))},_handleDeepZoomStatus:function(e){e&&this._doDeepZoomCoupling()},_doDeepZoomCoupling:function(){$(document).trigger("deepZoomLayer.setCoupling",{title:$.i18n?$.i18n.t("userDropDown:userDropDown"):"User Dropdown Menu",html:"#userMenuDropDown",hideCallback:$.proxy(this.closeDropdown,this),specialCare:this.deepZoomSpecialCare,specialCleanUp:this.deepZoomSpecialCleanUp})},deepZoomSpecialCare:function(){$("#userMenuDropDown a").attr("tabindex",0),$("#deepZoomLayerBody").addClass("open"),$("#userMenuDropDown a").on("click",function(e){$(e.target).hasClass("zoomBtn")||$(e.target.parentElement).hasClass("zoomBtn")||$(document).trigger("deepZoomLayer.detachCoupling")})},deepZoomSpecialCleanUp:function(){$("#userMenuDropDown a").attr("tabindex",-1),$("#deepZoomLayerBody").removeClass("open"),$("#userMenuDropDown a").off("click")},updateDropdownClose:function(){var e=$("#menuDrop");e.attr("aria-expanded","false"),e.removeClass("btn-inverse active"),TestEngine.isAndroidApp()&&!$("body").hasClass("chrome")||TestEngine.isIdevice()||$("#userMenu").tooltip("hide"),$(document).off("mouseup",$.proxy(this.handleMousedown,this)),TN8.EpatBlocker.off(["mousedown"],$.proxy(this.handleMousedown,this),!1),$(document).trigger("userDropdown.close")},destroy:function(){for(var e=0;e<this.menuItemViewCollection.length;e++)this.menuItemViewCollection[e].destroy();this.menuItemViewCollection=[],$(document).off("inform.timeoutModalOn deepZoomLevel.enter",$.proxy(this.closeDropdown,this))}});return r}),define("views/header/CrumbTrail",["javascripts/backbone-min","text!tpl/initCombined.html","utils","util/Dispatcher"],function(e,t,n,i){"use strict";var o=e.View.extend({el:"#crumbTrail",template:_.template($(t).filter("#header_crumbtrail").html()),initialize:function(e,t){},events:{},render:function(){this.$el=$("#crumbTrail"),this.$el.html(this.template());var e,t,n,i=this.$el.find(".breadcrumbs"),o=this.model.get("crumbs");for(e=0;e<o.length;e++)t=o[e],"a"==t[0].tagName.toLowerCase()&&"undefined"==typeof t.attr("href")&&t.attr("href","#"),n=$("<li>").html(t),o.length>1&&o.length===e+1&&n.addClass("current"),n.html(t),i.append(n);this.delegateEvents()}});return o}),define("views/header",["javascripts/backbone-min","utils","text!tpl/initCombined.html","util/Dispatcher","controllers/ApplicationStatusController","controllers/TooltipController","controllers/ReviewRangeController","util/TestDefProperties","views/header/UserDropdown","views/header/CrumbTrail"],function(e,t,n,i,o,s,r,a){"use strict";var l=e.View.extend({initialize:function(){_.bindAll(this,"addSkipToListeners","updateSkipToPosition","handlePrevious","handleNext","handleSetting","handleFlagItemClick","handleSkipTo","cleanupBetweenTest","onTaskEnd","doTaskNavigation"),this.el=document.getElementById("header"),this.$el=$(this.el),this.combinedTemplate=$(n),this.templateNavigation=_.template(this.combinedTemplate.filter("#header_navigation").html()),this.templateReviewDropdown=_.template(this.combinedTemplate.filter("#header_epat_report").html()),this.templateToolbar=_.template(this.combinedTemplate.filter("#header_toolbar").html()),this.templateOverviewBack=_.template(this.combinedTemplate.filter("#header_overviewback").html()),this.templateUserInfo=_.template(this.combinedTemplate.filter("#header_right").html()),this.$el.css("z-index",1040),this.HeaderMode={BEFORE_TEST:0,ITEM:1,OVERVIEW:2,END_SECTION:3,EPAT_REPORT:4},this.UserDropdownView=new(require("views/header/UserDropdown"))({model:this.model.get("userDropdownModel")}),this.CrumbTrailView=new(require("views/header/CrumbTrail"))({model:this.model.get("crumbTrailModel")}),this.model.on("change",this.render,this),this.onEndTest=!1,$(document).off("task.buttons.update").on("task.buttons.update",this.doTaskNavigation),$(document).off("task.nav.end").on("task.nav.end",this.onTaskEnd),TestEngine.isAndroidApp()&&!$("body").hasClass("chrome")||TestEngine.isIdevice()||s.init(),$(document).off("epat.name.entered",this.epatNameHandler).on("epat.name.entered",$.proxy(this.epatNameHandler,this)),this.addSkipToListeners(),TN8.fnOn("cleanup.betweenTest",this.cleanupBetweenTest),this.testDefProps=new a(window),$(document).off("deepZoomLevel.enter",$.proxy(this._handleDeepZoom,this)).on("deepZoomLevel.enter",$.proxy(this._handleDeepZoom,this)),$(document).off("deepZoomLevel.exit",$.proxy(this._unhandleDeepZoom,this)).on("deepZoomLevel.exit",$.proxy(this._unhandleDeepZoom,this))},_scrollTimer:null,_handleDeepZoomScroll:function(){this._scrollTimer&&window.cancelAnimationFrame(this._scrollTimer),this._scrollTimer=window.requestAnimationFrame($.proxy(this._adjustHeaderPosition,this))},_handleDeepZoom:function(){$(window).off("scroll",$.proxy(this._handleDeepZoomScroll,this)).on("scroll",$.proxy(this._handleDeepZoomScroll,this))},_unhandleDeepZoom:function(){$(window).off("scroll",$.proxy(this._handleDeepZoomScroll,this)),window.cancelAnimationFrame(this._scrollTimer),this._scrollTimer=null,this.el.style["margin-left"]=null,this.el.style["margin-right"]=null},_adjustHeaderPosition:function(){var e=window.scrollX||document.documentElement.scrollLeft;this.el.style["margin-left"]=e+"px",this.el.style["margin-right"]=e*-1+"px"},cleanupBetweenTest:function(){this.timerView=null},addSkipToListeners:function(){$(window).off("resize",this.updateSkipToPosition).on("resize",this.updateSkipToPosition),$(document).off("tn.header.render.complete",this.updateSkipToPosition).on("tn.header.render.complete",this.updateSkipToPosition)},updateSkipToPosition:function(){var e=$("#header").outerHeight();$("#skip-to-content").css("top",e);var t=parseInt($("body").css("padding-top"));0!==t?$("#skipToInstructions > a").css("top",e-t):$("#skipToInstructions > a").css("top",""),$(document).trigger("tn.header.sizeChanged")},epatNameHandler:function(e,t){this.epatStudentName=t},render:function(){var e=this.model.get("headerMode"),n='<div id="skip-to-content" class="container"><a class="skipToContentLang'+$.i18n.lng()+'" href="#">'+$.i18n.t("header:skipToContent")+"</a></div>";n+='<div class="navbar-inner"><div class="container">',this.onEndTest=!1,t.isMobile&&(this.$el.css("position","absolute"),TestEngine.isIdevice()||(TestEngine.isAndroidApp()?$("body").addClass("androidApp"):$("body").addClass("notIMobile")));var i='<div id="userDropdown" class="btn-toolbar"></div>',o='<div id="crumbTrail" class="container-fluid subheader"></div>';switch(this.reviewRange=r.getCurrentRange(),this.model.set("isK2",TN8.utils.isK2()),e){case this.HeaderMode.BEFORE_TEST:n+=this.templateOverviewBack(this.model.attributes),n+=this.templateUserInfo(this.model.attributes);break;case this.HeaderMode.ITEM:this.model.setNavButtonState(),n+='<div id="itemHeaderContainer">',n+='<div id="header_left" class="pull-left">',n+=this.templateNavigation(this.model.attributes),n+=this.templateToolbar(this.model.attributes),n+="</div>",n+=this.templateUserInfo(this.model.attributes),n+="</div>",this.setupBtnToggle();break;case this.HeaderMode.OVERVIEW:n+=this.templateOverviewBack(this.model.attributes),n+=this.templateUserInfo(this.model.attributes);break;case this.HeaderMode.END_SECTION:this.model.setNavButtonState(),n+='<div id="header_left" class="pull-left">',n+=this.templateNavigation(this.model.attributes),n+="</div>",n+=this.templateUserInfo(this.model.attributes),this.onEndTest=!0;break;case this.HeaderMode.EPAT_REPORT:this.model.setNavButtonState(),n+=this.templateReviewDropdown(this.model.attributes),n+=this.templateUserInfo(this.model.attributes),this.onEndTest=!0}return n+="<div/></div>",this.model.get("isK2")||(n+=o),this.$el.html($(n)),$("#userContainer").append(i),this.timerView&&this.timerView.destroySubViews(),e!==this.HeaderMode.ITEM&&e!==this.HeaderMode.END_SECTION||(this.TimerView=require("views/timerView/TimerView"),this.timerView=this.timerView?this.timerView:new this.TimerView,$("#header_right").prepend(this.timerView.render())),this.UserDropdownView.destroy(),this.UserDropdownView.render(),this.CrumbTrailView.render(),this.adjustAria(),this.setFlagIconState(),$("#btnPrevious").on("click",this.handlePrevious),$("#btnNext").on("click",this.handleNext),$("#btnSetting").on("click",this.handleSetting),$("#btnFlagForReview").on("click",this.handleFlagItemClick),$("#skip-to-content>a").on("click",this.handleSkipTo),$("#header").on("selectstart",window.handleSelect),$(document).trigger("tn.header.render.complete"),this},handleFlagItemClick:function(e){var t=TN8.TestStateController.getCurrentItemState();$(document).trigger("testState.setItemFlagged",!t.flagged),this.setFlagIconState()},handleSkipTo:function(e){if("focus"===e.type)window.scrollTo(0,0);else if("click"===e.type){e.preventDefault();var t=$("#itemCanvasTitle");t&&t.focus&&t.focus()}},handleNext:function(e){var t=$("#btnNext").hasClass("disabled");return!t&&void $(document).trigger("tn.do.nav.next")},handlePrevious:function(e){var t=$("#btnPrevious").hasClass("disabled");if(t)return!1;var n=TN8.Application.currentContent===TN8.Application.CONTENT_TEST_END||TN8.Application.currentContent===TN8.Application.CONTENT_SECTION_END;n?$(document).trigger("tn.do.nav.lastItem"):$(document).trigger("tn.do.nav.prev")},handleSetting:function(e){t.preventDefault(e),$("#divHelp").dialog({modal:!0,buttons:{Ok:function(){$(this).dialog("close")}},show:"blind",hide:"explode",height:420,width:375,resizable:!1})},setFlagIconState:function(){var e=$("#btnFlagForReview",this.el);if(e.length){var t=TN8.TestStateController.getCurrentItemState();if(t){var n=t.flagged;e.toggleClass("active",n),e.attr("aria-checked",n)}}},adjustAria:function(){$("#btnPrevious.disabled:not([aria-label^=Disabled]), #btnNext.disabled:not([aria-label^=Disabled]), #btnOverview.disabled:not([aria-label^=Disabled])").each(function(){var e=$(this).attr("aria-label");$(this).attr("aria-label","Disabled "+e)})},getNavigation:function(){var e=TestEngine.getNavigation();return e},getUserDisplayName:function(){var e="",t="",n=TN8.Application.currentContent;return"login"===n||"logout"===n||"home"===n||"practiceTest"===n?(this.epatStudentName="",$.i18n.t("header:notSignedIn")):this.epatStudentName&&""!==this.epatStudentName?this.processScoreableEpatDisplayName(this.epatStudentName):TestEngine.getAuthentication().getRealName()?(e=TestEngine.getAuthentication().getFirstName(),t=TestEngine.getAuthentication().getLastName(),this.processGeneralDisplayName(e,t)):$.i18n.t("header:notSignedIn")},processGeneralDisplayName:function(e,t){e=e.trim(),t=t.trim(),e=e.length>9?e.substring(0,6)+"...":e,t=t.length>10?t.substring(0,7)+"...":t;var n=e.length>0,i=t.length>0,o="";return n&&i?o=e+" "+t:n?o=e:i&&(o=t),TN8.utils.escapeHtml(o)},processScoreableEpatDisplayName:function(e){var t=e.length>20?e.substring(0,17)+"...":e;return TN8.utils.escapeHtml(t)},isReviewRange:function(){return this.reviewRange&&this.reviewRange.length>1},isPrevBtnEnable:function(){for(var e=TN8.TestStateController.getCurrentItemId(),t=1;t<this.reviewRange.length;t++)if(e===this.reviewRange[t])return!0;return!1},onTaskEnd:function(){TN8.log("Header.onTaskEnd",TN8.IMPORTANT),$(document).trigger("tn.do.nav.next")},doTaskNavigation:function(e){var t,n="disabled",i="btn-primary",o=e.button,s=e.enabled;"next"==o?t="#btnNext":"back"==o&&(t="#btnPrevious"),$(t).toggleClass(i,s),$(t).toggleClass(n,!s),$(t+",#btnOverview > button").each(function(){var e=$(this).attr("aria-label");e.indexOf("Disabled ")!=-1&&(e=e.substring(9,e.length),$(this).attr("aria-label",e).attr("data-original-title",e))}),$("#btnNext.disabled:not([aria-label^=Disabled]) , #btnPrevious.disabled:not([aria-label^=Disabled]) , #btnOverview>button.disabled:not([aria-label^=Disabled])").each(function(){var e=$(this).attr("aria-label"),t="Disabled "+e;$(this).attr("aria-label",t).attr("data-original-title","")})},setupBtnToggle:function(){$(document).off("ItemSetAnswer",$.proxy(this._onItemSetAnswer,this));var e=!TestEngine.getNavigation().getCurrentSection().isLinear(),t=this.testDefProps.isMustAnswerToContinue();(e||t)&&$(document).on("ItemSetAnswer",$.proxy(this._onItemSetAnswer,this))},_onItemSetAnswer:function(e,t){var n="disabled",i="btn-primary",o=this.isReviewRange(),s=!TestEngine.getNavigation().getCurrentSection().isLinear(),r=this.testDefProps.noReview(),a=this.model.get("headerMode")===this.HeaderMode.ITEM;if(TN8.log("header.setupBtnToggle:ItemSetAnswer listener   answered : "+t+" isOnItem : "+a,TN8.IMPORTANT),a){var l="",c="";s?o&&this.testDefProps.hasPreviousSiblingCat()?(c="#btnNext, #btnPrevious",l="#btnNext, #btnPrevious"):(c="#btnNext",l="#btnNext"):this.testDefProps.hasPreviousSibling()&&!r?(c="#btnNext, #btnPrevious",l="#btnNext, #btnPrevious"):(c="#btnNext",l="#btnNext"),$(l).toggleClass(i,t),$(c).toggleClass(n,!t),$("#btnOverview , #btnOverview > button").toggleClass(n,!t),$("#btnOverview > button").attr("aria-label",function(){return t?$(this).attr("aria-label"):"Disabled "+$(this).attr("aria-label")}),$("#btnOverview > button").attr("data-original-title",function(){return t?$(this).attr("aria-label"):""}),$(l+",#btnOverview > button").each(function(){var e=$(this).attr("aria-label");e.indexOf("Disabled ")!=-1&&(e=e.substring(9,e.length),$(this).attr("aria-label",e).attr("data-original-title",e))}),$("#btnNext.disabled:not([aria-label^=Disabled]) , #btnPrevious.disabled:not([aria-label^=Disabled]) , #btnOverview>button.disabled:not([aria-label^=Disabled])").each(function(){var e=$(this).attr("aria-label"),t="Disabled "+e;$(this).attr("aria-label",t).attr("data-original-title","")})}}});return l}),define("models/header/ButtonGroup",["javascripts/backbone-min"],function(e){"use strict";var t=e.Model.extend({});return t}),define("models/header/UserMenuItemCollection",["javascripts/backbone-min","models/header/UserMenuItem"],function(e,t){"use strict";var n=e.Collection.extend({model:t});return n}),define("controllers/UserDropdownController",["javascripts/backbone-min","utils","util/Dispatcher"],function(e,t,n){"use strict";var i=e.Model.extend({defaults:{contrastController:{}},initialize:function(e,t){_.bindAll(this,"onClose"),$(document).on("MagnifierCloseEvent CustomMaskCloseEvent LineReaderCloseEvent",this.onClose)},onClose:function(e){var t={MagnifierCloseEvent:"dropdown_magnifier",LineReaderCloseEvent:"dropdown_lineReader"};n.trigger("enableMenuItem",{id:t[e.type],enabled:!1})},handleLogout:function(e){$(document).trigger("tn.navigate.leaveTest"),this.onClose({type:"MagnifierCloseEvent"})},handleNavToLogin:function(e){t.preventDefault(e),$(document).trigger("tn.route.to","login")},handleContrastSettings:function(e){var t=this.get("contrastController");t.showModal()},handleCustomerChange:function(e){$(document).trigger("tn.route.to","home")},callAppCheck:function(e){$(document).trigger("tn.route.to","appCheck")}});return i}),define("models/TutorialModel",[],function(){"use strict";var e=function(e){var t;return{initialize:function(){switch(e){case"client":require(["models/tutorials/client"],function(e){t=e.getData(),$(document).trigger("tn8tutorial.loaded")})}},getTutorialData:function(){return t}}};return e}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("javascripts/hopscotch.min",t):e.hopscotch=t()}(this,function(){"use strict";var e,t,n,i,o,s,r,a,l,c,u,d,h,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f="bubble_default",g=window.Sizzle||null,m="undefined",v=!1,T=("undefined"==typeof jQuery?"undefined":p(jQuery))!==m,_=!1,E=!1,b=/^[a-zA-Z]+[a-zA-Z0-9_-]*$/,y={left:"right",right:"left"};try{p(window.sessionStorage)!==m&&(_=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),E=!0)}catch(e){}d={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),u=function(){v&&h.startTour()},a={addClass:function(e,t){var n,i,o,s;if(e.className){for(i=t.split(/\s+/),n=" "+e.className+" ",o=0,s=i.length;s>o;++o)n.indexOf(" "+i[o]+" ")<0&&(n+=i[o]+" ");e.className=n.replace(/^\s+|\s+$/g,"")}else e.className=t},removeClass:function(e,t){var n,i,o,s;for(i=t.split(/\s+/),n=" "+e.className+" ",o=0,s=i.length;s>o;++o)n=n.replace(" "+i[o]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")},hasClass:function(e,t){var n;return!!e.className&&(n=" "+e.className+" ",-1!==n.indexOf(" "+t+" "))},getPixelValue:function(e){var t="undefined"==typeof e?"undefined":p(e);return"number"===t?e:"string"===t?parseInt(e,10):0},valOrDefault:function(e,t){return("undefined"==typeof e?"undefined":p(e))!==m?e:t},invokeCallbackArrayHelper:function(e){var t;return Array.isArray(e)&&(t=c[e[0]],"function"==typeof t)?t.apply(this,e.slice(1)):void 0},invokeCallbackArray:function(e){var t,n;if(Array.isArray(e)){if("string"==typeof e[0])return a.invokeCallbackArrayHelper(e);for(t=0,n=e.length;n>t;++t)a.invokeCallback(e[t])}},invokeCallback:function(e){return"function"==typeof e?e():"string"==typeof e&&c[e]?c[e]():a.invokeCallbackArray(e)},invokeEventCallbacks:function(e,t){var n,i,o=l[e];if(t)return this.invokeCallback(t);for(n=0,i=o.length;i>n;++n)this.invokeCallback(o[n].cb)},getScrollTop:function(){var e;return e=p(window.pageYOffset)!==m?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){var e;return e=p(window.pageXOffset)!==m?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},addEvtListener:function(e,t,n){return e?e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n):void 0},removeEvtListener:function(e,t,n){return e?e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n):void 0},documentIsReady:function(){return"complete"===document.readyState},evtPreventDefault:function(e){e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)},extend:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},getStepTargetHelper:function(e){var t=document.getElementById(e);if(t)return t;if(T)return t=jQuery(e),t.length?t[0]:null;if(g)return t=new g(e),t.length?t[0]:null;if(document.querySelector)try{return document.querySelector(e)}catch(e){}return/^#[a-zA-Z][\w-_:.]*$/.test(e)?document.getElementById(e.substring(1)):null},getStepTarget:function(e){var t;if(!e||!e.target)return null;if("string"==typeof e.target)return a.getStepTargetHelper(e.target);if(Array.isArray(e.target)){var n,i;for(n=0,i=e.target.length;i>n;n++)if("string"==typeof e.target[n]&&(t=a.getStepTargetHelper(e.target[n])))return t;return null}return e.target},getI18NString:function(e){return o[e]||i[e]},setState:function(e,t,n){var i,o="";if(_&&E)try{sessionStorage.setItem(e,t)}catch(i){E=!1,this.setState(e,t,n)}else _&&sessionStorage.removeItem(e),n&&(i=new Date,i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toGMTString()),document.cookie=e+"="+t+o+"; path=/"},getState:function(e){var t,n,i,o=e+"=",s=document.cookie.split(";");if(_&&(i=sessionStorage.getItem(e)))return i;for(t=0;t<s.length;t++){for(n=s[t];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(o)){i=n.substring(o.length,n.length);break}}return i},clearState:function(e){_?sessionStorage.removeItem(e):this.setState(e,"",-1)},normalizePlacement:function(e){!e.placement&&e.orientation&&(e.placement=e.orientation)},flipPlacement:function(e){if(e.isRtl&&!e._isFlipped){var t,n,i=["orientation","placement"];e.xOffset&&(e.xOffset=-1*this.getPixelValue(e.xOffset));for(n in i)t=i[n],e.hasOwnProperty(t)&&y.hasOwnProperty(e[t])&&(e[t]=y[e[t]]);e._isFlipped=!0}}},a.addEvtListener(window,"load",u),l={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},c={},i={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},o={},t=function(e){this.init(e)},t.prototype={isShowing:!1,currStep:void 0,setPosition:function(e){var t,n,i,o,s,r,l,c=a.getStepTarget(e),u=this.element,d=this.arrowEl,h=e.isRtl?"right":"left";if(a.flipPlacement(e),a.normalizePlacement(e),n=u.offsetWidth,t=u.offsetHeight,a.removeClass(u,"fade-in-down fade-in-up fade-in-left fade-in-right"),i=c.getBoundingClientRect(),l=e.isRtl?i.right-n:i.left,"top"===e.placement)o=i.top-t-this.opt.arrowWidth,s=l;else if("bottom"===e.placement)o=i.bottom+this.opt.arrowWidth,s=l;else if("left"===e.placement)o=i.top,s=i.left-n-this.opt.arrowWidth;else{if("right"!==e.placement)throw new Error("Bubble placement failed because step.placement is invalid or undefined!");o=i.top,s=i.right+this.opt.arrowWidth}r="center"!==e.arrowOffset?a.getPixelValue(e.arrowOffset):e.arrowOffset,r?"top"===e.placement||"bottom"===e.placement?(d.style.top="","center"===r?d.style[h]=Math.floor(n/2-d.offsetWidth/2)+"px":d.style[h]=r+"px"):("left"===e.placement||"right"===e.placement)&&(d.style[h]="","center"===r?d.style.top=Math.floor(t/2-d.offsetHeight/2)+"px":d.style.top=r+"px"):(d.style.top="",d.style[h]=""),"center"===e.xOffset?s=i.left+c.offsetWidth/2-n/2:s+=a.getPixelValue(e.xOffset),"center"===e.yOffset?o=i.top+c.offsetHeight/2-t/2:o+=a.getPixelValue(e.yOffset),e.fixedElement||(o+=a.getScrollTop(),s+=a.getScrollLeft()),u.style.position=e.fixedElement?"fixed":"absolute",u.style.top=o+"px",u.style.left=s+"px"},render:function(e,t,n){var i,o,r,l,c,u,d,p,g,m,v=this.element;if(e?this.currStep=e:this.currStep&&(e=this.currStep),this.opt.isTourBubble?(l=h.getCurrTour(),l&&(o=l.customData,i=l.customRenderer,
e.isRtl=e.hasOwnProperty("isRtl")?e.isRtl:l.hasOwnProperty("isRtl")?l.isRtl:this.opt.isRtl,r=l.unsafe,Array.isArray(l.steps)&&(c=l.steps.length,u=this._getStepI18nNum(this._getStepNum(c-1)),p=this._getStepNum(t)===this._getStepNum(c-1)))):(o=e.customData,i=e.customRenderer,r=e.unsafe,e.isRtl=e.hasOwnProperty("isRtl")?e.isRtl:this.opt.isRtl),d=p?a.getI18NString("doneBtn"):e.showSkip?a.getI18NString("skipBtn"):a.getI18NString("nextBtn"),a.flipPlacement(e),a.normalizePlacement(e),this.placement=e.placement,m={i18n:{prevBtn:a.getI18NString("prevBtn"),nextBtn:d,closeTooltip:a.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(t)),numSteps:u},buttons:{showPrev:a.valOrDefault(e.showPrevButton,this.opt.showPrevButton)&&this._getStepNum(t)>0,showNext:a.valOrDefault(e.showNextButton,this.opt.showNextButton),showCTA:a.valOrDefault(e.showCTAButton&&e.ctaLabel,!1),ctaLabel:e.ctaLabel,showClose:a.valOrDefault(this.opt.showCloseButton,!0)},step:{num:t,isLast:a.valOrDefault(p,!1),title:e.title||"",content:e.content||"",isRtl:e.isRtl,placement:e.placement,padding:a.valOrDefault(e.padding,this.opt.bubblePadding),width:a.getPixelValue(e.width)||this.opt.bubbleWidth,customData:e.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:c,unsafe:a.valOrDefault(r,!1),customData:o||{}}},"function"==typeof i)v.innerHTML=i(m);else if("string"==typeof i){if(!h.templates||"function"!=typeof h.templates[i])throw new Error('Bubble rendering failed - template "'+i+'" is not a function.');v.innerHTML=h.templates[i](m)}else if(s)v.innerHTML=s(m);else{if(!h.templates||"function"!=typeof h.templates[f])throw new Error('Bubble rendering failed - template "'+f+'" is not a function.');v.innerHTML=h.templates[f](m)}var T,_=v.children,E=_.length;for(g=0;E>g;g++)T=_[g],a.hasClass(T,"hopscotch-arrow")&&(this.arrowEl=T);return v.style.zIndex="number"==typeof e.zindex?e.zindex:"",this._setArrow(e.placement),this.hide(!1),this.setPosition(e),n&&n(!e.fixedElement),this},_getStepNum:function(e){var t,n,i=0,o=h.getSkippedStepsIndexes(),s=o.length;for(n=0;s>n;n++)t=o[n],e>t&&i++;return e-i},_getStepI18nNum:function(e){var t=a.getI18NString("stepNums");return t&&e<t.length?e=t[e]:e+=1,e},_setArrow:function(e){a.removeClass(this.arrowEl,"down up right left"),"top"===e?a.addClass(this.arrowEl,"down"):"bottom"===e?a.addClass(this.arrowEl,"up"):"left"===e?a.addClass(this.arrowEl,"right"):"right"===e&&a.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var e=this,t="fade-in-"+this._getArrowDirection(),n=1e3;return a.removeClass(this.element,"hide"),a.addClass(this.element,t),setTimeout(function(){a.removeClass(e.element,"invisible")},50),setTimeout(function(){a.removeClass(e.element,t)},n),this.isShowing=!0,this},hide:function(e){var t=this.element;return e=a.valOrDefault(e,!0),t.style.top="",t.style.left="",e?(a.addClass(t,"hide"),a.removeClass(t,"invisible")):(a.removeClass(t,"hide"),a.addClass(t,"invisible")),a.removeClass(t,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var e=this.element;e&&e.parentNode.removeChild(e),a.removeEvtListener(e,"click",this.clickCb)},_handleBubbleClick:function(e){function t(n){return n===e.currentTarget?null:a.hasClass(n,"hopscotch-cta")?"cta":a.hasClass(n,"hopscotch-next")?"next":a.hasClass(n,"hopscotch-prev")?"prev":a.hasClass(n,"hopscotch-close")?"close":t(n.parentElement)}var n;e=e||window.event;var i=e.target||e.srcElement;if(n=t(i),"cta"===n)this.opt.isTourBubble||h.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&a.invokeCallback(this.currStep.onCTA);else if("next"===n)h.nextStep(!0);else if("prev"===n)h.prevStep(!0);else if("close"===n){if(this.opt.isTourBubble){var o=h.getCurrStepNum(),s=h.getCurrTour(),r=o===s.steps.length-1;a.invokeEventCallbacks("close"),h.endTour(!0,r)}else this.opt.onClose&&a.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?h.getCalloutManager().removeCallout(this.opt.id):this.destroy();a.evtPreventDefault(e)}},init:function(e){var t,n,i,o,s=document.createElement("div"),r=this,l=!1;this.element=s,o={showPrevButton:d.showPrevButton,showNextButton:d.showNextButton,bubbleWidth:d.bubbleWidth,bubblePadding:d.bubblePadding,arrowWidth:d.arrowWidth,isRtl:d.isRtl,showNumber:!0,isTourBubble:!0},e=("undefined"==typeof e?"undefined":p(e))===m?{}:e,a.extend(o,e),this.opt=o,s.className="hopscotch-bubble animated",o.isTourBubble?(i=h.getCurrTour(),i&&a.addClass(s,"tour-"+i.id)):a.addClass(s,"hopscotch-callout no-number"),t=function(){!l&&r.isShowing&&(l=!0,setTimeout(function(){r.setPosition(r.currStep),$(document).trigger("hopscotch.winresize"),l=!1},100))},a.addEvtListener(window,"resize",t),this.clickCb=function(e){r._handleBubbleClick(e)},a.addEvtListener(s,"click",this.clickCb),this.hide(),a.documentIsReady()?document.body.appendChild(s):(document.addEventListener?(n=function(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),document.body.appendChild(s)},document.addEventListener("DOMContentLoaded",n,!1)):(n=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n),document.body.appendChild(s))},document.attachEvent("onreadystatechange",n)),a.addEvtListener(window,"load",n))}},n=function(){var e={},n={};this.createCallout=function(i){var o;if(!i.id)throw new Error("Must specify a callout id.");if(!b.test(i.id))throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");if(e[i.id])throw new Error("Callout by that id already exists. Please choose a unique id.");if(!a.getStepTarget(i))throw new Error("Must specify existing target element via 'target' option.");return i.showNextButton=i.showPrevButton=!1,i.isTourBubble=!1,o=new t(i),e[i.id]=o,n[i.id]=i,o.render(i,null,function(){o.show(),i.onShow&&a.invokeCallback(i.onShow)}),o},this.getCallout=function(t){return e[t]},this.removeAllCallouts=function(){var t;for(t in e)e.hasOwnProperty(t)&&this.removeCallout(t)},this.removeCallout=function(t){var i=e[t];e[t]=null,n[t]=null,i&&i.destroy()},this.refreshCalloutPositions=function(){var t,i,o;for(t in e)e.hasOwnProperty(t)&&n.hasOwnProperty(t)&&(i=e[t],o=n[t],i&&o&&i.setPosition(o))}},e=function(e){var i,u,g,_,E,y,w,S,C=this,N={},I=[],A=function(e){return i&&i.element&&i.element.parentNode||(i=new t(g)),e&&a.extend(i.opt,{bubblePadding:O("bubblePadding"),bubbleWidth:O("bubbleWidth"),showNextButton:O("showNextButton"),showPrevButton:O("showPrevButton"),showCloseButton:O("showCloseButton"),arrowWidth:O("arrowWidth"),isRtl:O("isRtl")}),i},x=function(){i&&(i.destroy(),i=null)},O=function(e){return"undefined"==typeof g?d[e]:a.valOrDefault(g[e],d[e])},R=function(){var e;return e=!_||0>E||E>=_.steps.length?null:_.steps[E]},L=function(){C.nextStep()},$=function(e){var t,n,i,o,s,r,l=A(),c=l.element,u=a.getPixelValue(c.style.top),d=u+a.getPixelValue(c.offsetHeight),h=a.getStepTarget(R()),f=h.getBoundingClientRect(),g=f.top+a.getScrollTop(),v=f.bottom+a.getScrollTop(),_=g>u?u:g,E=d>v?d:v,b=a.getScrollTop(),y=b+a.getWindowHeight(),w=_-O("scrollTopMargin");_>=b&&(_<=b+O("scrollTopMargin")||y>=E)?e&&e():O("smoothScroll")?("undefined"==typeof YAHOO?"undefined":p(YAHOO))!==m&&p(YAHOO.env)!==m&&p(YAHOO.env.ua)!==m&&p(YAHOO.util)!==m&&p(YAHOO.util.Scroll)!==m?(t=YAHOO.env.ua.webkit?document.body:document.documentElement,i=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,n=new YAHOO.util.Scroll(t,{scroll:{to:[0,w]}},O("scrollDuration")/1e3,i),n.onComplete.subscribe(e),n.animate()):T?jQuery("body, html").animate({scrollTop:w},O("scrollDuration"),e):(0>w&&(w=0),o=b>_?-1:1,s=Math.abs(b-w)/(O("scrollDuration")/10),(r=function(){var t=a.getScrollTop(),n=t+o*s;return o>0&&n>=w||0>o&&w>=n?(n=w,e&&e(),void window.scrollTo(0,n)):(window.scrollTo(0,n),a.getScrollTop()===t?void(e&&e()):void setTimeout(r,10))})()):(window.scrollTo(0,w),e&&e())},k=function e(t,n){var i,o,s;E+t>=0&&E+t<_.steps.length?(E+=t,o=R(),s=function(){i=a.getStepTarget(o),i?(N[E]&&delete N[E],n(E)):(N[E]=!0,a.invokeEventCallbacks("error"),e(t,n))},o.delay?setTimeout(s,o.delay):s()):n(-1)},D=function(e,t){var n,i,o,s,r=A(),l=this;if(r.hide(),e=a.valOrDefault(e,!0),n=R(),n.nextOnTargetClick&&a.removeEvtListener(a.getStepTarget(n),"click",L),i=n,o=t>0?i.multipage:E>0&&_.steps[E-1].multipage,s=function(n){var s;if(-1===n)return this.endTour(!0);if(e&&(s=t>0?a.invokeEventCallbacks("next",i.onNext):a.invokeEventCallbacks("prev",i.onPrev)),n===E){if(o)return void U();s=a.valOrDefault(s,!0),s?this.showStep(n):this.endTour(!1)}},!o&&O("skipIfNoElement"))k(t,function(e){s.call(l,e)});else if(E+t>=0&&E+t<_.steps.length){if(E+=t,n=R(),!a.getStepTarget(n)&&!o)return a.invokeEventCallbacks("error"),this.endTour(!0,!1);s.call(this,E)}else if(E+t===_.steps.length)return this.endTour();return this},P=function(e){var t,n,i,o={};for(t in e)e.hasOwnProperty(t)&&"id"!==t&&"steps"!==t&&(o[t]=e[t]);return S.call(this,o,!0),n=a.getState(O("cookieName")),n&&(i=n.split(":"),y=i[0],w=i[1],i.length>2&&(I=i[2].split(",")),w=parseInt(w,10)),this},M=function(e,t,n){var i,o;if(E=e||0,N=t||{},i=R(),o=a.getStepTarget(i))return void n(E);if(!o){if(a.invokeEventCallbacks("error"),N[E]=!0,O("skipIfNoElement"))return void k(1,n);E=-1,n(E)}},F=function(e){function t(){i.show(),a.invokeEventCallbacks("show",n.onShow)}var n=_.steps[e],i=A(),o=a.getStepTarget(n);E!==e&&R().nextOnTargetClick&&a.removeEvtListener(a.getStepTarget(R()),"click",L),E=e,i.hide(!1),i.render(n,e,function(e){e?$(t):t(),n.nextOnTargetClick&&a.addEvtListener(o,"click",L)}),U()},U=function(){var e=_.id+":"+E,t=h.getSkippedStepsIndexes();t&&t.length>0&&(e+=":"+t.join(",")),a.setState(O("cookieName"),e,1)},j=function(e){e&&this.configure(e)};this.getCalloutManager=function(){return("undefined"==typeof u?"undefined":p(u))===m&&(u=new n),u},this.startTour=function(e,t){var n,i,o={},s=this;if(!_){if(!e)throw new Error("Tour data is required for startTour.");if(!e.id||!b.test(e.id))throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");_=e,P.call(this,e)}if(("undefined"==typeof t?"undefined":p(t))!==m){if(t>=_.steps.length)throw new Error("Specified step number out of bounds.");i=t}if(!a.documentIsReady())return v=!0,this;if("undefined"==typeof i&&_.id===y&&("undefined"==typeof w?"undefined":p(w))!==m){if(i=w,I.length>0)for(var r=0,l=I.length;l>r;r++)o[I[r]]=!0}else i||(i=0);return M(i,o,function(e){var t=-1!==e&&a.getStepTarget(_.steps[e]);return t?(a.invokeEventCallbacks("start"),n=A(),n.hide(!1),s.isActive=!0,void(a.getStepTarget(R())?s.showStep(e):(a.invokeEventCallbacks("error"),O("skipIfNoElement")&&s.nextStep(!1)))):void s.endTour(!1,!1)}),this},this.showStep=function(e){var t=_.steps[e],n=E;return a.getStepTarget(t)?(t.delay?setTimeout(function(){F(e)},t.delay):F(e),this):(E=e,a.invokeEventCallbacks("error"),void(E=n))},this.prevStep=function(e){return D.call(this,e,-1),this},this.nextStep=function(e){return D.call(this,e,1),this},this.endTour=function(e,t){var n,i=A();return e=a.valOrDefault(e,!0),t=a.valOrDefault(t,!0),_&&(n=R(),n&&n.nextOnTargetClick&&a.removeEvtListener(a.getStepTarget(n),"click",L)),E=0,w=void 0,i.hide(),e&&a.clearState(O("cookieName")),this.isActive&&(this.isActive=!1,_&&t&&a.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),x(),_=null,this},this.getCurrTour=function(){return _},this.getCurrTarget=function(){return a.getStepTarget(R())},this.getCurrStepNum=function(){return E},this.getSkippedStepsIndexes=function(){var e,t=[];for(e in N)t.push(e);return t},this.refreshBubblePosition=function(){var e=R();return e&&A().setPosition(e),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(e,t,n){return e&&l[e].push({cb:t,fromTour:n}),this},this.unlisten=function(e,t){var n,i,o=l[e];for(n=0,i=o.length;i>n;++n)o[n].cb===t&&o.splice(n,1);return this},this.removeCallbacks=function(e,t){var n,i,o,s;for(s in l)if(!e||e===s)if(t)for(n=l[s],i=0,o=n.length;o>i;++i)n[i].fromTour&&(n.splice(i--,1),--o);else l[s]=[];return this},this.registerHelper=function(e,t){"string"==typeof e&&"function"==typeof t&&(c[e]=t)},this.unregisterHelper=function(e){c[e]=null},this.invokeHelper=function(e){var t,n,i=[];for(t=1,n=arguments.length;n>t;++t)i.push(arguments[t]);c[e]&&c[e].call(null,i)},this.setCookieName=function(e){return g.cookieName=e,this},this.resetDefaultOptions=function(){return g={},this},this.resetDefaultI18N=function(){return o={},this},this.getState=function(){return a.getState(O("cookieName"))},S=function(e,t){var n,i,s,r,l=["next","prev","start","end","show","error","close"];for(g||this.resetDefaultOptions(),a.extend(g,e),e&&a.extend(o,e.i18n),s=0,r=l.length;r>s;++s)i="on"+l[s].charAt(0).toUpperCase()+l[s].substring(1),e[i]&&this.listen(l[s],e[i],t);return n=A(!0),this},this.configure=function(e){return S.call(this,e,!1)},this.setRenderer=function(e){var t="undefined"==typeof e?"undefined":p(e);return"string"===t?(f=e,s=void 0):"function"===t&&(s=e),this},this.setEscaper=function(e){return"function"==typeof e&&(r=e),this},j.call(this,e)},h=new e,function(){var e={};e.escape=function(e){return r?r(e):null==e?"":(""+e).replace(new RegExp("[&<>\"']","g"),function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":'"'==e?"&quot;":"'"==e?"&#x27;":void 0})},this.templates=this.templates||{},this.templates.bubble_default=function(t){function n(t,n){return n?e.escape(t):t}var i,o="";e.escape,Array.prototype.join,o+="\n";var s=t.i18n,r=t.buttons,a=t.step,l=t.tour;return o+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(i=a.width)?"":i)+"px; padding: "+(null==(i=a.padding)?"":i)+'px;">\n  ',l.isTour&&(o+='<span class="hopscotch-bubble-number">'+(null==(i=s.stepNum)?"":i)+"</span>"),o+='\n  <div class="hopscotch-bubble-content">\n    ',""!==a.title&&(o+='<h3 class="hopscotch-title">'+(null==(i=n(a.title,l.unsafe))?"":i)+"</h3>"),o+="\n    ",""!==a.content&&(o+='<div class="hopscotch-content">'+(null==(i=n(a.content,l.unsafe))?"":i)+"</div>"),o+='\n  </div>\n  <div class="hopscotch-actions">\n    ',r.showPrev&&(o+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(i=s.prevBtn)?"":i)+"</button>"),o+="\n    ",r.showCTA&&(o+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(i=r.ctaLabel)?"":i)+"</button>"),o+="\n    ",r.showNext&&(o+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(i=s.nextBtn)?"":i)+"</button>"),o+="\n  </div>\n  ",r.showClose&&(o+='<button class="hopscotch-bubble-close hopscotch-close">'+(null==(i=s.closeTooltip)?"":i)+"</button>"),o+='\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>\n'}}.call(h);var w=h;return w}),define("views/TutorialView",["javascripts/hopscotch.min","utils"],function(e,t){"use strict";var n=function(){var n,i,o="tn8client-tutorial",s=!1,r="";return{show:function(t){s||(s=!0,r=navigator.userAgent.toLowerCase(),t.id=o,t.onStart=$.proxy(this._onStart,this),t.onNext=t.onPrev=$.proxy(this._onNav,this),t.onShow=$.proxy(this._onShow,this),t.onClose=t.onEnd=$.proxy(this._onClose,this),t.showPrevButton=!0,n=t,this._toggleHandlers(!0),e.endTour(),e.startTour(t))},isOpen:function(){return s},close:function(){s&&(s=!1,r="",n.cleanup(),n=null,this._toggleHandlers(!1),e.endTour(),$(".tour-"+o).remove())},_toggleHandlers:function(t){t?($(document).one("tn.nav.start tn.navigate.logout tn.errorPage tn.error.fatal inform.timeoutModalOn",$.proxy(this._onClose,this)),$(document).on("apipToolbar.positionUpdated",$.proxy(e.refreshBubblePosition,e)),$(document).on("tts.settingsToggle",$.proxy(this._onTTSSettingsToggle,this)),$(document).on("hopscotch.winresize",$.proxy(this._onWinResize,this))):($(document).off("tn.nav.start tn.navigate.logout tn.errorPage tn.error.fatal inform.timeoutModalOn",$.proxy(this._onClose,this)),$(document).off("apipToolbar.positionUpdated",$.proxy(e.refreshBubblePosition,e)),$(document).off("tts.settingsToggle",$.proxy(this._onTTSSettingsToggle,this)),$(document).off("hopscotch.winresize",$.proxy(this._onWinResize,this)))},_onStart:function(){$("#firstTabbable").after($(".tour-"+o))},_onShow:function(){var t=e.getCurrTour(),n=$(".tour-"+o),s=$(n.find(".hopscotch-bubble-number")[0]),r=this._getCurrentTargetContainer(),a=e.getCurrStepNum(),l=t.steps[a].title+$.i18n.t("tutorial:titleSuffix");i=document.activeElement,n.find(".hopscotch-title").attr({"aria-label":l,id:"hopscotch-title","aria-hidden":!0}),n.find(".hopscotch-content").attr({id:"hopscotch-content"}),n.find(".hopscotch-bubble-container").attr({tabindex:-1,role:"dialog","aria-labelledby":"hopscotch-title","aria-describedby":"hopscotch-content"}),n.find(".hopscotch-bubble-close").addClass("btn").attr("aria-label",$.i18n.t("generalWords:close")).css({"box-shadow":"none","-webkit-box-shadow":"none","text-indent":0}).html(""),n.find(".hopscotch-actions > .hopscotch-next").removeClass("next").addClass("btn").addClass("btn-primary").attr("aria-label",$.i18n.t("tutorial:nextBtnAria")),n.find(".hopscotch-actions > .hopscotch-prev").removeClass("prev").addClass("btn").addClass("btn-primary").attr("aria-label",$.i18n.t("tutorial:backBtnAria")),a===t.steps.length-1&&n.find(".hopscotch-actions > .hopscotch-next").attr("aria-label",$.i18n.t("tutorial:doneBtnAria")),s.html(e.getCurrStepNum()+1+" "+$.i18n.t("tutorial:numberPreposition")+" "+t.steps.length),n.find(".hopscotch-bubble-number").remove(),s.insertBefore(".hopscotch-actions"),this._updatePosition(r,!0),setTimeout(function(){n.find(".hopscotch-bubble-container").focus()},50)},_onNav:function(){$(document).trigger("magnifier.reappend")},_onClose:function(){TN8.Dispatcher.trigger("enableMenuItem",{id:"dropdown_tutorial",enabled:!1}),this.close(),$(i).focus()},_onWinResize:function(){setTimeout(function(){this._updatePosition(this._getCurrentTargetContainer(),!1)}.bind(this),0)},_onTTSSettingsToggle:function(t,n){var i=this._getCurrentTarget();if("ttsPlay"===i.attr("id")||"aslToggle"===i.attr("id")){var s=$(".tour-"+o),r=n?-157:157;s.one("transitionend",function(){s.css("transition",""),e.refreshBubblePosition(),this._updatePosition(this._getCurrentTargetContainer(),!1)}.bind(this)),s.css({transition:"left 300ms ease-in-out",left:parseInt(s.css("left"))+r+"px"})}},_updatePosition:function(e,n){var i=$(".tour-"+o),s=$("body").hasClass("ie11")&&i.hasClass("animated-magnified");if(t.isMobile||s||"fixed"!==e.css("position"))"fixed"!==e.css("position")&&i.css("position","absolute");else{var a=n?parseInt(i.css("top")):i.tnOffset().top,l=a-$(document).scrollTop(),c=parseInt(i.css("left")),u=r.match(/windows nt (\d+.\d)/),d=u&&10===parseInt(u[1])&&($("body").hasClass("ie11")||$("body").hasClass("edge"));d&&(c-=window.pageXOffset),i.css({position:"fixed",top:l+"px",left:c+"px"})}},_getCurrentTargetContainer:function(){var e=this._getCurrentTarget();return $("#header").find(e).length>0?$("#header"):$("#tn8-sidebar").find(e).length>0?$("#tn8-sidebar"):e},_getCurrentTarget:function(){var t=e.getCurrStepNum(),n=e.getCurrTour(),i=n.steps[t],o=$("#"+i.target);return o}}};return n}),define("controllers/TutorialController",["models/TutorialModel","views/TutorialView"],function(e,t){"use strict";var n=function(){var n,i;return{initialize:function(o){i=new t,n=new e("client"),this._initAutoshow(o)},show:function(){n.initialize(),$(document).one("tn8tutorial.loaded",function(){i.show(n.getTutorialData())})},close:function(){i.close()},isTutorialOpen:function(){return i.isOpen()},_initAutoshow:function(e){e!==!1&&$(document).one("ItemController.ItemLoaded",function(){TN8.TestStateController.getTutorialOpened()&&!e||($(document).trigger("testState.setTutorialOpened",!0),this.show(),TN8.Dispatcher.trigger("enableMenuItem",{id:"dropdown_tutorial",enabled:!0}))}.bind(this))}}};return n});var ZoomController=function(){var e=12,t=[25,35,50,65,75,90,100,110,120,150,175,200,250,300,400,500];return{_currentZoomIndex:6,initialize:function(e){this.startListner(),null!=e&&"undefined"!=typeof e&&this.handleZoomInWithParameter(e),this.zoomClickDebounce=this.debounce(this.handleZoomInWithParameter,270,!0)},startListner:function(){$(window).on("resize ItemController.ItemLoaded",$.proxy(this.getZoomPercentage,this,$.proxy(this.setZoomPercentage,this))),$(document).on("tn.header.render.complete",$.proxy(this.addTooltips,this)),$(document).on("ItemController.cleanUpProcessStart",$.proxy(this.cleanUpListener,this)),$(document).off("cleanup.betweenTest",$.proxy(this.cleanUpOnLogout,this)).on("cleanup.betweenTest",$.proxy(this.cleanUpOnLogout,this))},getZoomPercentage:function(e){TestEngine&&TestEngine.getNativeComponent&&TestEngine.getNativeComponent().getZoom&&TestEngine.getNativeComponent().getZoom(e)},setZoomPercentage:function(e){this.getZoomArrayIndex&&(this._currentZoomIndex=this.getZoomArrayIndex(parseInt(e)),$("#zoomLevel").text(e+"%"),this._trackZoomState())},_trackZoomState:function(){var e=t[this._currentZoomIndex],n=$(window).innerWidth();$(document).trigger("Used.Zoom",{attr:"zoomData",val:{zoom:e,width:n},op:"default"})},getZoomArrayIndex:function(e){var n=t.indexOf(e);if(n<0){var i,o,s,r,a;for(i=0;i<t.length-1;i++){if(o=t[i],s=t[i+1],e<=o){n=i;break}if(e<s){r=e-o,a=s-e,n=r<=a?i:i+1;break}n=i+1}}return n},zoomInPercentageCheck:function(){return this._currentZoomIndex<e},getZoomOutParameter:function(){return this._currentZoomIndex>e?t[e]:t[this._currentZoomIndex-1]},handleZoomIn:function(){this.zoomInPercentageCheck()&&this.zoomClickDebounce(t[this._currentZoomIndex+1])},handleZoomOut:function(){this.zoomClickDebounce(this.getZoomOutParameter())},handleZoomReset:function(){TestEngine&&TestEngine.getNativeComponent().resetZoom()},handleZoomInWithParameter:function(e){TestEngine&&TestEngine.getNativeComponent&&TestEngine.getNativeComponent().setZoom&&TestEngine.getNativeComponent().setZoom(parseInt(e),$.proxy(this.setZoomPercentage,this))},addTooltips:function(){var e={zoomIn:$.i18n?$.i18n.t("userDropDown:zoomInBtn"):"Zoom In",zoomOut:$.i18n?$.i18n.t("userDropDown:zoomOutBtn"):"Zoom Out",reset:$.i18n?$.i18n.t("userDropDown:resetBtn"):"Reset"};$("#zoomInBtn").attr("aria-label",e.zoomIn).tooltip({title:e.zoomIn}),$("#zoomOutBtn").attr("aria-label",e.zoomOut).tooltip({title:e.zoomOut})},cleanUpListener:function(){$(document).off("tn.header.render.complete",$.proxy(this.addTooltips,this)),$(window).off("resize ItemController.ItemLoaded",$.proxy(this.getZoomPercentage,this,$.proxy(this.setZoomPercentage,this))),$(document).off("ItemController.cleanUpProcessStart",$.proxy(this.cleanUpListener,this))},cleanUpOnLogout:function(){this.handleZoomReset(),$(document).off("cleanup.betweenTest",$.proxy(this.handleZoomReset,this))},debounce:function(e,t,n){var i;return function(){var o=this,s=arguments,r=function(){i=null,n||e.apply(o,s)},a=n&&!i;clearTimeout(i),i=setTimeout(r,t),a&&e.apply(o,s)}}}};define("controllers/ZoomController",function(){}),define("controllers/ZoomControllerWrapper",["controllers/ZoomController"],function(){return new ZoomController}),define("text!tpl/zoomControls.html",[],function(){return'<script type="text/template" id=\'zoomControlsTemplate\'>\n    <span class="zoomControlsContainer btn-group">\n        <button id="zoomOutBtn" class="btn zoomBtn" aria-expanded="true">\n            <i role="presentation" class="icon-minus" id = "zoomOutIcon">\n            </i>\n        </button>\n        <button id="zoomLevel" class="btn zoomBtn" disabled="true" aria-expanded="true">\n            <%= zoomPercentage %>\n        </button>\n        <button id="zoomInBtn" class="btn zoomBtn" aria-expanded="true">\n            <i role="presentation" class="icon-plus" id = "zoomInIcon">\n            </i>\n        </button>\n    </span>\n</script>'});var ReaderModeController=function(){return{_enabled:!1,init:function(){$(document).on("ItemController.ItemLoaded",$.proxy(this.checkEnabled,this))},checkEnabled:function(){$("body").hasClass("readerMode")&&this.enable(!0)},toggle:function(){this.setEnabled(!this._enabled)},setEnabled:function(e){this._enabled=e,this.enable(this._enabled)},enable:function(e){var t=$("body");t.removeClass("readerMode"),e&&(t.addClass("readerMode"),$(document).trigger("Used.ReadableMode")),this._resizeElements(e)},_resizeElements:function(e){var t=this;setTimeout(function(){t._resizeScrollers(e),t._resizeJWPlayers(),$(window).trigger("resize")},0)},_resizeJWPlayers:function(){$("#itemCanvasBody").find(".jwplayer").each(function(e,t){var n=jwplayer(t.id),i=n.getHeight();void 0!==i&&n.resize("100%",i)})},_resizeScrollers:function(e){var t=$(".passage-scrolling");/android|iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase());t.length>0&&(t.nativeScroll&&t.hasClass("scrollbar-new")?t.nativeScroll().resize():t.getNiceScroll().length>0&&(t.niceScroll().resize(),e?t.niceScroll().hide():t.niceScroll().show()))},destroy:function(){$(document).off("ItemController.ItemLoaded",$.proxy(this.checkEnabled,this)),$("body").removeClass("readerMode")}}};define("controllers/ReaderModeController",function(){}),define("controllers/ReaderModeControllerWrapper",["controllers/ReaderModeController"],function(){return ReaderModeController}),define("text!tpl/settings.html",[],function(){return'<script type="text/template" id="settingsTemplate">\n    <div class="row">\n        <div class="span12">\n            <div class="alert alert-info center" style="width:644px;margin:28px auto 18px auto;">\n                <h2><%= welcomeMsg %></h2>\n            </div>\n            <div class="well settings-view">\n                <h1 id="itemCanvasTitle" class="sr-only visuallyhidden" tabindex="-1"><%= $.i18n.t("settings:title") %></h1>\n                <div class="settings-container">\n                    <h1><%= $.i18n.t("settings:title") %>:</h1>\n                    <h2><%= $.i18n.t("settings:instructionsMsg") %></h2>\n                    <% if (settings.asl.available) { %>\n                    <div class="asl-setting">\n                        <label><%= $.i18n.t("settings:aslLabel") %>:</label>\n                        <%= settings.asl.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.ansElim.available) { %>\n                    <div class="anselim-setting">\n                        <label><%= $.i18n.t("tools:answerEliminator") %>:</label>\n                        <%= settings.ansElim.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.ansMask.available) { %>\n                    <div class="ansmask-setting">\n                        <label><%= $.i18n.t("settings:answerMaskerLabel") %>:</label>\n                        <%= settings.ansMask.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.braille.available) { %>\n                    <div class="braille-setting">\n                      <label><%= $.i18n.t("settings:brailleLabel") %>:</label>\n                      <%= settings.braille.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.caption.available) { %>\n                        <%= settings.caption.tpl %>\n                    <% } %>\n                    <% if (settings.contrast.available) { %>\n                        <%= settings.contrast.tpl %>\n                    <% } %>\n                    <% if (settings.keyword.available) { %>\n                        <%= settings.keyword.tpl %>\n                    <% } %>\n                    <% if (settings.illustrations.available) { %>\n                    <div class="illustrations-setting">\n                        <label><%= $.i18n.t("settings:illustrationsLabel") %>:</label>\n                        <%= settings.illustrations.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.glossary.available) { %>\n                    <div class="glossaryOnScreen-setting">\n                        <label><%= $.i18n.t("settings:glossaryOnScreenLabel") %>:</label>\n                        <%= settings.glossary.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.language.available) { %>\n                        <%= settings.language.tpl %>\n                    <% } %>\n                    <% if (settings.variants.available) { %>\n                        <%= settings.variants.tpl %>\n                    <% } %>\n                    <% if (settings.lineReader.available) { %>\n                    <div class="linereader-setting">\n                        <label><%= $.i18n.t("settings:lineReaderLabel") %>:</label>\n                        <%= settings.lineReader.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.magnifier.available) { %>\n                    <div class="magnifier-setting">\n                        <label><%= $.i18n.t("settings:magnifierLabel") %>:</label>\n                        <%= settings.magnifier.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.mousePointer.available) { %>\n                    <%= settings.mousePointer.tpl %>\n                    <% } %>\n                    <% if (settings.notepad.available) { %>\n                    <div class="notepad-setting">\n                        <label><%= $.i18n.t("tools:notepad") %>:</label>\n                        <%= settings.notepad.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.readerMode.available) { %>\n                    <div class="readerMode-setting">\n                        <label><%= $.i18n.t("tools:readerMode") %>:</label>\n                        <%= settings.readerMode.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.dynamicTTS.available) { %>\n                    <div class="dyntts-setting">\n                        <label><%= $.i18n.t("tutorial:ttsTitle") %>:</label>\n                        <%= settings.dynamicTTS.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.highlighter.available) { %>\n                    <div class="highlighter-setting">\n                        <label><%= $.i18n.t("tools:highlightTitle") %>:</label>\n                        <%= settings.highlighter.tpl %>\n                    </div>\n                    <% } %>\n                    <% if (settings.zoom.available) { %>\n                        <%= settings.zoom.tpl %>\n                    <% } %>\n                    <h3><%= $.i18n.t("settings:confirmMsg") %></h3>\n                    <button class="btn btn-large btn-primary select-settings"><%= $.i18n.t("settings:selectBtn") %> <i class="icon-chevron-right"></i><i class="icon-chevron-right"></i></button>\n                </div>\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="settingsModalTemplate">\n    <div id="settings-modal" class="modal tn8-fixed-modal lang<%= $.i18n.lng()%> hide" aria-hidden="false">\n        <div class="modal-document" role="document">\n            <div class="modal-focus-anchor visuallyhidden" tabindex="-1" aria-label="<%= $.i18n.t(\'settings:title\') %>"></div>\n            <div class="modal-header">\n                <button class="close" aria-label="<%= $.i18n.t(\'cancel\') %>">\n                    <i class="icon-remove"></i>\n                </button>\n                <h2 class="modal-title" aria-hidden="true"><%= $.i18n.t("settings:title") %></h2>\n            </div>\n            <div class="modal-body">\n                <% if (typeof body === "function") { %>\n                    <%= body({ settings: settings }) %>\n                <% } %>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-primary btn-large select-settings"><%= $.i18n.t("settings:selectBtn") %></button>\n                <button class="btn btn-large cancel"><%= $.i18n.t("cancel") %></button>\n            </div>\n        </div>\n    </div>\n</script>\n\n<script type="text/template" id="settingsModalBodyTemplate">\n    <% if (settings.glossary.available) { %>\n    <div class="glossaryOnScreen-setting">\n        <label><%= $.i18n.t("settings:glossaryOnScreenLabel") %>:</label>\n        <%= settings.glossary.tpl %>\n    </div>\n    <% } %>\n    <% if (settings.keyword.available) { %>\n        <%= settings.keyword.tpl %>\n    <% } %>\n    <% if (settings.braille.available) { %>\n    \t<div class="braille-setting">\n      \t\t<label><%= $.i18n.t("settings:brailleLabel") %>:</label>\n      \t<%= settings.braille.tpl %>\n    </div>\n    <% } %>\n    <% if (settings.dynamicTTS.available) { %>\n    <div class="dyntts-setting">\n        <label><%= $.i18n.t("tutorial:ttsTitle") %>:</label>\n        <%= settings.dynamicTTS.tpl %>\n    </div>\n    <% } %>\n    <% if (settings.mousePointer.available) { %>\n        <%= settings.mousePointer.tpl %>\n    <% } %>\n</script>\n\n<script type="text/template" id="onOffTemplate">\n    <select <% if (disabled) { %>disabled="disabled"<% } %>>\n        <option value="on" <% if (status === \'on\' || status === true) { %>selected<% } %>><%= $.i18n.t("generalWords:on") %></option>\n        <option value="off" <% if (status === \'off\' || status === false) { %>selected<% } %>><%= $.i18n.t("generalWords:off") %></option>\n    </select>\n</script>\n\n<script type="text/template" id="messageTemplate">\n    <span class="settings-msg">\n        <%= message %>\n    </span>\n</script>\n\n<script type="text/template" id="mousePointerTemplate">\n    <div class="mousePointer-setting">\n        <label><%= $.i18n.t("settings:mousePointer") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="default" <% if (status === \'default\') { %>selected<% } %> > <%= $.i18n.t("generalWords:systemDefault") %></option>\n            <option value="medium" <% if (status === \'medium\') { %>selected<% } %> > <%= $.i18n.t("generalWords:medium") %></option>\n            <option value="large" <% if (status === \'large\') { %>selected<% } %> > <%= $.i18n.t("generalWords:large") %></option>\n            <option value="extra-large"  <% if (status === \'extra-large\') { %>selected<% } %> > <%= $.i18n.t("generalWords:extraLarge") %></option>\n            <option value="extra-large-black" <% if (status === \'extra-large-black\') { %>selected<% } %> > <%= $.i18n.t("generalWords:extraLargeBlack") %></option>\n            <option value="extra-large-green" <% if (status === \'extra-large-green\') { %>selected<% } %> > <%= $.i18n.t("generalWords:extraLargeGreen") %></option>\n            <option value="extra-large-yellow" <% if (status === \'extra-large-yellow\') { %>selected<% } %> > <%= $.i18n.t("generalWords:extraLargeYellow") %></option>\n        </select>\n    </div>\n</script>\n\n<script type="text/template" id="captionTemplate">\n    <div class="cc-setting">\n        <label><%= $.i18n.t("settings:ccLabel") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="off" selected><%= $.i18n.t("settings:defaultOff") %></option>\n            <option value="en"><%= $.i18n.t("languages:en") %></option>\n            <option value="es"><%= $.i18n.t("languages:es") %></option>\n        </select>\n    </div>\n</script>\n\n<script type="text/template" id="contrastTemplate">\n    <div class="contrast-setting">\n        <label><%= $.i18n.t("contrastWindow:contrastTitle") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="black-white"><%= $.i18n.t("contrastWindow:blackOnWhite") %></option>\n            <option value="black-cream"><%= $.i18n.t("contrastWindow:blackOnCream") %></option>\n            <option value="black-lblue"><%= $.i18n.t("contrastWindow:blackOnLightBlue") %></option>\n            <% if (showBlackOnRose) { %>\n            <option value="black-rose"><%= $.i18n.t("contrastWindow:blackOnRose") %></option>\n            <% } else { %>\n            <option value="black-lmagenta"><%= $.i18n.t("contrastWindow:blackOnLightMagenta") %></option>\n            <% } %>\n            <option value="white-black"><%= $.i18n.t("contrastWindow:whiteOnBlack") %></option>\n            <option value="yellow-blue"><%= $.i18n.t("contrastWindow:yellowOnBlue") %></option>\n            <option value="dgray-pgreen"><%= $.i18n.t("contrastWindow:grayOnGreen") %></option>\n        </select>\n    </div>\n</script>\n\n<script type="text/template" id="keywordTemplate">\n    <div class="glossary-setting">\n        <label><%= $.i18n.t("settings:glossaryLabel") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="en" <% if (status === \'en\') { %>selected<% } %> ><%= $.i18n.t("generalWords:none") %></option>\n            <option value="ar" <% if (status === \'ar\') { %>selected<% } %> ><%= $.i18n.t("languages:ar") %></option>\n            <option value="yue" <% if (status === \'yue\') { %>selected<% } %> ><%= $.i18n.t("languages:yue") %></option>\n            <option value="cmn" <% if (status === \'cmn\') { %>selected<% } %> ><%= $.i18n.t("languages:cmn") %></option>\n            <option value="es" <% if (status === \'es\') { %>selected<% } %> ><%= $.i18n.t("languages:es") %></option>\n            <option value="hmn" <% if (status === \'hmn\') { %>selected<% } %> ><%= $.i18n.t("languages:hmn") %></option>\n            <option value="ht" <% if (status === \'ht\') { %>selected<% } %> ><%= $.i18n.t("languages:ht") %></option>\n            <option value="kar" <% if (status === \'kar\') { %>selected<% } %> ><%= $.i18n.t("languages:kar") %></option>\n            <option value="km" <% if (status === \'km\') { %>selected<% } %> ><%= $.i18n.t("languages:km") %></option>\n            <option value="ko" <% if (status === \'ko\') { %>selected<% } %> ><%= $.i18n.t("languages:ko") %></option>\n            <option value="lo" <% if (status === \'lo\') { %>selected<% } %> ><%= $.i18n.t("languages:lo") %></option>\n            <option value="om" <% if (status === \'om\') { %>selected<% } %> ><%= $.i18n.t("languages:om") %></option>\n            <option value="ru" <% if (status === \'ru\') { %>selected<% } %> ><%= $.i18n.t("languages:ru") %></option>\n            <option value="pa"<% if (status === \'pa\') { %>selected<% } %> ><%= $.i18n.t("languages:pa") %></option>\n            <option value="so" <% if (status === \'so\') { %>selected<% } %> ><%= $.i18n.t("languages:so") %></option>\n            <option value="tl"<% if (status === \'tl\') { %>selected<% } %> ><%= $.i18n.t("languages:tl") %></option>\n            <option value="uk" <% if (status === \'uk\') { %>selected<% } %> ><%= $.i18n.t("languages:uk") %></option>\n            <option value="vi" <% if (status === \'vi\') { %>selected<% } %> ><%= $.i18n.t("languages:vi") %></option>\n            <option value="my" <% if (status === \'my\') { %>selected<% } %> ><%= $.i18n.t("languages:my") %></option>\n        </select>\n    </div>\n</script>\n\n<script type="text/template" id="languageTemplate">\n    <div class="lang-setting">\n        <label><%= $.i18n.t("settings:languageLabel") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="en" selected><%= $.i18n.t("settings:enLangOpt") %></option>\n            <option value="es"><%= $.i18n.t("settings:esLangOpt") %></option>\n        </select>\n    </div>\n</script>\n\n<script type="text/template" id="variantsTemplate">\n    <div class="translationsVariant-setting">\n        <label><%= $.i18n.t("settings:translationsVariantLabel") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="en-variant" selected><%= $.i18n.t("settings:enLangOpt") %></option>\n            <option value="en-es-variant"><%= $.i18n.t("settings:enLangOpt") + " " + $.i18n.t("generalWords:and") + " " + $.i18n.t("settings:esLangOpt")%></option>\n        </select>\n    </div>\n</script>\n\n<script type="text/template" id="zoomTemplate">\n    <div class="zoomControls-setting">\n        <label><%= $.i18n.t("userDropDown:zoomControls") %>:</label>\n        <select <% if (disabled) { %>disabled="disabled"<% } %>>\n            <option value="100" selected>100% (<%= $.i18n.t("settings:zoomDefault") %>)</option>\n            <option value="110">110%</option>\n            <option value="120">120%</option>\n            <option value="150">150%</option>\n            <option value="175">175%</option>\n        </select>\n    </div>\n</script>\n';
}),define("views/SettingsView",["javascripts/backbone-min","models/SettingsModel","controllers/LanguageController","text!tpl/settings.html","utils"],function(e,t,n,i,o){"use strict";var s=e.View.extend({initialize:function(){this.$container=$("#content"),this.template=_.template($(i).filter("#settingsTemplate").html()),this.isApp=TestEngine.isJXBrowserApp()||TestEngine.isChromeApp(),_.bindAll(this,"render","selectSettings")},dynamicTTSetting:function(e){return e?_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"}):_.template($(i).filter("#messageTemplate").html())({message:$.i18n.t("settings:dynamicTtsNA")})},render:function(e,t){this.callback=t,this.$el=$(this.template({welcomeMsg:e,settings:{asl:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"})},ansElim:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"on"})},ansMask:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"})},braille:{available:!1,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"})},caption:{available:!0,tpl:_.template($(i).filter("#captionTemplate").html())({disabled:!1})},contrast:{available:!0,tpl:_.template($(i).filter("#contrastTemplate").html())({disabled:!1,showBlackOnRose:"sbac"===TestEngine.getTestItemStyles()})},mousePointer:{available:!0,tpl:_.template($(i).filter("#mousePointerTemplate").html())({disabled:!1})},glossary:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"on"})},illustrations:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"})},keyword:{available:!0,tpl:_.template($(i).filter("#keywordTemplate").html())({disabled:!1})},language:{available:!0,tpl:_.template($(i).filter("#languageTemplate").html())({disabled:!1})},variants:{available:!0,tpl:_.template($(i).filter("#variantsTemplate").html())({disabled:!1})},lineReader:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"})},magnifier:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"on"})},notepad:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"on"})},readerMode:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"off"})},dynamicTTS:{available:!0,tpl:this.dynamicTTSetting(o.supportsDynamicTTS())},highlighter:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"on"})},zoom:{available:this.isApp,tpl:_.template($(i).filter("#zoomTemplate").html())({disabled:!1})}}})),this.$el.find(".select-settings").one("click",this.selectSettings),this.$container.empty().append(this.$el),setTimeout(function(){$(document).trigger("tn.settings.render"),$(document).trigger("navigated.settings"),$(document).trigger("tn.loadingModal.off")}.bind(this),0),this.attachListeners()},attachListeners:function(){$(document).on("cleanup.betweenTest",$.proxy(this._cleanup,this)),$(document).on("contrast.colorSetFromUI",$.proxy(this._onContrastSetFromUI,this)),$(document).on("toggled.ReadableMode",$.proxy(this._toggledReadableMode,this))},selectSettings:function(){this.$el.find(".anselim-setting > select").length&&this.model.set(t.ANSWER_ELIMINATOR_SETTING,"on"===this.$el.find(".anselim-setting > select").val()),this.$el.find(".ansmask-setting > select").length&&this.model.set(t.ANSWER_MASKER_SETTING,"on"===this.$el.find(".ansmask-setting > select").val()),this.$el.find(".braille-setting > select").length&&this.model.set(t.BRAILLE_ON_DEMAND,"on"===this.$el.find(".braille-setting > select").val()),this.$el.find(".cc-setting > select").length&&this.model.set(t.CLOSED_CAPTION_SETTING,$(".cc-setting > select").val()),this.$el.find(".contrast-setting > select").length&&(this.model.set(t.CONTRAST_SETTING,!0),this.model.set(t.CONTRAST_COLOR_SETTING,this.$el.find(".contrast-setting > select").val())),this.$el.find(".dyntts-setting > select").length&&this.model.set(t.DYNAMIC_TTS_SETTING,"on"===this.$el.find(".dyntts-setting > select").val()),this.$el.find(".highlighter-setting > select").length&&this.model.set(t.HIGHLIGHTER_SETTING,"on"===this.$el.find(".highlighter-setting > select").val()),this.$el.find(".glossary-setting > select").length&&this.model.set(t.KEYWORD_TRANSLATION_SETTING,this.$el.find(".glossary-setting > select").val()),this.$el.find(".illustrations-setting > select").length&&this.model.set(t.ILLUSTRATIONS_GLOSSARY,"on"===this.$el.find(".illustrations-setting > select").val()),this.$el.find(".lang-setting > select").length&&this.model.set(t.LANGUAGE_SETTING,this.$el.find(".lang-setting > select").val()),this.$el.find(".linereader-setting > select").length&&this.model.set(t.LINE_READER_SETTING,"on"===this.$el.find(".linereader-setting > select").val()),this.$el.find(".magnifier-setting > select").length&&this.model.set(t.MAGNIFIER_SETTING,"on"===this.$el.find(".magnifier-setting > select").val()),this.$el.find(".notepad-setting > select").length&&this.model.set(t.NOTEPAD_SETTING,"on"===this.$el.find(".notepad-setting > select").val()),this.$el.find(".readerMode-setting > select").length&&this.model.set(t.READER_MODE_SETTING,"on"===this.$el.find(".readerMode-setting > select").val()),this.$el.find(".glossaryOnScreen-setting > select").length&&this.model.set(t.GLOSSARY_ON_SCREEN,"on"===this.$el.find(".glossaryOnScreen-setting > select").val()),this.$el.find(".translationsVariant-setting > select").length&&this.model.set(t.TRANSLATIONS_VARIANT,this.$el.find(".translationsVariant-setting > select")[0].selectedIndex+1),this.$el.find(".asl-setting > select").length&&this.model.set(t.AMERICAN_SIGN_LANGUAGE,"on"===this.$el.find(".asl-setting > select").val()),this.$el.find(".mousePointer-setting > select").length&&this.model.set(t.MOUSE_POINTER,this.$el.find(".mousePointer-setting > select").val()),this.isApp&&this.$el.find(".zoomControls-setting > select").length&&(this.model.set(t.ZOOM_SETTING,this.$el.find(".zoomControls-setting > select").val()),this.zoomControlSelectedSetting()),TN8.Application.accommodationTools=this.model.filterAccomTools(TN8.Application.accommodationTools),n.setSettingLang(this.model.get(t.LANGUAGE_SETTING)),n.adjustTranslationLanguage(),this.callback(),setTimeout(function(){TN8.Application&&TN8.Application.headerModel&&TN8.Application.headerModel.trigger("change",TN8.Application.headerModel)},0)},zoomControlSelectedSetting:function(){var e=this;setTimeout(function(){require(["controllers/ZoomControllerWrapper"],function(t){t.initialize(e.model._currentAttributes.zoomPercentage)})},0)},_onContrastSetFromUI:function(e,n){this.model.set(t.CONTRAST_COLOR_SETTING,n),TN8.Application.accommodationTools.contrastSettings.color=n},_toggledReadableMode:function(e,n){this.model.set(t.READER_MODE_SETTING,n),TN8.Application.accommodationTools.readableMode.active=n},_cleanup:function(){this.callback=null,this.model.set("enabled",!1),this.model.set(t.ZOOM_SETTING,0),$(document).off("contrast.colorSetFromUI",$.proxy(this._onContrastSetFromUI,this)),$(document).off("toggled.ReadableMode",$.proxy(this._toggledReadableMode,this)),$(document).off("cleanup.betweenTest",$.proxy(this._cleanup,this))}});return s}),define("views/SettingsModalView",["javascripts/backbone-min","views/SettingsView","models/SettingsModel","text!tpl/settings.html","utils"],function(e,t,n,i,o){"use strict";var s=t.extend({initialize:function(){this.template=_.template($(i).filter("#settingsModalTemplate").html()),this.templateBody=_.template($(i).filter("#settingsModalBodyTemplate").html()),this.isApp=TestEngine.isJXBrowserApp(),_.bindAll(this,"render","selectSettings","cleanup","toggle","show","hide","hidden"),this.attachListeners()},dynamicTTSetting:function(e){return e?_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"undefined"!=typeof this.model.get(n.DYNAMIC_TTS_SETTING)?this.model.get(n.DYNAMIC_TTS_SETTING):"off"}):_.template($(i).filter("#messageTemplate").html())({message:$.i18n.t("settings:dynamicTtsNA")})},getSettings:function(){var e=this;return{braille:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:e.model.get(n.BRAILLE_ON_DEMAND)?e.model.get(n.BRAILLE_ON_DEMAND):"off"})},keyword:{available:!0,tpl:_.template($(i).filter("#keywordTemplate").html())({disabled:!1,status:e.model.get(n.KEYWORD_TRANSLATION_SETTING)?e.model.get(n.KEYWORD_TRANSLATION_SETTING):"en"})},dynamicTTS:{available:!0,tpl:this.dynamicTTSetting(o.supportsDynamicTTS())},signLanguage:{available:!1,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"undefined"!=typeof e.model.get(n.SIGN_LANGUAGE_SETTING)?e.model.get(n.SIGN_LANGUAGE_SETTING):"off"})},glossary:{available:!0,tpl:_.template($(i).filter("#onOffTemplate").html())({disabled:!1,status:"undefined"!=typeof e.model.get(n.GLOSSARY_ON_SCREEN)?e.model.get(n.GLOSSARY_ON_SCREEN):"on"})},mousePointer:{available:!0,tpl:_.template($(i).filter("#mousePointerTemplate").html())({disabled:!1,status:"undefined"!=typeof e.model.get(n.MOUSE_POINTER)&&e.model.get(n.MOUSE_POINTER)})},variants:{available:!1}}},createModal:function(){return $(this.template({body:this.templateBody,settings:this.getSettings()}))},renderBody:function(){return $(this.templateBody({settings:this.getSettings()}))},render:function(){this.$el=this.createModal(),this.displayCurrentSettings(),this.$el.find(".close, .cancel, .select-settings").click(this.hide),this.$el.on("hidden",this.hidden),this.$el.find(".select-settings").one("click",$.proxy(this.selectSettingsModal,this)),this.$el.modal({backdrop:!0,show:!1}),this.$el.find(".modal-body").addClass("settings-container"),$(document).off("ItemController.cleanUpProcessStart",this.cleanup).on("ItemController.cleanUpProcessStart",this.cleanup)},displayCurrentSettings:function(){"undefined"!=typeof this.model.get(n.KEYWORD_TRANSLATION_SETTING)&&this.$el.find(".glossary-setting select").val(this.model.get(n.KEYWORD_TRANSLATION_SETTING))},callback:function(){$(document).trigger("item.reload")},toggle:function(){this.$el.hasClass("modal")?this.$el.find(".modal-body").html(this.renderBody()):this.render(),this.$el.hasClass("in")?this.hide():this.show()},show:function(){$(document).trigger("settings.modal.open"),this.$el.modal("show").tabRing()},hide:function(){this.$el.modal("hide")},hidden:function(){this.$el.tabRing("off"),/iphone|ipod|ipad simulator/i.test(navigator.platform.toLowerCase())||$(".breadcrumbs [tabindex]").eq(0).focus()},cleanup:function(){this.$el&&(this.$el.find(".close, .cancel, .select-settings").off("click"),this.$el.tabRing("off"),this.$el.remove()),this.$el=void 0,$(document).off("ItemController.cleanUpProcessStart",this.cleanup)},selectSettingsModal:function(){this.selectSettings(),$(document).trigger("inform.settingsChanged")}});return s}),define("models/header/UserDropdown",["models/header/ButtonGroup","models/header/UserMenuItem","models/header/UserMenuItemCollection","controllers/UserDropdownController","controllers/TutorialController","controllers/ZoomControllerWrapper","text!tpl/zoomControls.html","controllers/ReaderModeControllerWrapper","views/SettingsModalView"],function(e,t,n,i,o,s,r,a,l){"use strict";var c=e.extend({defaults:{basicItems:"",accessibilityHtml:"",userAccessHtml:""},accomodationIds:{contrastSettings:1,magnifier:2,lineReader:3,tts:4,masking:5,tnavTutorial:8,zoomControls:10,readableMode:8e3},initialize:function(e,t){this.contrastControllerInitialized,this.menuController=new i,this.initMenuItems()},initMenuItems:function(){this.logoutItem=new t({el:this.$el,id:"dropdown_logout",label:$.i18n.t("userDropDown:logoutLabel"),title:$.i18n.t("userDropDown:logoutTitle"),callback:this.menuController.handleLogout,context:this.menuController}),this.loginItem=new t({el:this.$el,id:"dropdown_signin",label:$.i18n.t("userDropDown:signinLabel"),title:$.i18n.t("userDropDown:signinTitle"),callback:this.menuController.handleNavToLogin,context:this.menuController}),this.changeCustomerItem=new t({el:this.$el,id:"dropdown_changeCustomer",label:$.i18n.t("userDropDown:changeCustomerLabel"),title:$.i18n.t("userDropDown:changeCustomerTitle"),callback:this.menuController.handleCustomerChange,context:this.menuController}),this.appCheckItem=new t({el:this.$el,id:"dropdown_appCheck",label:$.i18n.t("userDropDown:appCheckLabel"),title:$.i18n.t("userDropDown:appCheckTitle"),callback:this.menuController.callAppCheck,context:this.menuController})},loadAnswerMasking:function(e){var n=answerMaskingAPI.createToolbox(e).answerMaskingController,i=function(e){n.handleToggle(e),/iphone|ipod|ipad simulator/i.test(navigator.platform.toLowerCase())||$(".breadcrumbs [tabindex]").eq(0).focus()};this.answerMaskingItem=new t({el:this.$el,id:"dropdown_ansmask",accName:"masking",callback:i,context:n,itemType:"toggle",enabled:!1,onRender:n.disable})},loadLineReader:function(e){var n=lineReaderAPI.createToolbox(e).lineReaderController,i=function(e){n.handleToggle(e),/iphone|ipod|ipad simulator/i.test(navigator.platform.toLowerCase())||$(".breadcrumbs [tabindex]").eq(0).focus()};this.lineReaderItem=new t({el:this.$el,id:"dropdown_lineReader",accName:"lineReader",callback:i,context:n,itemType:"toggle",enabled:!1})},loadContrastSetting:function(e){var n={$container:e,$canvas:$("#itemCanvas")},i=ContrastControllerAPI.createToolbox(n).contrastController;this.contrastItem=new t({el:this.$el,id:"dropdown_contrastSettings",accName:"contrastSettings",callback:this.menuController.handleContrastSettings,context:this.menuController}),this.menuController.set("contrastController",i)},loadMagnifier:function(e){var n=magnifierAPI.createToolbox(e).magnifierController,i=function(e){n.handleToggle(e),/iphone|ipod|ipad simulator/i.test(navigator.platform.toLowerCase())||$(".breadcrumbs [tabindex]").eq(0).focus()};this.magnifierItem=new t({el:this.$el,id:"dropdown_magnifier",callback:i,context:n,itemType:"toggle",enabled:!1})},loadTutorial:function(e,n){var i=new o,s=function(){i.isTutorialOpen()?i.close():i.show()};i.initialize(n),this.tutorialItem=new t({el:this.$el,id:"dropdown_tutorial",accName:"tnavTutorial",callback:s,context:i,itemType:"toggle",enabled:!1}),$(document).one("cleanup.betweenTest",function(){this.tutorialItem=null}.bind(this))},loadZoomControls:function(e){var n=this;s.initialize();var i=_.template($(r).filter("#zoomControlsTemplate").html(),{zoomPercentage:"100"}),o=function(e){"zoomInBtn"==$(event.target).attr("id")||$(event.target)[0].parentNode&&"zoomInBtn"==$(event.target)[0].parentNode.id?s.handleZoomIn():("zoomOutBtn"==$(event.target).attr("id")||$(event.target)[0].parentNode&&"zoomOutBtn"==$(event.target)[0].parentNode.id)&&s.handleZoomOut()},a=new t({el:n.$el,id:"dropdown_zoomControls",accName:"zoomControls",callback:o,context:s,itemType:"toggle",enabled:!1,label:$.i18n.t("userDropDown:zoomControls"),inactiveLabel:i,title:$.i18n.t("userDropDown:zoomControls"),activeLabel:i});e.add(a)},loadReadableMode:function(e,n){this.readableModeController||(this.readableModeController=new a,this.readableModeController.init());var i=this,o=function(e){i.readableModeController.toggle(),n.active=!n.active,$(document).trigger("toggled.ReadableMode",n.active),/iphone|ipod|ipad simulator/i.test(navigator.platform.toLowerCase())||$(".breadcrumbs [tabindex]").eq(0).focus()};return this.readableModeItem=new t({el:this.$el,id:"dropdown_readerMode",accName:"readerMode",callback:o,context:null,itemType:"toggle",enabled:!1}),this.readableModeItem},loadSbacTutorial:function(e){var n=this,i=function(){TN8.CatalogController.CatalogTutorialController._loadTutorials(),$(document).trigger("sbacTutorial.toggle",{show:n.sbacTutorialItem.get("enabled")})};this.sbacTutorialItem=new t({el:this.$el,id:"dropdown_sbacTutorial",callback:i,context:null,itemType:"toggle",enabled:!1,label:$.i18n.t("catalog:itemTutorial"),inactiveLabel:$.i18n.t("catalog:enableItemTutorial"),title:$.i18n.t("catalog:itemTutorial"),activeLabel:$.i18n.t("catalog:disableItemTutorial")}),$(document).one("cleanup.betweenTest",function(){this.sbacTutorialItem=null}.bind(this))},loadSbacBraille:function(){var e=this,n=function(){$(document).trigger("sbacBraille.toggle",{show:e.sbacBrailleItem.get("enabled")})};this.sbacBrailleItem=new t({el:this.$el,id:"dropdown_sbacBraille",callback:n,context:null,itemType:"toggle",enabled:!1,label:$.i18n.t("catalog:brailleFiles"),inactiveLabel:$.i18n.t("catalog:showBraille"),title:$.i18n.t("catalog:brailleFiles"),activeLabel:$.i18n.t("catalog:hideBraille")}),$(document).one("cleanup.betweenTest",function(){this.sbacBrailleItem=null}.bind(this))},addSettingsModal:function(){var e=new l({model:TN8.Application.settings});this.settingsModalItem=new t({el:this.$el,id:"dropdown_pnpswitch",label:$.i18n.t("settings:menuOption"),title:$.i18n.t("settings:menuOption"),callback:e.toggle,context:e}),TN8.Application.settings&&TN8.Application.settings.set("enabled",!0)},updateList:function(e){function t(e,t){var n=$("#main_panel"),i=_.keys(e);if(i.indexOf("contrastSettings")!==-1){var s=e.contrastSettings;l.contrastItem||l.loadContrastSetting(n),l.contrastItem.set({label:$.i18n.t("userDropDown:contrastTitle"),title:$.i18n.t("userDropDown:contrastSettings")}),s&&s.activateByDefault&&s.active&&($(document).one("ItemController.ItemLoaded",function(){var e=l.menuController.get("contrastController");e.handleContrastSettings(s.color)}),$(document).on("cleanup.betweenTest",function(){s.color=""})),t.add(l.contrastItem)}if(i.indexOf("magnifier")!==-1){var r="tn.startsection.loaded tn.endsection.loaded tn.endtest.loaded tn.navigate.item tn.navigate.logout tn.navigate.overview tn.navigate.tests tn.navigate.home tn.navigate.endTest tn.navigate.endSection tn.navigate.leaveTest tn.reviewdropdown.nav showExitView appExit WipeModals";l.magnifierItem||l.loadMagnifier($(document.body)),l.magnifierItem.set({label:$.i18n.t("userDropDown:enableMagnifier"),inactiveLabel:$.i18n.t("userDropDown:enableMagnifier"),title:$.i18n.t("userDropDown:enableMagnifier"),activeLabel:$.i18n.t("userDropDown:disableMagnifier")}),magnifierAPI.toolbox.magnifierController.init(r),l.magnifierItem.set("enabled",!1),t.add(l.magnifierItem)}if(i.indexOf("lineReader")!==-1){var r="tn.startsection.loaded tn.endsection.loaded tn.endtest.loaded tn.navigate.item tn.navigate.logout tn.navigate.overview tn.navigate.tests tn.navigate.home tn.navigate.endTest tn.navigate.endSection showExitView cleanup.betweenTest settings.modal.open",c=e.lineReader;l.lineReaderItem||l.loadLineReader(n),l.lineReaderItem.set({label:$.i18n.t("userDropDown:inactiveLineReader"),inactiveLabel:$.i18n.t("userDropDown:inactiveLineReader"),title:$.i18n.t("userDropDown:inactiveLineReader"),activeLabel:$.i18n.t("userDropDown:activeLineReader")}),lineReaderAPI.toolbox.lineReaderController.init(r),l.lineReaderItem.set("enabled",!1),c&&c.activateByDefault&&c.active&&$(document).one("ItemController.ItemLoaded",a),$(document).on("cleanup.betweenTest",function(){$(document).off("ItemController.ItemLoaded",a),l.lineReaderItem.trigger("toggle",!1)}),t.add(l.lineReaderItem)}if(i.indexOf("masking")!==-1){var h=e.masking;l.answerMaskingItem||l.loadAnswerMasking(n),l.answerMaskingItem.set({label:$.i18n.t("userDropDown:enableAnswerMasking"),inactiveLabel:$.i18n.t("userDropDown:enableAnswerMasking"),title:$.i18n.t("userDropDown:enableAnswerMasking"),activeLabel:$.i18n.t("userDropDown:disableAnswerMasking")});var p=answerMaskingAPI.toolbox.answerMaskingController;p.init(),p.setAvailable(!0),$(document).on("tn.navigate.login",function(){p.setEnabled(!1)}),$(document).on("cleanup.betweenTest",function(){p.setEnabled(!1),l.answerMaskingItem.trigger("toggle",!1),p.setAvailable(!1)}),h&&h.activateByDefault&&h.active&&p.setEnabled(!0),l.answerMaskingItem.set("enabled",p.getEnabled()),t.add(l.answerMaskingItem)}if(i.indexOf("tnavTutorial")!==-1){if(!l.tutorialItem){var f=e.tnavTutorial;l.loadTutorial(n,f.activateByDefault)}l.tutorialItem.set({label:$.i18n.t("userDropDown:launchTutorial"),inactiveLabel:$.i18n.t("userDropDown:launchTutorial"),title:$.i18n.t("userDropDown:launchTutorial"),activeLabel:$.i18n.t("userDropDown:closeTutorial")}),t.add(l.tutorialItem)}i.indexOf("zoomControls")!==-1&&(TestEngine.isJXBrowserApp()||TestEngine.isChromeApp())&&l.loadZoomControls(d),i.indexOf("readableMode")!==-1&&(o(e.readableMode),t.add(l.readableModeItem),l.readableModeController.setEnabled(l.readableModeItem.get("enabled"))),TestEngine.getTestDefine()._sourceJson.pnpSwitcher===!0&&(l.addSettingsModal(),u.add(l.settingsModalItem)),$(document).one("addSbTutorialDropdown",function(){!l.sbacTutorialItem&&l.loadSbacTutorial(),l.sbacTutorialItem.set("enabled",!1),l.collections[0].add(l.sbacTutorialItem),$(document).trigger("do.resetTooltips")}),$(document).one("addSbBrailleDropdown",function(){!l.sbacBrailleItem&&l.loadSbacBraille(),l.sbacBrailleItem.set("enabled",!1),l.collections[0].add(l.sbacBrailleItem),$(document).trigger("do.resetTooltips")})}function i(e){return e.assignedSupport===!0&&e.activateByDefault===!0&&e.active===!0}function o(e){l.readableModeItem||(l.loadReadableMode(h,e),$(document).on("tn.navigate.login cleanup.betweenTest",$.proxy(r,l)));var t=i(e);s(l.readableModeItem,t)}function s(e,t){e.set({label:$.i18n.t("userDropDown:readerMode"),inactiveLabel:$.i18n.t("userDropDown:readerModeEnable"),title:$.i18n.t("userDropDown:readerMode"),activeLabel:$.i18n.t("userDropDown:readerModeDisable")}),t&&e.set("enabled",!0)}function r(){$(document).off("tn.navigate.login cleanup.betweenTest",$.proxy(r,this)),this.readableModeItem.set("enabled",!1),this.readableModeItem=null,this.readableModeController&&this.readableModeController.destroy(),this.readableModeController=null}function a(){lineReaderAPI.toolbox.lineReaderController.setEnabled(!0),l.lineReaderItem.trigger("toggle",!0)}var l=this;this.initMenuItems();var c=new n,u=new n,d=new n;if(TestEngine.getAuthentication().getLoginToken()){var h=(Backbone.history.fragment,$("#main_panel"));if(e&&1==e.get("headerMode")){var p=TN8.Application.accommodationTools;void 0===p&&(p=[]),t(p,c)}else TN8.Application.currentContent!=TN8.Application.CONTENT_TEST_START||l.contrastControllerInitialized||(l.contrastControllerInitialized=!0,l.loadContrastSetting(h));u.add(this.logoutItem)}else TestEngine._isAppMode()?(TN8.Application.currentContent==TN8.Application.CONTENT_LOGIN&&u.add(this.appCheckItem),u.add(this.loginItem),u.add(this.changeCustomerItem)):u.add(this.loginItem);this.collections=[$.extend(!0,{},c),$.extend(!0,{},d),$.extend(!0,{},u)]}});return c}),define("text!tpl/crumbTrail.html",[],function(){return'<script type="text/template" id="signinCrumbTemplate">\n\t<span ><%= $.i18n.t("crumbTrail:signin")  %></span>\n</script>\n\n<script type="text/template" id="availableCrumbTemplate">\n\t<span ><%= $.i18n.t(\'availableTest:availableTests\')  %></span>\n</script>'}),define("models/header/CrumbTrail",["javascripts/backbone-min","text!tpl/crumbTrail.html"],function(e,t){"use strict";var n=e.Model.extend({defaults:{crumbs:[]},initialize:function(e,t){TN8.fnOn("tn.test.cat.length",this.catLengthHandler.bind(this))},updateCrumbs:function(e){var n=e&&e.get("headerMode"),i=[],o=!1,s=TestEngine.getTestDefine();o=s&&s.getHideCounter(),TN8.Application.currentContent===TN8.Application.CONTENT_LOGIN?i.push($(_.template($(t).filter("#signinCrumbTemplate").html())())):TN8.Application.currentContent===TN8.Application.CONTENT_AVAILABLE_TESTS&&i.push($(_.template($(t).filter("#availableCrumbTemplate").html())())),_.indexOf([1,2,3],n)>=0&&i.push(this.getTestTitleCrumb(e)),_.indexOf([1,2],n)>=0&&i.push(this.getSectionTitleCrumb(e)),3==n?i.push(this.getEndTestSectionCrumb(e)):2==n?i.push(this.getTestOverviewCrumb(e)):1!=n||o||i.push(this.getItemCountCrumb(e)),this.set("crumbs",i)},catLengthHandler:function(e,t){"undefined"==typeof t.min||t.min!==t.max||0==t.min||isNaN(t.min)?this.catTestLength=null:this.catTestLength=t.min,t.label?this.catLabel=t.label:this.catLabel=null},getItemCountCrumb:function(e){var t,n=!TestEngine.getNavigation().getCurrentSection().isLinear(),i=TestEngine.getNavigation().getCurrentSection(),o=TestEngine.getNavigation().getCurrentItem(),s=i.getNumberOfQuestionItems(),r=$("<span>"),a="";return n?(t=i.getCATData().index+1,a=o.getWc()?o.getTitle():this.catLabel,this.catTestLength&&!o.getWc()&&(a=$.i18n.t("header:questionBreadCrumb",{questionNumber:a,totalNumber:this.catTestLength}))):(t=i.getIndexOfQuestionItem(o),a=o.getWc()?o.getTitle():$.i18n.t("header:questionBreadCrumb",{questionNumber:t,totalNumber:s})),r.text(a).attr("tabindex","-1"),r},getTestOverviewCrumb:function(e){var t=$("<span>");return t.text("Review Test Overview"),t},getEndTestSectionCrumb:function(e){var t=$("<span>");return TN8.utils.isLastSection()?t.text($.i18n.t("endTest")):t.text($.i18n.t("endSection:endSection")),t},getTestTitleCrumb:function(e){var t=TestEngine.getAuthentication()&&TestEngine.getAuthentication().getCurrentForm()&&TestEngine.getAuthentication().getCurrentForm().getTestName()||"Test Title",n=(e&&e.get("headerMode"),$("<span>"));return n.text(t),n},getSectionTitleCrumb:function(e){var t=TestEngine.getNavigation(),n=t&&t.getCurrentSection(),i=n&&n.getTitle(),o=$("<span />").text(i);return o}});return n}),define("models/header/NavigationButtons/Constants",[],function(){"use strict";return{BTN_STATE:{DISABLED:"disabled",ENABLED:"",ENABLED_PRIMARY:"btn-primary",HIDDEN:"hide"},HEADER_MODE:{BEFORE_TEST:0,ITEM:1,OVERVIEW:2,END_SECTION:3}}}),define("models/header/NavigationButtons/AimsWebNavigationButtons",["./Constants"],function(e){"use strict";return function(){this.getOverviewBtnStatus=function(){return e.BTN_STATE.HIDDEN},this.getFlaggBtnStatus=function(){return e.BTN_STATE.HIDDEN},this.getNextBtnStatus=function(){return e.BTN_STATE.HIDDEN},this.getPrevBtnStatus=function(){return e.BTN_STATE.HIDDEN}}}),define("models/header/NavigationButtons/CatNavigationButtons",["./Constants"],function(e){"use strict";return function(t,n,i){this.getOverviewBtnStatus=function(){var t=n.isReviewRange();return t?e.BTN_STATE.DISABLED:t?void 0:e.BTN_STATE.HIDDEN},this.getFlaggBtnStatus=function(){var t=n.isReviewRange();return t?e.BTN_STATE.ENABLED:t?void 0:e.BTN_STATE.HIDDEN},this.getNextBtnStatus=function(){function o(){return l&&s?e.BTN_STATE.ENABLED_PRIMARY:l&&!s?e.BTN_STATE.DISABLED:!l&&s?e.BTN_STATE.ENABLED_PRIMARY:l||s?void 0:e.BTN_STATE.ENABLED_PRIMARY}var s=i.getCurrentItem().getAnswered(),r=n.isHideNavigation(),a=t===e.HEADER_MODE.END_SECTION,l=n.isMustAnswerToContinue();return r&&a?e.BTN_STATE.DISABLED:r&&!a?e.BTN_STATE.HIDDEN:!r&&a?e.BTN_STATE.DISABLED:r||a?void 0:o()},this.getPrevBtnStatus=function(){var i=n.isHideNavigation(),o=t===e.HEADER_MODE.END_SECTION;return i&&o?e.BTN_STATE.DISABLED:i&&!o?e.BTN_STATE.HIDDEN:!i&&o?e.BTN_STATE.DISABLED:i||o?void 0:e.BTN_STATE.DISABLED}}}),define("models/header/NavigationButtons/LinearNavigationButtons",["./Constants"],function(e){"use strict";return function(t,n,i){this.getOverviewBtnStatus=function(){var t=n.noReview();return t?e.BTN_STATE.HIDDEN:t?void 0:e.BTN_STATE.ENABLED},this.getFlaggBtnStatus=function(){var i=t===e.HEADER_MODE.ITEM,o=n.noReview();return o&&i?e.BTN_STATE.HIDDEN:o&&!i?e.BTN_STATE.HIDDEN:!o&&i?e.BTN_STATE.ENABLED:o||i?void 0:e.BTN_STATE.HIDDEN},this.getNextBtnStatus=function(){var o=t===e.HEADER_MODE.END_SECTION;if(i){var s=n.isHideNavigation(),r=n.isMustAnswerToContinue(),a=i.getCurrentItem().getAnswered();if(s&&o&&r&&a)return e.BTN_STATE.DISABLED;if(s&&o&&r&&!a)return e.BTN_STATE.DISABLED;if(s&&o&&!r&&a)return e.BTN_STATE.DISABLED;if(s&&o&&!r&&!a)return e.BTN_STATE.DISABLED;if(s&&!o&&r&&a)return e.BTN_STATE.HIDDEN;if(s&&!o&&r&&!a)return e.BTN_STATE.HIDDEN;if(s&&!o&&!r&&a)return e.BTN_STATE.HIDDEN;if(s&&!o&&!r&&!a)return e.BTN_STATE.HIDDEN;if(!s&&o&&r&&a)return e.BTN_STATE.DISABLED;if(!s&&o&&r&&!a)return e.BTN_STATE.DISABLED;if(!s&&o&&!r&&a)return e.BTN_STATE.DISABLED;if(!s&&o&&!r&&!a)return e.BTN_STATE.DISABLED;if(!s&&!o&&r&&a)return e.BTN_STATE.ENABLED_PRIMARY;if(!s&&!o&&r&&!a)return e.BTN_STATE.DISABLED;if(!s&&!o&&!r&&a)return e.BTN_STATE.ENABLED_PRIMARY;if(!(s||o||r||a))return e.BTN_STATE.ENABLED_PRIMARY}},this.getPrevBtnStatus=function(){function i(){var t=n.isMustAnswerToContinue();return t?e.BTN_STATE.DISABLED:t?void 0:e.BTN_STATE.ENABLED_PRIMARY}var o=t===e.HEADER_MODE.END_SECTION,s=n.isHideNavigation(),r=n.noReview(),a=o?!n.areAllItemsLocked():n.hasPreviousSibling();return s&&o&&a&&r?e.BTN_STATE.DISABLED:s&&o&&a&&!r?e.BTN_STATE.ENABLED_PRIMARY:s&&o&&!a&&r?e.BTN_STATE.HIDDEN:s&&o&&!a&&!r?i():s&&!o&&a&&r?e.BTN_STATE.HIDDEN:s&&!o&&a&&!r?e.BTN_STATE.HIDDEN:s&&!o&&!a&&r?e.BTN_STATE.HIDDEN:!s||o||a||r?!s&&o&&a&&r?e.BTN_STATE.DISABLED:!s&&o&&a&&!r?e.BTN_STATE.ENABLED_PRIMARY:!s&&o&&!a&&r?e.BTN_STATE.DISABLED:s||!o||a||r?!s&&!o&&a&&r?e.BTN_STATE.DISABLED:s||o||!a||r?(s||o||a||!r)&&(s||o||a||r)?void 0:e.BTN_STATE.DISABLED:i():i():e.BTN_STATE.HIDDEN}}}),define("models/header/NavigationButtons",["./NavigationButtons/AimsWebNavigationButtons","./NavigationButtons/CatNavigationButtons","./NavigationButtons/LinearNavigationButtons"],function(e,t,n){"use strict";return function(i,o,s){var r=s.getNavigation();return o.isAimsWeb()?new e:o.isCat()?new t(i,o,r):new n(i,o,r)}}),define("util/Window",[],function(){return window}),define("models/HeaderModel",["javascripts/backbone-min","models/header/UserDropdown","models/header/CrumbTrail","models/header/NavigationButtons","util/TestDefProperties","util/Window"],function(e,t,n,i,o,s){"use strict";var r="disabled",a="btn-primary",l=e.Model.extend({defaults:{renderTrick:0,userInfo:{},headerMode:0,btnNextState:a,btnPrevState:r,selectedTool:"pointer",btnShowFlag:"",btnShowOverview:"",userDropdownModel:null,closeButton:!1,crumbTrailModel:null,itemPosition:null,itemCount:null,overviewReturnLabel:"Return to Question"},initialize:function(e){var i=new t;this.set("userDropdownModel",i),this.on("change",i.updateList,i),i.updateList(this);var s=new n;this.set("crumbTrailModel",s),this.on("change",s.updateCrumbs,s),s.updateCrumbs(this),this.testDefProps=new o(window)},setNavButtonState:function(){this.setPreviousButtonState(),this.setNextButtonState(),this.setFlagButtonState(),this.setOverviewButtonState()},setOverviewButtonState:function(){var e=new i(this.get("headerMode"),this.testDefProps,s.TestEngine).getOverviewBtnStatus();this.set({silent:!1,btnShowOverview:e})},setFlagButtonState:function(){var e=new i(this.get("headerMode"),this.testDefProps,s.TestEngine).getFlaggBtnStatus();this.set({silent:!1,btnShowFlag:e})},setPreviousButtonState:function(){var e=new i(this.get("headerMode"),this.testDefProps,s.TestEngine).getPrevBtnStatus();this.set({silent:!1,btnPrevState:e})},setNextButtonState:function(){var e=new i(this.get("headerMode"),this.testDefProps,s.TestEngine).getNextBtnStatus();this.set({silent:!1,btnNextState:e})}});return l}),define("controllers/TestStateSaver",["timer/TimerUtils","util/Dispatcher"],function(e,t){"use strict";var n=function(){return{_testStateRestored:!1,init:function(){this._testStateRestored=!1,TN8.Dispatcher.off("saveTestState"),TN8.Dispatcher.on("saveTestState",this.saveTest,this),TN8.Dispatcher.off("test.state.ready",this.testStateRestored,this).on("test.state.ready",this.testStateRestored,this)},testStateRestored:function(){this._testStateRestored=!0},saveTest:function(e){var t=!1;if(this._testStateRestored){TN8.log("TestStateSaver.saveTest . Sending TestState to engine to be saved.",TN8.CRITICAL);var n=TN8.TestStateController.assembleTestState();e&&"isLastCall"in e&&e.isLastCall===!0&&(t=!0),TestEngine.getStateComponent().setTestState(TestEngine.selectedTestId,n,this.handler_saveTestStateCallback.bind(this,e),t,e)}},closeAllGrowls:function(){$(".jGrowl-notification").trigger("jGrowl.beforeClose")},handler_saveTestStateCallback:function(e,t){TN8.Application.error.successCheck(t)&&(TN8.log("TestStateSaver.handler_saveTestStateCallback .  ",TN8.CRITICAL),TN8.Dispatcher.trigger("performNavigation"),
$(document).trigger("tn.save.success"))},handler_testSaveFailure:function(e){$(document).trigger("tn.loadingModal.off"),TN8.throw("Connection Lost",TN8.errorType.LOST_CONNECTION_IN_TEST)},navigateLogout:function(e){TN8.Dispatcher.trigger("ClearSlate"),TN8.Dispatcher.trigger("CleanUpItemController"),$(document).trigger("tn.route.to","logout")}}},i=new n;return i}),define("util/registerCallbacks",["controllers/TestStateSaver"],function(){"use strict";function e(){$(document).trigger("perform.loginCookieCleanup"),$(document).trigger("tn.route.to","login")}function t(e){var t=e.getTarget(),n=t.forceSave?function(){var e=function(){$(document).trigger("tn.route.to","logout")};TestEngine.saveIncompleteTestResults(e,e,!0)}:null;TN8.throw(t.msg,t.msgCode,n)}function n(e,t){t||TN8.throw("The Application has lost its connection to the internet and testing cannot proceed normally.",TN8.errorType.IOS_DISCONNECTED)}function i(t){TN8.throw("Unable to connect to the proctor caching computer. Please contact your administrator.",TN8.errorType.PROXY_SETUP_FAILURE,e)}function o(e){TN8.log("Cloud clipboard registered callback result: "+JSON.stringify(e),TN8.CRITICAL),(e.isHistoryEnabled||e.isRoamingEnabled)&&TN8.throw("CloudClipboard detected",TN8.errorType.FORBIDDEN_PROCESS_DETECTED,void 0,void 0,e)}function s(e){TN8.Application.lostFocusNotify()}function r(){TN8.throw("Test window has exited fullscreen mode. Test aborted. Please ask your proctor for assistance.",TN8.errorType.FULL_SCREEN_CHANGED)}function a(){d=!0}function l(){d=!1}function c(){TN8.throw("Device is running out of memory.",TN8.errorType.OUT_OF_MEMORY_WARNING)}function u(){var e=TestEngine.getNativeComponent();e&&e.registerLockdownStateChangedCallback&&e.registerLockdownStateChangedCallback(s),e&&e.registerReachabilityStateChangedCallback&&e.registerReachabilityStateChangedCallback(n),e&&e.registerFullscreenStateChangedCallback&&e.registerFullscreenStateChangedCallback(r),e&&e.registerCloudClipboardCallback&&e.registerCloudClipboardCallback(o),TestEngine.removeListener(TestEngine.constructor.FATAL_ENGINE_ERROR,t),TestEngine.addListener(TestEngine.constructor.FATAL_ENGINE_ERROR,t,this),TestEngine.removeListener(TestEngine.constructor.PROXY_SETUP_FAILURE,i),TestEngine.addListener(TestEngine.constructor.PROXY_SETUP_FAILURE,i,this),TestEngine.removeListener(TestEngine.constructor.OUT_OF_MEMORY_WARNING,c),TestEngine.addListener(TestEngine.constructor.OUT_OF_MEMORY_WARNING,c,this),TN8.fnOn("tn.test.start",a),TN8.fnOn("cleanup.betweenTest",l)}var d=!1;return $(document).off("tn.login.successful",u).on("tn.login.successful",u),TN8.getNoneCacheableFName=function(){return"client/public/version.txt?refresh="+Date.now()},u}),define("controllers/CleanupController",[],function(){"use strict";var e=function(){return{init:function(){_.bindAll(this),this._registerEvents()},_registerEvents:function(){TN8.fnOn("perform.logoutCleanup",this.logoutCleanup),TN8.fnOn("perform.betweenTestCleanup",this.betweenTestCleanup),TN8.fnOn("perform.loginCookieCleanup",this.clearLoginCookie),TN8.fnOn("perform.betweenEpatPartCleanup",this.betweenEpatPartCleanup)},_unregisterEvents:function(){$(document).off("perform.logoutCleanup",this.logoutCleanup),$(document).off("perform.betweenTestCleanup",this.betweenTestCleanup),$(document).off("perform.loginCookieCleanup",this.clearLoginCookie),$(document).off("perform.betweenEpatPartCleanup",this.betweenEpatPartCleanup)},logoutCleanup:function(){this.clearLoginCookie(),this.betweenTestCleanup(),$(document).trigger("cleanup.logout")},betweenTestCleanup:function(){var e=TN8.Application,t=TN8.baseUrl+"public/javascripts/mathjax/MathJax.js?config=TeX-MML-AM_CHTML";requirejs.undef(t),TN8.utils.setMathJaxOptions(),$("script[src*='MathJax.js']").remove(),TN8.Dispatcher.trigger("CleanUpItemController"),this.closeAllGrowls(),TN8.Dispatcher.trigger("ClearSlate"),TN8.Dispatcher.off("sendToEngine"),TN8.Dispatcher.restart(),requirejs.undef("util/CalculatorView"),requirejs.undef("tools/calculator"),e.itemController.clearDataId(),delete e.epatStudentName;var n=TN8.VariableFactory.globalVars;n.odVars=n.opBehaviors=[],this.replaceCss(),$(document).trigger("cleanup.betweenTest"),TestEngine.cleanUp()},betweenEpatPartCleanup:function(){TestEngine._state.destroyLocalItemCache(),TN8.TestStateController.restoreTestState({})},clearLoginCookie:function(){TestEngine.getAuthentication().destroyCookie(),TestEngine.getAuthentication().setLoginToken(void 0);var e=new Date;e.setFullYear(e.getFullYear()-1),document.cookie="jwplayer.volume=; Path=/; Expires="+e.toGMTString()+";",document.cookie="jwplayer.mute=; Path=/; Expires="+e.toGMTString()+";"},closeAllGrowls:function(){$(".jGrowl-notification").trigger("jGrowl.beforeClose")},replaceCss:function(){$("#tn_css_link").length||TN8.utils.reverseRebasedCss("tn_css_link","/client/public/stylesheets/tn.css")}}};return new e}),define("controllers/StatusController",[],function(){return{listen:function(){var e=function(e,t){var n={item:$.i18n.t("question"),home:"Home",endtest:$.i18n.t("endTest"),login:$.i18n.t("signin"),logout:$.i18n.t("logout"),startSection:$.i18n.t("startSection"),endSection:$.i18n.t("endSection"),teststart:$.i18n.t("startTest"),availableTests:$.i18n.t("availableTest:availableTests"),practiceTest:$.i18n.t("practiceTest"),appCheck:$.i18n.t("appCheck:appCheckTitle"),epatReport:$.i18n.t("epat:summaryReport"),settings:$.i18n.t("settings:title")},i=(t||n[TN8.Application.currentContent]||"")+TestEngine.getWindowName();setTimeout(function(){$("#loading-status").text($.i18n.t("pageLoadComplete",{page:i}))},0),document.title=i};$("#loading, #progressModal").on("hidden",function(){setTimeout(e,0)}).on("shown",function(){}),$(document).on("tn.navigate.logout tn.navigate.home tn.navigate.login tn.epatReport.render tn.micCheck.render tn.settings.render tn.testStart.render appCheck.render TandC.toggle",e)}}}),define("controllers/LoadingModalController",["controllers/ApplicationStatusController"],function(e){"use strict";var t=function(){return{addListeners:function(){_.bindAll(this),e.registerEvent(e.actionNames.TurnOffProgressModal,"DoTurnOffProgressModal","ErrTurnOffProgressModal",$(document)),e.registerEvent(e.actionNames.TurnOnProgressModal,"DoTurnOnProgressModal","ErrTurnOnProgressModal",$(document)),$(document).on("appCheck.off",this.turnAppCheckOff).on("appCheck.on",this.turnAppCheckOn).on("DoTurnOnProgressModal tn.progressBar.on",this.turnProgressBarOn).on("DoTurnOffProgressModal tn.progressBar.off",this.turnProgressBarOff).on("tn.loadingModal.off",this.turnLoadingModalOff).on("tn.loadingModal.on",this.turnLoadingModalOn).off("inform.languageChanged",this.changeLanguage).on("inform.languageChanged",this.changeLanguage),$("#loading, #progressModal").on("show",this.disableInteracting).on("hide",this.enableInteracting).on("hidden",this.addScrollHeaderListener).on("shown.bs.modal",this.doWindowRepaint).on("hidden.bs.modal",this.informLoadingHidden),$(document).on("ErrTurnOnProgressModal ErrTurnOffProgressModal",this.errorProgressModal)},errorProgressModal:function(){TN8.log("ProgessBar: Progress Bar cannot be hidden/shown at this time",TN8.IMPORTANT)},turnLoadingModalOn:function(){TN8.Application.error.isLostFocusError()||$("#loading").modal("show")},turnLoadingModalOff:function(){$("#loading").modal("hide")},turnProgressBarOn:function(){$("#progressModal").modal("show")},turnProgressBarOff:function(){$("#progressModal").modal("hide")},turnAppCheckOn:function(){TN8.Application.error.isLostFocusError()||($("body").append(_.template($(TN8.Application.combinedTpl).filter("#ac-template").html())),$("#ac-title").html($.i18n.t("appCheckRunningMsg")),$("#ac-running").on("show",this.blockKeydown).on("hide",this.unblockKeydown),$("#ac-running").modal("show"))},turnAppCheckOff:function(){$("#ac-running").modal("hide").remove(),$("#ac-running").off("show",this.blockKeydown).off("hide",this.unblockKeydown)},informLoadingHidden:function(){$(document).trigger("inform.loadingHidden")},doWindowRepaint:function(){$(document).trigger("do.WindowRepaint")},actionBlock:function(e){return 9!==e.keyCode&&13!==e.keyCode&&32!==e.keyCode},blockKeydown:function(){$("body").on("keydown",this.actionBlock)},unblockKeydown:function(){$("body").off("keydown",this.actionBlock)},disableInteracting:function(){$("body").on("keydown",this.actionBlock),$("body").addClass("stop-scrolling"),$("body").on("touchmove",TN8.utils.preventDefault),$(document).trigger("do.stopInteracting")},enableInteracting:function(){TN8.Application.loadingModal=!1,$("body").off("keydown",this.actionBlock),$("body").removeClass("stop-scrolling"),$("body").off("touchmove",TN8.utils.preventDefault)},addScrollHeaderListener:function(){setTimeout(function(){$("#content :tabbable").off("focus",TN8.utils.headerScroll).on("focus",TN8.utils.headerScroll)},0)},changeLanguage:function(){$("#loading-title, #progress-title").html($.i18n.t("loadingMsg")),$("#floading-div").html($.i18n.t("loadingMsg")),$("#ac-title").html($.i18n.t("appCheckRunningMsg"))}}};return t()}),define("tools/checkRemote",[],function(){return{init:function(){$(document).on("tn.check.remote.config",function(e,t){TestEngine.remoteSectionControlConfig(function(e){var n=_.contains(JSON.parse(e[t.type]),TestEngine.getNavigation().getCurrentSection().getIdentifier());n?t.success():t.failure()},t.missing)})}}}),define("tools/CaliperListener",[],function(){var e=function(e){this.options=e,_.bindAll(this),this._registerEvents(),$(document).off("cleanup.betweenTest",this._unregisterEvents).on("cleanup.betweenTest",this._unregisterEvents)};return e.prototype._registerEvents=function(){$(document).off(this.options.events,this.sendCaliperEvent).on(this.options.events,this.sendCaliperEvent)},e.prototype._unregisterEvents=function(){$(document).off(this.options.events,this.sendCaliperEvent)},e.prototype.parseConfig=function(e){var t={};if(e&&e.length){for(var n=e.length-1;n>=0;n--){var i=e[n];i.callback&&(t[i.name]=i.callback())}return t}return{}},e.prototype.buildCaliperEventArray=function(e){e.timestamp=Date.now();for(var t=this.parseConfig(e.config),n=null,i=[],o=e.names.length-1;o>=0;o--)n={eventName:e.names[o],timestamp:e.timestamp},$.extend(n,t),i.push(n);return e.hasMultiple||$(document).off(e.events,this.sendCaliperEvent),i},e.prototype.sendCaliperEvent=function(){for(var e=this.buildCaliperEventArray(this.options),t=e.length-1;t>=0;t--)window.TestEngine.registerTestnavEvent(e[t])},e}),define("tools/BatteryIndicator",[],function(){var e=function(){this.isBatteryAPIsupported=!1,this.batteryInfo,$(document).off("tn.navigate.login",$.proxy(this.loadBatteryInfo,this)).on("tn.navigate.login",$.proxy(this.loadBatteryInfo,this))};return e.prototype.setBatteryInfo=function(e){this.batteryInfo=e},e.prototype.getBatteryInfo=function(){return this.batteryInfo},e.prototype.isCharging=function(){return this.batteryInfo.charging},e.prototype.getBatteryLevelPercentage=function(){return parseFloat((100*this.batteryInfo.level).toFixed(2))},e.prototype.isBatteryAPIsupported=function(){return this.isBatteryAPIsupported},e.prototype.loadBatteryInfo=function(){var e=this;navigator.getBattery&&(e.isBatteryAPIsupported=!0,navigator.getBattery().then(function(t){e.setBatteryInfo(t),t.onchargingchange=function(){e.setBatteryInfo(t)},t.onlevelchange=function(){e.setBatteryInfo(t)},t.ondischargingtimechange=function(){e.setBatteryInfo(t)}}))},e.prototype.remove=function(){this.isBatteryAPIsupported&&this.getBatteryInfo()&&void 0!==this.getBatteryInfo()&&(this.getBatteryInfo().onlevelchange=null,this.getBatteryInfo().ondischargingtimechange=null,this.getBatteryInfo().onchargingchange=null,this.batteryInfo=null,this.isBatteryAPIsupported=!1,this.isWarningAlarmShown=!1,this.isCriticalAlarmShown=!1)},e}),define("tools/CaliperGenerator",["tools/CaliperListener","tools/BatteryIndicator"],function(e,t){var n=function(){_.bindAll(this),this.batteryIndicator=new t,$(document).on("tn.navigate.login",this._addListeners)};return n.prototype.getCaliperJsonArray=function(){return[{names:["TEST_STARTED"],events:"tn.test.start",config:[{name:"batteryInfo",callback:this.getBatteryInfo}],hasMultiple:!1},{names:["TEST_PART_NAVIGATION_DISPLAYED","TEST_PART_DISPLAYED"],events:"inform.testPartDisplayed",hasMultiple:!1},{names:["TEST_SECTION_NAVIGATION_DISPLAYED","TEST_SECTION_DISPLAYED"],events:"tn.startsection.loaded",config:[{name:"sectionId",callback:this.getSectionId},{name:"sectionOrder",callback:this.getSectionOrder}],hasMultiple:!0},{names:["TEST_SECTION_STARTED"],events:"inform.nextStartSection",config:[{name:"sectionId",callback:this.getSectionId},{name:"sectionOrder",callback:this.getSectionOrder}],hasMultiple:!0},{names:["TEST_SECTION_SUBMITTED"],events:"caliper.sectionSubmitted",config:[{name:"sectionId",callback:this.getSectionId},{name:"sectionOrder",callback:this.getSectionOrder}],hasMultiple:!0},{names:["TEST_ITEM_NAVIGATION_DISPLAYED"],events:"tn.reviewdropdown.open",config:[{name:"itemId",callback:this.getItemId}],hasMultiple:!0},{names:["TEST_ITEM_DISPLAYED"],events:"ItemController.ItemLoaded",config:[{name:"itemId",callback:this.getItemId}],hasMultiple:!0},{names:["TEST_ITEM_ATTEMPT_COMPLETE"],events:"inform.itemNavAway",config:[{name:"itemId",callback:this.getItemId}],hasMultiple:!0},{names:["TEST_PAUSED"],events:"inform.engineLogout",hasMultiple:!1},{names:["TEST_ENDED"],events:"inform.engineSubmitSuccessful",hasMultiple:!1}]},n.prototype._addListeners=function(){for(var t=this.getCaliperJsonArray(),n=t.length-1;n>=0;n--){new e(t[n])}},n.prototype.getItemId=function(){var e="";return window.TestEngine._navigation&&(e=window.TestEngine._navigation.getCurrentItem().getItemName()),e},n.prototype.getSectionId=function(){var e="";return window.TestEngine._navigation&&(e=window.TestEngine._navigation.getCurrentSection().getIdentifier()),e},n.prototype.getBatteryInfo=function(){if(this.batteryIndicator.isBatteryAPIsupported){var e={level:this.batteryIndicator.getBatteryLevelPercentage(),charging:this.batteryIndicator.isCharging()};return this.batteryIndicator.remove(),e}},n.prototype.getSectionOrder=function(){var e=null,t=1;if(window.TestEngine._navigation){var n=window.TestEngine._navigation.getCurrentSection().getIdentifier();e=window.TestEngine.getNavigation().getCurrentTestPart().getSectionIndexById(n)+t}return e},n}),define("tools/StartupListener",["util/Dispatcher","controllers/StatusController","controllers/LoadingModalController","tools/checkRemote","tools/CaliperGenerator"],function(e,t,n,i,o){return{listen:function(){t.listen(),n.addListeners(),i.init(),TN8.fnOn("test.state.ready",this.rebaseTnCss),$(document).on("tn.navigate.item tn.navigate.logout tn.navigate.tests tn.navigate.home tn.navigate.endTest tn.navigate.endSection stopTest.modal.open",function(){e.trigger("WipeModals"),e.trigger("ClearSlate")}).on("contrast.modal.open",function(){e.trigger("WipeModals")}),$(document).on("cleanup.betweenTest",function(){$(document).trigger("ti.calc.destroy"),setTimeout(function(){$("#calculatorDiv").remove()},0)}),$(document).on("tn.navigate.logout tn.navigate.home tn.navigate.login tn.epatReport.render tn.micCheck.render tn.availableTests.render",function(){setTimeout(function(){$("#content :tabbable").off("focus",TN8.utils.headerScroll).on("focus",TN8.utils.headerScroll)},0)});new o},rebaseTnCss:function(){var e=TestEngine.getNativeComponent(),t=TestEngine.getAuthentication().getCurrentForm().getTestSecurityLevel();if("1"===t||"2"===t){TN8.log("!!!RESETTING THE BASE URL!!!",2);var n=requirejs.s.contexts._.config;n.baseUrl=e.getSecureLocalUrl()+"/client/js",requirejs.config(n),TN8.baseUrl=e.getSecureLocalUrl()+"/client/",$("#tn_css_link").length?TN8.utils.createRebasedCss("tn_css_link","public/stylesheets/",function(){$(document).trigger("tn.css.ready")}):$(document).trigger("tn.css.ready")}else if("3"===t){var n=requirejs.s.contexts._.config;n.baseUrl="js",requirejs.config(n),TN8.baseUrl="",$(document).trigger("tn.css.ready")}}}}),define("util/Waiter",[],function(){var e=function(e){var t=0,n=0,i="",o="",s=function(){t=e.expectedEvents,i=e.incomingReadyEvents,o=e.outgoingReadyEvents,c()&&r()},r=function(){TN8.log("waiter.setup incomingReadyEvents: "+i+" outgoingReadyEvents: "+o+" expectedEvents: "+t+" actualEvents: "+n,TN8.IMPORTANT),TN8.fnOn(i,a)},a=function(e,t,n){"string"==typeof t&&t.indexOf(!0)&&$(document).trigger(t,n),l(e,t)},l=function(e,t){++n,TN8.log("waiter.isReady evtName: "+t+" incomingReadyEvents: "+i+" actualEvents: "+n,TN8.IMPORTANT),u()},c=function(){return!(!i||""===i||!o||""===o)},u=function(){n===t&&(TN8.log("waiter.isReady "+o,TN8.IMPORTANT),$(document).trigger(o),h())},d=function(){t=0,n=0,i="",o=""},h=function(){TN8.log("waiter.destroyListener outgoingReadyEvents:"+o,TN8.IMPORTANT),$(document).off(i,a),$(document).off(o),d()};s()};return e}),define("util/EngineInterface",["controllers/PnpController"],function(e){var t=function(){this._ttsMediaRegex=/\w{32}-is(-?\d+)(e|s)(f|m)\.(mp3|xml|ogg)/,$(document).off("cleanup.betweenTest",$.proxy(this.resetTTSPreload,this)).on("cleanup.betweenTest",$.proxy(this.resetTTSPreload,this)),this.resetTTSPreload()};return t.prototype.resetTTSPreload=function(){this._ttsPreloadAll=!1,$(document).off("TTS.play",$.proxy(this._ttsPlayed,this)).on("TTS.play",$.proxy(this._ttsPlayed,this))},t.prototype._ttsPlayed=function(e){this._ttsPreloadAll=!0},t.prototype._disableTTSPreload=function(){return TN8.Application.config.disablePreloadTTS===!0||"true"===TN8.Application.config.disablePreloadTTS},t.prototype.DEFAULT_FILES={"tools_noTi.par":{include:!1,path:"par",tools:[9,10,12,5,6,7,11,14,15,19,20,21,9001]},"calculatorToolbox-lib.js":{include:!1,path:"tools",tools:[9,10,12]},"toolcontroller-lib.js":{include:!1,path:"tools",tools:[9,10,12,13,16,17,22,23,24,27,28,29,30,5,6,7,11,14,15,19,20,21,9001]},"ti84.par":{include:!1,path:"par",tools:[13]},"ti30.par":{include:!1,path:"par",tools:[16]},"ti108.par":{include:!1,path:"par",tools:[17]},"ticalccontroller-lib.js":{include:!1,path:"tools",tools:[13,16,17]},"desmos.par":{include:!1,path:"par",tools:[22,23,24]},"desmos-lib.js":{include:!1,path:"tools",tools:[22,23,24]},"dynamic-tts.par":{include:!1,path:"par",tools:[26]},"sbtts.js":{include:!1,path:"js",tools:[26]},"dictionary.par":{include:!1,path:"par",tools:[27,28,29,30]},"dictionary-lib.js":{include:!1,path:"tools",tools:[27,28,29,30]},"tts.par":{include:!1,path:"par",tools:["TTS"]},"texttospeech-lib.js":{include:!1,path:"js",tools:["TTS"]}},t.prototype.DEFAULT_TOOLS={9:!1,10:!1,12:!1,13:!1,16:!1,17:!1,22:!1,23:!1,24:!1,26:!1,27:!1,28:!1,29:!1,30:!1,TTS:void 0},t.prototype.getItemFlavorDependencies=function(e,t,n,i){var o=TestEngine.getTestDefine().getTestParts()[0].getAssessmentSections().filter(function(e){return e._identifier===t});if(o.length){o=o[0];var s=this._getToolSet(o,n),r=e.slice();return this._calculatePreloadFiles(r,s,i.itemApip)}return e},t.prototype._getToolSet=function(e,t){var n=t.getToolset();return $.isEmptyObject(n)&&(n=e.getToolset()),n},t.prototype.fileArrayToObject=function(e){for(var t={paths:{par:"",js:"",tools:""}},n=0;n<e.length;n++){var i=e[n].split("/"),o=i.pop(),s=i.join("/")+(i.length>1?"/":"");t[o]={include:!0,path:s},!t.paths.par&&o.indexOf(".par")>-1?t.paths.par=s:t.paths.tools&&t.paths.js||!(s.indexOf("public/javascripts/")>-1)||(s.indexOf("public/javascripts/tools/")>-1?(t.paths.tools=s,t.paths.js=s.substring(0,s.indexOf("tools"))):(t.paths.js=s,t.paths.tools=s+"tools/"))}return t},t.prototype.fileObjectToArray=function(e){""===e.paths.par&&(e.paths.par="http://"+window.location.host+"/client/"),""===e.paths.js&&(e.paths.js=e.paths.par+"public/javascripts/"),""===e.paths.tools&&(e.paths.tools=e.paths.js+"tools/");var t=[];for(var n in e)e[n].include===!0&&("par"===e[n].path?e[n].path=e.paths.par:"js"===e[n].path?e[n].path=e.paths.js:"tools"===e[n].path&&(e[n].path=e.paths.tools),t.push(e[n].path+n));return t},t.prototype._switchPar=function(e){switch(e){case 5:case 6:case 7:case 9:case"scientific":case 10:case"four-function":case 11:case 12:case"five-function":case 14:case 15:case 19:case 20:case 21:case 9001:case 9002:return"tools_noTi.par";case 13:case"ti-84 graphing":return"ti84.par";case 16:case"ti-30 scientific":return"ti30.par";case 17:case"ti-108 basic":return"ti108.par";case 22:case"desmosFourFunction":case 23:case"desmosGraphing":case 24:case"desmosScientific":return"desmos.par";case 26:return"dynamic-tts.par";case 27:case"mw-elementary":case 28:case"mw-intermediate":case 29:case"mw-highschool":case 30:case"mw-spanish":return"dictionary.par";default:return"tools_noTi.par"}},t.prototype._switchLib=function(e){switch(e){case 5:case 6:case 7:case 11:case 19:case 20:case 21:return"measurementToolbox-lib.js";case 9:case"scientific":case 10:case"four-function":case 12:case"five-function":return"calculatorToolbox-lib.js";case 14:return"answereliminator-lib.js";case 15:return"highlightertool-lib.js";case 9001:return"notepad-lib.js";case 13:case"ti-84 graphing":case 16:case"ti-30 scientific":case 17:case"ti-108 basic":return"ticalccontroller-lib.js";case 22:case"desmosFourFunction":case 23:case"desmosGraphing":case 24:case"desmosScientific":return"desmos-lib.js";case 26:return"sbtts.js";case 27:case"mw-elementary":case 28:case"mw-intermediate":case 29:case"mw-highschool":case 30:case"mw-spanish":return"dictionary-lib.js";default:return""}},t.prototype._switchId=function(e){switch(e){case 9:case"scientific":return 9;case"four-function":return 10;case 12:case"five-function":return 12;case"ti-84 graphing":return 13;case"ti-30 scientific":return 16;case"ti-108 basic":return 17;case"desmosFourFunction":return 22;case"desmosGraphing":return 23;case"desmosScientific":return 24;case"dynamic-tts":return 26;case"mw-elementary":return 27;case"mw-intermediate":return 28;case"mw-highschool":return 29;case"mw-spanish":return 30}},t.prototype._calculatePreloadFiles=function(t,n,i){t=this.filterSBACFilesBasedOnPNP(t);var o=$.extend(!0,{},this.DEFAULT_TOOLS),s=this.fileArrayToObject(t);o=this.pickToolsFromToolset(o,n),o=this.pickCalculatorsFromPNP(o,e.getCalculators()),o=this.pickDictionariesFromPNP(o,e.getDictionaries()),o=this.pickDTTSFromPNP(o,e.getTTS()),o=this.pickTTSFromPNP(o,s,e.getTTS());var r=this.toolsToFiles(o,$.extend(!0,{},this.DEFAULT_FILES)),a=$.extend(!0,{},s,r);return o.TTS===!1?a=this.pickTTSAudioFiles(a,e.getTTS(),i,!0):this._ttsPreloadAll&&!this._disableTTSPreload()||(a=this.pickTTSAudioFiles(a,e.getTTS(),i,!1)),this.fileObjectToArray(a)},t.prototype.toolsToFiles=function(e,t){for(var n in this.DEFAULT_FILES){for(var i=this.DEFAULT_FILES[n].tools,o=!1,s=Object.keys(e),r=0;r<i.length;r++)s.indexOf(i[r].toString())>-1&&(o=o||e[i[r]]);t[n]?t[n].include=o:o===!0&&(t[n]={include:o})}return t},t.prototype.pickToolsFromToolset=function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=!0;return e},t.prototype._switchCalcType=function(e){switch(e){case"scientific":case"four-function":case"five-function":return"tn8";case"ti-84 graphing":case"ti-30 scientific":case"ti-108 basic":return"ti";case"desmosFourFunction":case"desmosGraphing":case"desmosScientific":return"desmos"}},t.prototype.pickCalculatorsFromPNP=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e[this._switchId(i.type)]=i.assignedSupport}return e},t.prototype.pickDictionariesFromPNP=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e[this._switchId(i.type)]=i.assignedSupport}return e},t.prototype.pickDTTSFromPNP=function(e,t){if(t){var n=this._switchId(t.type);26===n&&(e[n]=t.assignedSupport)}return e},t.prototype.pickTTSFromPNP=function(e,t,n){var i;return n&&"dynamic-tts"!==n.type&&(i=n.assignedSupport),e[26]===!0&&(i=!1),t["jwplayer.js"]&&t["jwplayer.js"].include===!0&&t["texttospeech-lib.js"]&&t["texttospeech-lib.js"].include===!0&&(i=!0),e.TTS=i,e},t.prototype.pickTTSAudioFiles=function(e,t,n,i){for(var o=this._getFilesFromAPIP(t,n),s=0;s<o.remove.length;s++)e[o.remove[s]]&&(e[o.remove[s]].include=!1);if(i)for(var s=0;s<o.include.length;s++)e[o.include[s]]&&(e[o.include[s]].include=!1);if(this._disableTTSPreload())for(var s=0;s<o.include.length;s++)e[o.include[s]]&&!o.include[s].match(".xml$")&&(e[o.include[s]].include=!1);return e},t.prototype.filterSBACFilesBasedOnPNP=function(t){var n,i={filterKeywordTranslation:!0,filterGlossaryIllustrations:!e.checkforOnScreenIllustration(),filterASLFiles:!e.getAsl(),filterBrailleFiles:!0},o=i.filterKeywordTranslation,s=i.filterGlossaryIllustrations,r=i.filterASLFiles,a=i.filterBrailleFiles,l=e.getKeywordLang();return l&&(n=TN8.utils.getSBACKeywordLanguages()[l].toLowerCase()),t.filter(function(e){if(o)if(l&&"en"!==l){if(e.indexOf("_glossary_ogg_m4a")>-1&&e.indexOf(n)===-1)return!1}else if(e.indexOf("_glossary_ogg_m4a")>-1||e.indexOf("sbaudio.js")>-1)return!1;return(!s||!(e.indexOf("_illustration_glossary")>-1||e.match(/item_.*graphic/)))&&((!r||!(e.indexOf("_asl")>-1||e.indexOf("_ASL")>-1||e.indexOf("aslvideo")>-1))&&(!a||!(e.indexOf(".brf")>-1||e.indexOf(".prn")>-1||e.indexOf("sbbraille")>-1)))})},t.prototype._getFilesFromAPIP=function(e,t){var n,i={include:[],remove:[]};try{n=JSON.parse(t)}catch(e){return i}if(!(n&&n.accessibilityInfo&&n.inclusionOrder&&n.accessibilityInfo.accessElements))return i;var o;if(o=e&&e.userSpokenPreference&&"TEXTONLY"===e.userSpokenPreference.toUpperCase()?n.inclusionOrder.textOnlyDefaultOrder:n.inclusionOrder.textGraphicsDefaultOrder,!o||!o.elementOrders||!o.elementOrders.length>0)return i;var s=[];o.elementOrders.forEach(function(e){e.order<3&&s.push(e.identifierRef)});var r=this._ttsMediaRegex;return n.accessibilityInfo.accessElements.forEach(function(e){e.relatedElementInfo.spoken&&e.relatedElementInfo.spoken.audioFileInfo&&e.relatedElementInfo.spoken.audioFileInfo.length>0&&e.relatedElementInfo.spoken.audioFileInfo.forEach(function(t){var n=t.fileHref.match(r);n&&n[0]&&(s.indexOf(e.identifier)>-1||"xml"===n[4]?i.include.push(n[0]):i.remove.push(n[0]))})}),i},t.prototype.pickItemBodyScriptLibs=function(e,t){for(var n=JSON.parse(t),i=[],o=0;o<n.length;o++){var s=n[o].src.split("/"),r=s[s.length-1];e[r]&&e[r].include===!1||i.push(n[o])}return JSON.stringify(i)},new t}),define("views/LoginInterimView",["javascripts/backbone-min","views/login","utils","text!tpl/initCombined.html","util/Dispatcher","tools/version","util/secureErrors","controllers/ApplicationStatusController"],function(e,t,n,i,o,s,r,a){"use strict";var l=t.extend({thisClassName:"LoginInterim",initialize:function(){_.bindAll(this),this.el=document.getElementById("content"),this.$el=$(this.el),this._status="login",this._originUrlQueue=[],this._urlLoadByView=!1,TestEngine.addListener(TestEngine.constructor.APP_OUTDATED,this.handleAppOutdated,this),TestEngine.appOutdated&&this.handleAppOutdated(),this.applicationStatusInit(),TN8.fnOn("inform.proxyFailure",this._proxyFailureHandler),$(document).off("performLogin",this.handleLogin).on("performLogin",this.handleLogin)},getLoginFrameUrl:function(){return"true"===TN8.Application.config.oauthlogin?this._loginFrameUrl="https://s3.amazonaws.com/interim-tn8-testui/loginFrame.html":this._loginFrameUrl=TN8.Application.config.oauthlogin,this._loginFrameUrl},events:{},setStatus:function(e){this._status=e},displayError:function(e,t,n){this.errorStatusChangeIdle();var i="<sub> "+$.i18n.t("errorMessages:msg").toUpperCase()+" "+t+"</sub>",n="<p>"+n+"</p>"+i;$("#loginFrame")[0].contentWindow.postMessage({command:"error",msg:n,type:"authError"},this._currentFrameUrl)},_proxyFailureHandler:function(){$("#loginFrame")[0].contentWindow.postMessage({command:"error",msg:"",type:"growlError"},this._currentFrameUrl)},reload:function(){this.reset(),this.render()},devCode:function(){var e=this;"login"===this._status?(this._logoutUrl=null,(/http[s]?:\/\/dev[\d]+/.test(window.location.href)||/http[s]?:\/\/localhost\//.test(window.location.href))&&($("<button>",{id:"testnavLoginBtn",text:"Click on this button to go to Testnav Login (Non SSO)",css:{margin:"40px 0px 20px"}}).appendTo("#content"),$("#testnavLoginBtn").on("click",function(){TN8.Application.config.oauthlogin=void 0,e.logs&&e.logs.destroy(),$("#content").empty(),$(document).off("tn.login.error",this.displayError),$(document).off("Inform.error",this.errorStatusChangeIdle),$(document).off("tn.navigate.home  inform.selectTestDone",this.detachErrorHandlers),$(document).off("performLogin",this.handleLogin),$(document).off("inform.proxyFailure",this._proxyFailureHandler),$(document).trigger("perform.exitApplication"),$(document).trigger("perform.logoutCleanup"),$(document).trigger("tn.navigate.logout"),$(document).trigger("tn.route.to","login")}),$("<button>",{id:"testnavCognitoBtn",text:"Cognito (SSO)",css:{margin:"40px 0px 20px"}}).appendTo("#content"),$("#testnavCognitoBtn").on("click",function(){e._currentFrameUrl="https://s3.amazonaws.com/interim-tn8-testui/cognitolaunch.html",$("#loginFrame").attr("src",e._currentFrameUrl),e._originUrlQueue.push(e.getOrigin(e._currentFrameUrl)),e._loginFrameUrl=e.getOrigin(e._currentFrameUrl)}))):"logout"===this._status&&(this._logoutUrl.indexOf("clever")!==-1?this.urlType="clever":this.urlType="other")},getLogoutUrl:function(){return this._logoutUrl||(this._loginFrameUrl&&this._loginFrameUrl.indexOf("?")!=-1?this._logoutUrl=this._loginFrameUrl+"&true":this._logoutUrl=this._loginFrameUrl+"?true"),this._logoutUrl},getOrigin:function(e){var t=document.createElement("a");return t.href=e,t.origin},render:function(){window.TestEngine.checkForSecureMode()&&$(document).trigger("tn.loadingModal.on");this.getAllVersions();$("#content").empty();var e;return"login"===this._status?e=this.getLoginFrameUrl():"logout"===this._status&&(e=this.getLogoutUrl()),this.devCode(),this.attachErrorHandlers(),"logout"!==this._status&&this.proceedWithQuery(),"logout"!==this._status&&(TestEngine.isChromeApp()||TestEngine.isAndroidApp())&&this.createLogView(),$(document).off("tn.page.retry",$.proxy(this.reload,this)).on("tn.page.retry",$.proxy(this.reload,this)),$(window).on("message",$.proxy(this.onFrameMessage,this)),$("<iframe>",{id:"loginFrame",frameborder:0,width:"100%",height:"100%",allow:"camera; microphone;"}).appendTo("#content"),$("#loginFrame").css("height",n.getViewPortSize().height-$("#loginFrame").offset().top-25),$(document).trigger("tn.loadingModal.on"),this.iframeLoadError=setTimeout($.proxy(this.frameLoadFailure,this),15e3),$("#loginFrame").on("load",$.proxy(this.addListeners,this)),$("#loginFrame").on("remove",$.proxy(this.reset,this)),console.log("[LoginInterimView] load url"+e),TN8.log("[LoginInterimView] load url"+e,TN8.CRITICAL),this._urlLoadByView=!0,$("#loginFrame").attr("src",e),this},frameLoadFailure:function(e){return"logout"===this._status?void $(document).trigger("afterInterimLogout"):void TN8.throw("Frame url failed to load "+this._loginFrameUrl,TN8.errorType.PAGE_LOAD_RETRY)},getAllCombindationsForKey:function(e){var t=new Array;return t.push({ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:e,which:e}),t.push({ctrlKey:!0,shiftKey:!1,altKey:!1,keyCode:e,which:e}),t.push({ctrlKey:!1,shiftKey:!0,altKey:!1,keyCode:e,which:e}),t.push({ctrlKey:!1,shiftKey:!1,altKey:!0,keyCode:e,which:e}),t.push({ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:e,which:e}),t.push({ctrlKey:!1,shiftKey:!0,altKey:!0,keyCode:e,which:e}),t.push({ctrlKey:!0,shiftKey:!1,altKey:!0,keyCode:e,which:e}),t.push({ctrlKey:!0,shiftKey:!0,altKey:!0,keyCode:e,which:e}),t},buildKeyEvents:function(){var e={};e.relayKeys={},e.blockKeys={},e.relayKeys.keydown=[],e.blockKeys.keydown=[];var t={ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:90,which:90},n={ctrlKey:!0,shiftKey:!0,altKey:!1,keyCode:168,which:168};return e.relayKeys.keydown.push(t),e.blockKeys.keydown.push(n),e.blockKeys.keydown=e.blockKeys.keydown.concat(this.getAllCombindationsForKey(166)),e},addListeners:function(e){if("clever"===this.urlType&&"logout"===this._status)return clearTimeout(this.iframeLoadError),void $(document).trigger("afterInterimLogout");console.log("[LoginInterimView] Came in addListener"+this._loginFrameUrl),TN8.log("[LoginInterimView] Came in addListener"+this._loginFrameUrl,TN8.CRITICAL);
var t=this;setTimeout(function(){if(t._urlLoadByView){var e;(TestEngine.isChromeApp()||TestEngine.isAndroidApp())&&(e=t.buildKeyEvents()),$("#loginFrame")[0].contentWindow.postMessage({command:"parentInfo",url:window.location.origin,isBrowser:!TestEngine._isAppMode(),keyEvents:e},t._loginFrameUrl),t._urlLoadByView=!1}},0)},reset:function(){$("#loginFrame").off("load",$.proxy(this.addListeners,this)),$("#loginFrame").off("remove",$.proxy(this.reset,this)),$(window).off("message",$.proxy(this.onFrameMessage,this)),clearTimeout(this.iframeLoadError)},onFrameMessage:function(e){if("registerPage"===e.originalEvent.data.command){if(this._currentFrameUrl=e.originalEvent.data.url,this._originUrlQueue.push(this.getOrigin(e.originalEvent.data.url)),e.originalEvent.data.logoutUrl&&(this._logoutUrl=e.originalEvent.data.logoutUrl),e.originalEvent.data.passParentInfo===!0){var t;(TestEngine.isChromeApp()||TestEngine.isAndroidApp())&&(t=this.buildKeyEvents()),$("#loginFrame")[0].contentWindow.postMessage({command:"parentInfo",url:window.location.origin,isBrowser:!TestEngine._isAppMode(),keyEvents:t},this._currentFrameUrl)}return clearTimeout(this.iframeLoadError),$(document).off("tn.page.retry",$.proxy(this.reload,this)),void $(document).trigger("tn.loadingModal.off")}if(this._originUrlQueue.indexOf(this.getOrigin(e.originalEvent.origin))!==-1&&("loginCredentials"===e.originalEvent.data.command||"logout"===e.originalEvent.data.command||"relayKeys"===e.originalEvent.data.command)){if("logout"===e.originalEvent.data.command)return void $(document).trigger("afterInterimLogout");if("loginCredentials"===e.originalEvent.data.command){TestEngine.getNativeComponent()&&TestEngine.getNativeComponent().hideWindowPopup();var n=null;e.originalEvent.data.hasOwnProperty("username")&&e.originalEvent.data.hasOwnProperty("password")?n={user:e.originalEvent.data.username,pass:e.originalEvent.data.password}:e.originalEvent.data.hasOwnProperty("loginToken")&&(n={loginToken:e.originalEvent.data.loginToken});var i="string"==typeof n.user?"student":"loginToken";s.check(this.engineAuth.bind(this,n,i),this.versionFail)}if("relayKeys"===e.originalEvent.data.command){var o=$.Event(e.originalEvent.data.event.type);o.ctrlKey=e.originalEvent.data.event.ctrlKey,o.shiftKey=e.originalEvent.data.event.shiftKey,o.altKey=e.originalEvent.data.event.altKey,o.which=e.originalEvent.data.event.which,o.keyCode=e.originalEvent.data.event.keyCode,$("body").trigger(o)}}}});return l}),define("controllers/ExtensionsController",[],function(){"use strict";var e=function(){this.extensionUrl="https://extensions-dev.testnav.com/extensions/",this.INSTALL_SUCCESS="INSTALL_SUCCESS",this.INSTALL_FAIL="INSTALL_FAIL",this.UNINSTALL_SUCCESS="UNINSTALL_SUCCESS",this.UNINSTALL_FAIL="UNINSTALL_FAIL",this.VIEW_LOGIN_TYPE="loginView",window.testnavExtensions=this};return e.prototype.init=function(e,t){t&&t.trim().length>0&&(this.extensionUrl=t,this.extensionUrl.lastIndexOf("/")!==this.extensionUrl.length-1&&(this.extensionUrl=this.extensionUrl+"/")),TN8.fnOn("tn.navigate.logout inform.testSubmitted",$.proxy(this.destroy,this)),this._extensionContainer={},this.manifestArr=[],this._currentManifestObj=null,this._currentExtension=null,this.extensionTemplate=null,this._extPathToFilter=this.getUrlParameter("extPath"),this.extensionTemplate=e},e.prototype.loadManifests=function(){var e=this;$.get(this.getNonCachableFileName(this.extensionUrl+"extension-info.json"),function(t){$.each(t.extensions,function(t,n){var i=n;e.manifestArr.push(e.extensionUrl+i.path)}),console.log("calling loadExtension top"),e.loadExtensions()}).fail(function(){e.onConnectionError()})},e.prototype.loadExtensions=function(){var e=this;if(0===this.manifestArr.length)return void this.buildExtensionsPage();var t=this.manifestArr.pop();$.get(this.getNonCachableFileName(t+"/manifest.json"),function(n){e._currentManifestObj=n,console.log(" that._currentManifestObj.name "+e._currentManifestObj.name);var i=t.substring(e.extensionUrl.length);e._currentManifestObj.path=i,e.loadMainScript(i+"/"+n.scripts.mainScript)}).fail(function(){e.onConnectionError()})},e.prototype.loadMainScript=function(e){var t=this,n=function(){console.log(" node.id mainscript onscriptload"+t._currentManifestObj)},i=function(){console.log("main script failed"),t._currentManifestObj._mainScriptId=void 0,t.onConnectionError()},o=this.createScriptNode(n,i);t._currentManifestObj._mainScriptObj={id:o.id,url:this.extensionUrl+e},o.src=this.getNonCachableFileName(this.extensionUrl+e),document.getElementsByTagName("head")[0].appendChild(o)},e.prototype.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))},e.prototype.buildExtensionsPage=function(){var e=this,t=$("<div class='extTable'>");$.each(this._extensionContainer,function(n,i){if(e._extPathToFilter&&i.path!==e._extPathToFilter)return!0;var o=$("<div class='extTableRow'>"),s=$("<div class='extTableCell'>"),r=$("<div class='extTableCell'>"),a=$("<div class='extTableCell' style='text-align: left'>");s.css("width","22.5%"),r.css("width","55%"),r.css("vertical-align","top"),a.css("width","22.5%"),a.css("vertical-align","top");var l=$(e.extensionTemplate()),c=$(".extName",l);c.html(i.manifestObj.name);var u=$(".author",l);u.html($.i18n.t("extension:extOfferedBy")+i.manifestObj.author);var d=$(".description",l);d.html(i.manifestObj.description);var h=$('<img class="extImg" />');s.append(h);var p=$('<button class="btn btn-primary instBtn"></button>');p.html($.i18n.t("extension:extInstallLabel")),r.append(l),a.append(p);var f=e.extensionUrl+i.path+"/"+i.manifestObj.icons.medium;h.attr("src",f),p.on("click",function(){e.setCurrentExtension(i),e.addListener(e.INSTALL_SUCCESS,$.proxy(e.onInstallSucess,e,i,p)),e.addListener(e.INSTALL_FAIL,$.proxy(e.onInstallFail,e,i)),$(document).trigger("tn.loadingModal.on"),i.extObj.installExtension()}),o.append(s),o.append(r),o.append(a),t.append(o)}),$("#extensionsCont").append(t),$(document).trigger("tn.progressBar.off"),$(document).trigger("tn.loadingModal.off")},e.prototype.onInstallSucess=function(e,t){e.installed=!0,t.attr("disabled",!0),this.removeListener(this.INSTALL_SUCCESS,$.proxy(this.onInstallSucess,this,e,t)),this.removeListener(this.INSTALL_FAIL,$.proxy(this.onInstallFail,this,e)),$("#successmsg").html($.i18n.t("extension:extAddedLabel")+" "+e.manifestObj.name),this.showExtensionInstallCompletePage()},e.prototype.onInstallFail=function(e){console.log("INSTALL FAIL called"),e.installed=!1,this.cleanUpExtension(e),this.hideDisplayView(),$(document).trigger("tn.loadingModal.off"),this.removeListener(this.INSTALL_SUCCESS,$.proxy(this.onInstallSucess,this,e,installbtn)),this.removeListener(this.INSTALL_FAIL,$.proxy(this.onInstallFail,this,e))},e.prototype.getCurrentExtension=function(){return this._currentExtension},e.prototype.setCurrentExtension=function(e){this._currentExtension=e},e.prototype.registerExtension=function(e){this._extensionContainer[this._currentManifestObj.name]={extObj:e,scripts:[]},this._extensionContainer[this._currentManifestObj.name].manifestObj=this._currentManifestObj,this._extensionContainer[this._currentExtensionName],console.log(" node.id mainscript register extension "+this._currentManifestObj._mainScriptId),this._extensionContainer[this._currentManifestObj.name].scripts.push(this._currentManifestObj._mainScriptObj),this._extensionContainer[this._currentManifestObj.name].path=this._currentManifestObj.path,this.loadExtensions()},e.prototype.executeScript=function(e,t,n){if(e.code){var i=this.createScriptNode();i.textContent=e.code,document.getElementsByTagName("head")[0].appendChild(i),this.getCurrentExtension().scripts.push({id:i.id,code:e.code}),t()}else this.loadScriptFiles(e.files,t,n)},e.prototype.displayView=function(e,t){$(document).trigger("tn.loadingModal.off"),e||(e=this.VIEW_LOGIN_TYPE),console.log(e),$("#extensionsView").empty(),$("#extensionsView").html(t),$("#extensionsView").css("z-index",10),$("#extensionsView").css("height","100%"),$("#extensionsView").css("width",$("#content").css("width")),$("#extensionsView").css("top",$("#content").offset().top+"px"),$("#extensionsView").css("left",$("#content").offset().left+"px"),$("#extensions").hide(),$("#extensionsView").show()},e.prototype.hideDisplayView=function(){$("#extensionsView").hide(),$("#extensions").show(),$(document).trigger("tn.loadingModal.on"),TestEngine.getNativeComponent()&&TestEngine.getNativeComponent().hideWindowPopup()},e.prototype.addListener=function(e,t){TN8.fnOn(e,t)},e.prototype.removeListener=function(e,t){$(document).off(e,t)},e.prototype.trigger=function(e,t){$(document).trigger(e,t)},e.prototype.destroy=function(){$(document).off("tn.navigate.logout inform.testSubmitted",$.proxy(this.destroy,this));var e=this,t=_.filter(e._extensionContainer,function(e){return!0});this.destroyAllExtensions(t)},e.prototype.onUninstallExtension=function(e,t){e.installed=!1,this.removeListener(this.UNINSTALL_SUCCESS,$.proxy(this.onUninstallExtension,this,e)),this.cleanUpExtension(e),this.destroyAllExtensions(t)},e.prototype.destroyAllExtensions=function(e){if(0===e.length)return this._extensionContainer=null,void(this._currentExtension=null);var t=e.pop();if(!t.installed)return this.setCurrentExtension(t),this.cleanUpExtension(t),void this.destroyAllExtensions(e);var n=function(){this.removeListener(this.UNINSTALL_FAIL,$.proxy(n,this)),console.log("UNINSTALL FAILED")};this.addListener(this.UNINSTALL_SUCCESS,$.proxy(this.onUninstallExtension,this,t,e)),this.addListener(this.UNINSTALL_FAIL,$.proxy(n,this)),this.setCurrentExtension(t),t.extObj.uninstallExtension()},e.prototype.destroyInstalledExtension=function(e){var t=function(){e.installed=!1,this.removeListener(this.UNINSTALL_SUCCESS,$.proxy(t,this)),this.cleanUpExtension(e),console.log("UNINSTALL SUccess")},n=function(){this.removeListener(this.UNINSTALL_FAIL,$.proxy(n,this)),console.log("UNINSTALL FAILED")};this.addListener(this.UNINSTALL_SUCCESS,$.proxy(t,this)),this.addListener(this.UNINSTALL_FAIL,$.proxy(n,this)),this.setCurrentExtension(e),e.extObj.uninstallExtension()},e.prototype.cleanUpExtension=function(e){for(var t=e.scripts,n=0;n<t.length;n++){var i=t.pop(),o=document.getElementById(i.id);o.parentNode.removeChild(o),n--}},e.prototype.onConnectionError=function(){TN8.throw("",TN8.errorType.LOST_CONNECTION_IN_TEST)},e.prototype.loadScriptFiles=function(e,t,n){if(0===e.length)return void t();var i,o=e.pop(),s=this;i=0===o.indexOf("http://")||0===o.indexOf("https://")?o:s.extensionUrl+this.getCurrentExtension().path+"/"+o;var r=function(){s.getCurrentExtension().scripts.push({id:l.id,url:i}),s.loadScriptFiles(e,t,n)},a=function(){s.onConnectionError()},l=this.createScriptNode(r,a);l.src=this.getNonCachableFileName(i),document.getElementsByTagName("head")[0].appendChild(l)},e.prototype.createScriptNode=function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.charset="utf-8",n.async=!0,n.id="Id"+(new Date).getTime(),e&&n.addEventListener("load",e,!1),t&&n.addEventListener("error",t,!1),n},e.prototype.getNonCachableFileName=function(e){return e+"?v="+(new Date).getTime()},e.prototype.showExtensionInstallCompletePage=function(){this.hideDisplayView(),$("#extensionInstall").hide(),$("#extInstComplete").show(),$(document).trigger("tn.loadingModal.off")},new e}),define("views/ExtensionsView",["javascripts/backbone-min","text!tpl/initCombined.html","util/Dispatcher","controllers/ApplicationStatusController","controllers/ExtensionsController"],function(e,t,n,i,o){"use strict";var s=e.View.extend({thisClassName:"Extensions",status:{NAVIGATING:1,IDLE:2},manifestArr:[],extensionUrl:"https://interim-tn8-testui.s3.amazonaws.com/extensions/",_extensionContainer:{},_currentManifestObj:null,_currentExtPath:null,_extensionUrl:null,_selectedExtensionKey:null,INSTALLED:"INSTALLED",UNINSTALLED:"UNINSTALLED",initialize:function(){_.bindAll(this),this.el=document.getElementById("content"),this.$el=$(this.el),this.template=_.template($(t).filter("#extensionstemplate").html())},setExtensionUrl:function(e){this._extensionUrl=e},continueToTest:function(){$(document).off("navigate.logoutTest",$.proxy(this.logoutTest,this)),$(document).trigger("navigate.afterExtension")},logoutTest:function(){$(document).trigger("tn.route.to","logout")},showExtensionInstallPage:function(){$("#extensionInstall").show(),$("#extInstComplete").hide()},render:function(){var e=_.template($(t).filter("#extensiontemplate").html()),n=_.template($(t).filter("#extensionsviewtemplate").html());o.init(e,this._extensionUrl),$("#content").empty(),$(this.template()).appendTo("#content"),$(n()).appendTo("#content"),TN8.fnOn("navigate.logoutTest",$.proxy(this.logoutTest,this)),$("#addExtension").on("click",$.proxy(this.showExtensionInstallPage,this)),$("#extContinue").on("click",$.proxy(this.continueToTest,this));var e=_.template($(t).filter("#extensiontemplate").html());return o.loadManifests(),this}});return s}),define("util/tabRing",["javascripts/jquery"],function(){function e(e){var t=$(":tabbable",e);return t.length?t:$('[tabindex="-1"]',e)}var t=[],n=function(e,t,n){if(e.shiftKey){var i=$(":tabbable",t);i[i.length-2].focus()}else{var i=$(":tabbable",t);i[0].focus()}};$(document).on("focusout",function(){setTimeout(function(){t.length&&!t[0].$el[0].contains(document.activeElement)&&e(t[0].$el)[0].focus()},0)}),$.fn.tabRing=function(i){for(var o=this,s=-1,r=0;r<t.length;r++)t[r].$el[0]===o[0]&&(s=r);if(i&&s>-1)o.off("keydown",t[s].tabWrap),o.data("tabRing","off"),t.splice(s,1);else if(!i&&s==-1){o.data("tabRing","on");var a=null,l=function(t){if(9==t.which){a&&t.originalEvent&&t.originalEvent.repeat||(a=e(o));var i=a.index(document.activeElement),s=t.shiftKey?0:a.length-1,r=t.shiftKey?a.length-1:0;if(i>-1&&i==s)return a[r].focus(),!1;$("#lastTabbable").off("focus",$.proxy(n,this,{e:t,$el:o})).one("focus",$.proxy(n,this,t,o))}};t.unshift({$el:o.keydown(l),tabWrap:l})}return t=t.filter(function(e){return document.body.contains(e.$el[0])}),o},$(document.body).tabRing()}),define("main",["require","TestEngine","javascripts/backbone-min","utils","views/login","views/header","models/HeaderModel","controllers/ApplicationStatusController","util/registerCallbacks","controllers/CleanupController","tools/StartupListener","util/Waiter","util/EngineInterface","views/LoginInterimView","views/ExtensionsView","util/Dispatcher","util/tabRing"],function(e,t,n,i,o,s,r,a,l,c,u,d,h,p,f){"use strict";function g(e){var t={userInfo:e.userInfo,headerMode:0};e.headerModel=new r(t),e.headerView=new s({model:e.headerModel}),e.headerView.render()}n.View.prototype.close=function(){this.beforeClose&&this.beforeClose(),this.remove(),this.unbind()};var r=e("models/HeaderModel"),s=e("views/header"),m=(e("util/Dispatcher"),n.Router.extend({initialize:function(){this.testEngine=new t.TestEngine.Engine,TN8.apip={},TN8.equationEditors=[],TN8.utils=i,this.error=e("tools/error"),window.qtiCustomInteractionContext={},this.clientVersion="8.14.757",window.istanbulTest&&(window.TN8.Application=this,!this.secondPriorityRequested&&this.LoadSecondPriorityLibs())},postInitialization:function(){window.TestEngine.getIsStandalone&&window.TestEngine.getIsStandalone()&&(console.log("STANDALONE MODE"),e(["../lib/mockEngine"],function(e){})),TestEngine.addListener(TestEngine.constructor.MIDDLE_FILES_COMPROMISED,this.handleMiddleFilesCompromised,this),TestEngine.removeListener(TestEngine.constructor.APP_CRASHED,this.handler_appCrashed),TestEngine.addListener(TestEngine.constructor.APP_CRASHED,this.handler_appCrashed,this),this.thisClassName="main",this.CONTENT_ITEM="item",this.CONTENT_TEST_END="endtest",this.CONTENT_TEST_START="teststart",this.CONTENT_AVAILABLE_TESTS="availableTests",this.CONTENT_AVAILABLE_PARTS="availableParts",this.CONTENT_SETTINGS="settings",this.CONTENT_SECTION_END="endSection",this.CONTENT_SECTION_START="startSection",this.CONTENT_LOGIN="login",this.CONTENT_LOGOUT="logout",this.CONTENT_PRACTICETEST="practiceTest",this.CONTENT_APPCHECK="appCheck",this.CONTENT_EPATREPORT="epatReport",this.CONTENT_EXTENSIONS="extensions",this.previousContent=null,TN8.TN_CSS_LINK="tn_css_link",TN8.TOOLS_CSS_LINK="tools_css_link",_.bindAll(this,"logoutAfterLostFocusParent"),_.bindAll(this,"logoutAfterExitWithoutAskingParent"),_.bindAll(this,"logoutAfterLostFocusChild"),_.bindAll(this,"getItem"),_.bindAll(this,"routeTo"),_.bindAll(this,"SecondPriorityLoaded"),_.bindAll(this,"needSetupListerLibLoaded"),_.bindAll(this,"renderLogin"),_.bindAll(this,"addAppInitListener"),this.bind("all",this.onRoute),e(["views/header","models/HeaderModel"],function(e,t){}),this.listenForWhiteListError(),u.listen(),a.subscribeCondition(a.actionNames.SaveItemResponse,this.thisClassName,this.CONTENT_ITEM),this.startEndTestListener(),$(document).off("tn.route.to").on("tn.route.to",this.routeTo),$(document).off("perform.exitApplication").on("perform.exitApplication",this.exitApplication),c.init()},startEndTestListener:function(){TN8.fnOn("tn.test.start",$.proxy(this.registerEvents,this)),TN8.fnOn("cleanup.betweenTest",$.proxy(this.unregisterEvents,this))},registerEvents:function(){$(document).off("tn.header.nav.toItem").on("tn.header.nav.toItem",this.getItem)},unregisterEvents:function(){$(document).off("tn.header.nav.toItem")},listenForWhiteListError:function(){TestEngine.isNativeComponentActive()&&TestEngine.getNativeComponent().addListener("encerror",function(e){TN8.throw(e.data,3023)})},handler_appCrashed:function(){TN8.throw("Device is running out of memory.",TN8.errorType.APP_CRASHED)},handleMiddleFilesCompromised:function(e){TN8.throw(e.data,TN8.errorType.MIDDLE_FILES_COMPROMISED),$(document).trigger("tn.route.to","logout")},onRoute:function(e){e.indexOf("getItem")===-1&&($('div[id^="ascrail"]').remove(),$("#contentExtraScript").empty())},setCurrentContent:function(e){this.previousContent=this.currentContent,this.currentContent=e,a.statusChange("main",e)},updateResumeLocation:function(e){if(e)this.setResumeLocation(TestEngine.getNavigation().getCurrentItem().getIdentifier());else{var t=TN8.TestStateController.getResumeLocation();this.setResumeLocation(t&&t.lastItem)}},setResumeLocation:function(e){TestEngine.getTestDefine()&&$(document).trigger("testState.setResumeLocation",{location:this.currentContent,lastItem:e||void 0})},getCurrentContent:function(){return this.currentContent},setCurrentContentView:function(e){this.currentContentView=e},getCurrentContentView:function(){return this.currentContentView},userInfo:{isLoggedIn:function(){return TestEngine.getAuthentication().getLoginToken()}},mathjaxLoader:{load:function(){if(window.MathJax&&window.MathJax.Hub){var e=document.getElementsByTagName("body")[0];MathJax.Extension.mml2jax.PreProcess(e),MathJax.Extension.tex2jax.PreProcess(e),MathJax.Hub.Process(e)}}},routeViews:["home","login","logout","refreshForms","settingsPage","test","endtest","endSection","startSection","practiceTest","epatReport","exited","appCheck"],routeTo:function(e,t){if($.inArray(t,this.routeViews)!==-1){if("login"===t&&TN8.Application.config&&TN8.Application.config.oauthlogin)return void this.loginInterim.call(this);if("logout"===t&&TN8.Application.config&&TN8.Application.config.oauthlogin)return void this.logoutInterim.call(this);this[t].call(this)}},loginInterim:function(){TestEngine._isAppMode()&&$(document).trigger("perform.loginCookieCleanup"),this.appInitTimer=null;var e=TestEngine._isAppMode&&TestEngine._isAppMode(),t=function(){this.appInitTimer&&clearTimeout(this.appInitTimer),$(document).trigger("tn.loadingModal.off"),this.setCurrentContent(this.CONTENT_LOGIN),this.setCurrentContentView(this.loginInterimView),this.headerModel||g(this),this.loginInterimView=this.loginInterimView||new p,this.headerModel.set({headerMode:0,renderTrick:Math.random()}),this.loginInterimView.setStatus("login"),this.loginInterimView.render(),$(document).trigger("tn.navigate.login"),!this.secondPriorityRequested&&this.LoadSecondPriorityLibs(this.loginInterimView.proceedWithQuery)};e?(console.log("[AutoDebug] main.js addAppInitListener: waiting for app intialized"),TN8.log("[AutoDebug] main.js addAppInitListener: waiting for app intialized",TN8.CRITICAL),TestEngine.addListener(TestEngine.constructor.APP_INITIALIZED,$.proxy(t,this)),TestEngine.getNativeComponent()&&TestEngine.getNativeComponent().hasAppInitialized()?(console.log("[AutoDebug] main.js addAppInitListener: app already initialized"),TN8.log("[AutoDebug] main.js addAppInitListener: app already initialized",TN8.CRITICAL),TestEngine.removeListener(TestEngine.constructor.APP_INITIALIZED,$.proxy(t,this)),t.call(this)):(console.log("[AutoDebug] main.js addAppInitListener: adding timeout for 3096 error; is app already initialized? "+TestEngine.getNativeComponent().hasAppInitialized()),TN8.log("[AutoDebug] main.js addAppInitListener: adding timeout for 3096 error; is app already initialized? "+TestEngine.getNativeComponent().hasAppInitialized(),TN8.CRITICAL),this.appInitTimer=setTimeout(function(){TestEngine.getNativeComponent()&&!TestEngine.getNativeComponent().hasAppInitialized()&&TN8.throw("Application Initialization Failed",TN8.errorType.APP_INITIALIZATION_FAILED)}.bind(this),12e4))):t.call(this)},logoutInterim:function(){$(document).on("afterInterimLogout",$.proxy(this.logout,this)),this.loginInterimView.setStatus("logout"),this.loginInterimView.render()},renderLogin:function(e){console.log("[AutoDebug] main.js render: on callback? "+(!!e&&JSON.stringify(e))),TN8.log("[AutoDebug] main.js render: on callback? "+(!!e&&JSON.stringify(e)),TN8.CRITICAL),this.appInitTimer&&clearTimeout(this.appInitTimer),$(document).trigger("tn.loadingModal.off"),this.setCurrentContent(this.CONTENT_LOGIN),this.setCurrentContentView(this.loginView),this.headerModel||g(this),this.loginView=this.loginView||new o({model:{loading:this.loading}}),this.headerModel.set({headerMode:0,renderTrick:Math.random()}),this.loginView.render(),$(document).trigger("tn.navigate.login"),!this.secondPriorityRequested&&this.LoadSecondPriorityLibs(this.loginView.proceedWithQuery)},login:function(){TestEngine._isAppMode()&&$(document).trigger("perform.loginCookieCleanup"),this.appInitTimer=null;var e=TestEngine._isAppMode&&TestEngine._isAppMode();e?this.addAppInitListener():this.renderLogin()},addAppInitListener:function(){console.log("[AutoDebug] main.js addAppInitListener: waiting for app intialized"),TN8.log("[AutoDebug] main.js addAppInitListener: waiting for app intialized",TN8.CRITICAL),TestEngine.addListener(TestEngine.constructor.APP_INITIALIZED,this.renderLogin),TestEngine.getNativeComponent()&&TestEngine.getNativeComponent().hasAppInitialized()?(console.log("[AutoDebug] main.js addAppInitListener: app already initialized"),TN8.log("[AutoDebug] main.js addAppInitListener: app already initialized",TN8.CRITICAL),TestEngine.removeListener(TestEngine.constructor.APP_INITIALIZED,this.renderLogin),this.renderLogin()):(console.log("[AutoDebug] main.js addAppInitListener: adding timeout for 3096 error; is app already initialized? "+TestEngine.getNativeComponent().hasAppInitialized()),TN8.log("[AutoDebug] main.js addAppInitListener: adding timeout for 3096 error; is app already initialized? "+TestEngine.getNativeComponent().hasAppInitialized(),TN8.CRITICAL),this.appInitTimer=setTimeout(function(){TestEngine.getNativeComponent()&&!TestEngine.getNativeComponent().hasAppInitialized()&&TN8.throw("Application Initialization Failed",TN8.errorType.APP_INITIALIZATION_FAILED)}.bind(this),12e4))},LoadSecondPriorityLibs:function(){this.secondPriorityRequested=!0;new d({expectedEvents:3,incomingReadyEvents:"tnCssLoaded libsLoaded loginBtnClicked",outgoingReadyEvents:"performLogin"});$(document).one("libsCssLoaded",$.proxy(this.handleLibsCssLoaded,this));new d({expectedEvents:2,incomingReadyEvents:"tnCssLoaded libsLoaded",outgoingReadyEvents:"libsCssLoaded"});$("<link>",{id:"tn_css_link",rel:"stylesheet",type:"text/css",href:"public/stylesheets/tn.css"}).on("error",function(){TN8.log("test.reloadCSS attaching tn.css failed",TN8.CRITICAL),$(document).trigger("tn.loadingModal.off"),$("#btn-reload-app , .close","#requireError").on("click",function(){window.location.href=window.location.pathname}),window.TestEngine&&window.TestEngine._isAppMode()?($("#requireErrorApp").modal("show").tabRing(),$("#requireErrorApp").find(".modal-focus-anchor").focus(),$(document).trigger("inform.requireError",{num:"3125",msg:"Fatal Error: 3125",errtype:"Fatal"})):($("#requireError").modal("show").tabRing(),$(document).trigger("inform.requireError",{num:"3001",msg:"Fatal Error: 3001",errtype:"Fatal"})),$("#btn-reload-app").focus()}).on("load",function(){$(document).trigger("tnCssLoaded"),$("#preTnCss").remove()}).appendTo("head"),e(["secondPriorityLibs"],$.proxy(this.SecondPriorityLoaded,this))},SecondPriorityLoaded:function(e){$("body").append("<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-33668667-3');ga('send', 'pageview');</script>"),window.TN8.TestStateController=e.TestStateController,window.qtiCustomInteractionContext=e.InteractiveObjectRegister,window.TN8.SupportMediaForm=e.SupportMediaForm,TN8.VariableFactory=e.VariableFactory,this.NavigationController=e.NavigationController,this.testDefProperties=new e.TestDefProperties(window),this.testDefProperties.init();var t=new e.CommandCenter;this.CommandCenter=t.init(),this.ScoreController=e.ScoreController,this.itemController=e.ItemController,this.itemController.set("headerView",this.headerView),this.StartSectionModel=e.StartSectionModel,this.StartSectionView=e.StartSectionView,this.FormModelCollection=e.FormModel,this.TestsView=e.TestsView,this.TestView=e.TestView,this.PartsView=e.PartsView,this.Initializer=e.Initializer,(new e.SleepDetector).init(),(new e.LogFinder).init(),this.DataProvider=e.DataProvider,this.combinedTpl=e.combinedTpl,this.logoutView=new e.LogoutView,this.practiceTestView=new e.PracticeTestView,this.appCheckView=new e.AppCheckView,this.epatReportView=new e.EpatReportView,this.endTestView=new e.EndTestView,this.endSectionView=new e.EndSectionView,this.settings=new e.SettingsModel,this.settingsView=new e.SettingsView({model:this.settings}),e.AuthenticationController.init(),(new e.InactivityTimer).init(),window.TN8.EWSController=e.EWSController,TN8.EWSController.bindEvents(),TestEngine&&TestEngine.registerEwsErrorCallback&&TestEngine.registerEwsErrorCallback(TN8.EWSController.ewsCallback,TN8.EWSController.ewsRetrySucessfull),$(document).trigger("libsLoaded")},logout:function(){$(document).trigger("perform.exitApplication"),this.headerModel||g(this),$(document).trigger("perform.logoutCleanup"),this.setCurrentContent(this.CONTENT_LOGOUT),this.headerModel.set({headerMode:0,renderTrick:Math.random()}),this.setCurrentContentView(this.logoutView),this.logoutView.render(),$(document).trigger("tn.navigate.logout")},home:function(){TestEngine.isChromeApp()||TestEngine.isAndroidApp()||TestEngine.isJXBrowserApp()?TestEngine.getNativeComponent().chooseNewCustomer():window.location.href="http://home.testnav.com/index.html?clear=true"},practiceTest:function(){this.needSetupListerLibLoaded(this.practiceTest)||(this.setCurrentContent(this.CONTENT_PRACTICETEST),this.headerModel.set({headerMode:0,renderTrick:Math.random()}),this.practiceTestView.render())},appCheck:function(){this.needSetupListerLibLoaded(this.appCheck)||($(document).trigger("tn.loadingModal.on"),this.setCurrentContent(this.CONTENT_APPCHECK),this.headerModel.set({headerMode:0,renderTrick:Math.random()}),this.appCheckView.render())},epatReport:function(){this.setCurrentContent(this.CONTENT_EPATREPORT);var e=TestEngine.getNavigation().getCurrentSection().hideSectionReview()?0:4;this.headerModel.set({headerMode:e,renderTrick:Math.random()}),$(document).trigger("tn.loadingModal.on"),this.epatReportView.render()},lostFocusNotify:function(){TN8.log("main.lostFocusNotify",TN8.CRITICAL),this.unregisterEvents();var e="TN8.Application.logoutAfterLostFocusParent",t="TN8.Application.logoutAfterLostFocusChild";$(document).trigger("focuslost"),TestEngine.notifyParentAfterLostFocusSave(e,t)},logoutAfterLostFocusChild:function(){$(document).trigger("TestEngineSaveIncomplete")},logoutAfterLostFocusParent:function(e,t){TN8.throw(e,t),this.logout()},exitWithoutAskingNotify:function(e){TN8.log("main.exitWithoutAskingNotify",TN8.CRITICAL),this.unregisterEvents();var t="TN8.Application.logoutAfterExitWithoutAskingParent",n="TN8.Application.logoutAfterExitWithoutAskingChild";$(document).trigger("exitWithoutAsking"),TestEngine.notifyParentAfterExitWithoutAsking(t,n,e)},logoutAfterExitWithoutAskingChild:function(){$(document).trigger("TestEngineSaveIncomplete")},logoutAfterExitWithoutAskingParent:function(e){TN8.throw(e.message,e.errorType),this.logout()},loadTest:function(e){$(document).trigger("inform.startTestRendering",e),this.dataTestId=e.formId,this.initializer=this.initializer||new this.Initializer,this.initializer.requestTest(e,e.formId),TN8.fnOn("tn.css.ready",$.proxy(this.testLoaded,this))},testLoaded:function(e){if(this.headerModel||g(this),this.headerModel.set({headerMode:0,renderTrick:Math.random()}),e&&e.startTest||!TN8.Application.DataProvider.isMultiPartUser()){var t=TestEngine.getTestDefine().settingsScreen();t?$(document).trigger("tn.route.to","settingsPage"):this.prepStartTest()}else this.availableParts(this.initializer.form),this.currentContentView.render();this.headerModel.trigger("change")},settingsPage:function(){var e=_.escape($.i18n.t("startTest:welcomeMsg",{name:TestEngine.getAuthentication().getRealName()}));this.settings.set("enabled",!0),this.setCurrentContent(this.CONTENT_SETTINGS),this.settingsView.render(e,$.proxy(this.prepStartTest,this))},prepStartTest:function(){this.startTest(this.initializer.form),$(document).trigger("perform.timerRequire",this.currentContentView.render)},startTest:function(e){this.testView=this.testView||new this.TestView,this.setCurrentContent(TN8.Application.CONTENT_TEST_START),this.setCurrentContentView(this.testView),$(document).trigger("tn.navigate.startTest"),TestEngine.registerCallback&&TestEngine.registerCallback("filterDependencies",$.proxy(h.getItemFlavorDependencies,h))},availableParts:function(e){e&&(this.partsView=new this.PartsView($.proxy(this.testLoaded,this))),this.setCurrentContent(TN8.Application.CONTENT_AVAILABLE_TESTS),this.setCurrentContentView(this.partsView),$(document).trigger("tn.navigate.availableParts")},availableTests:function(e,t){this.headerModel||g(this),this.testView=this.testView||new this.TestView,this.testsView=this.testsView||new this.TestsView({testView:this.testView});var n=this.testsView.sortTests(e.concat(t));this.testsView.testCollection=new this.FormModelCollection(n),this.setCurrentContent(TN8.Application.CONTENT_AVAILABLE_TESTS),this.headerModel.set({headerMode:0,renderTrick:Math.random()}),this.testsView.render(),$(document).trigger("tn.navigate.availableTests")},NavigateEngine:function(t){var n=TestEngine.getNavigation().getCurrentTestPart().getItemById(t),i=n.getParent();TestEngine.getNavigation().navigateSection(i),TestEngine.getNavigation().navigateItem(n);var o=i.getIndexOfItem(n),s=i.getNumberOfItems(),r=TestEngine.getTestDefine().itemFeedback();TN8.log("main.NavigateEngine . itemId = "+t,TN8.CRITICAL),this.setCurrentContent(this.CONTENT_ITEM),this.updateResumeLocation(!0),this.setCurrentContentView(e("controllers/ItemController")),this.headerModel.set({headerMode:1,btnShowFlag:"",btnShowOverview:"",itemPosition:o,itemCount:s,itemFeedback:r,renderTrick:Math.random()})},getItem:function(t,n){TN8.log("main.getItem . itemId = "+n,TN8.CRITICAL),this.startSectionView&&(this.startSectionView.destroy(),
this.startSectionView=null),this.headerModel||g(this);var i=function(){function t(e){$(document).trigger("tn.navigate.item"),e.getItem(n)}e(["controllers/ItemController"],t,function(e){requirejs.undef("controllers/ItemController"),$(document).trigger("tn.loadingModal.off"),TN8.throw("Item Controller has failed to load.",TN8.errorType.ITEM_CONTROLLER_FAILED)})};TestEngine.getTestDefine()&&i.call(this)},showCalculator:function(e){this.headerView.showCalculator()},startSection:function(e){TN8.log("main.startSection .",TN8.IMPORTANT),this.headerModel||g(this),this.startSectionModel=new this.StartSectionModel,this.startSectionView=new this.StartSectionView({model:this.startSectionModel}),this.setCurrentContent(this.CONTENT_SECTION_START),this.setResumeLocation(this.getFirstItemIdCurrentSection()),this.setCurrentContentView(this.startSectionView),this.startSectionView.model.set({section:TestEngine.getNavigation().getCurrentSection()}),this.headerModel.set(this.startSectionView.getHeaderModelData()),this.startSectionView.render()},getFirstItemIdCurrentSection:function(){var e=TestEngine.getNavigation().getCurrentSection();return e.getFirstItem().getIdentifier()},endSection:function(){TN8.log("main.endSection .",TN8.IMPORTANT),this.headerModel||g(this),this.setCurrentContent(this.CONTENT_SECTION_END),this.updateResumeLocation(!1),this.setCurrentContentView(this.endSectionView),$(document).trigger("tn.navigate.endSection"),this.headerModel.set(this.endSectionView.getHeaderModelData()),this.endSectionView.render()},endtest:function(){this.headerModel||g(this),this.setCurrentContent(this.CONTENT_TEST_END),this.updateResumeLocation(!1),this.setCurrentContentView(this.endTestView),$(document).trigger("tn.navigate.endTest"),this.headerModel.set(this.endTestView.getHeaderModelData()),this.endTestView.render()},exitApplication:function(){TestEngine.unregisterCallback&&TestEngine.unregisterCallback("filterDependencies",$.proxy(h.getItemFlavorDependencies,h));var e=TestEngine._isAppMode&&TestEngine._isAppMode(),t=TestEngine.getNativeComponent()&&TestEngine.getNativeComponent().isActive();!e&&t&&TestEngine.getNativeComponent().exitApplication()},needSetupListerLibLoaded:function(e){var t=this;return!this.libsCssLoaded&&($(document).trigger("tn.loadingModal.on"),$(document).one("libsCssLoaded",function(){t.libsCssLoaded=!0,e&&e.call(t)}),!0)},handleLibsCssLoaded:function(){this.libsCssLoaded=!0},showExtensionsPage:function(e){this.extensionsView=this.extensionsView||new f,this.setCurrentContent(this.CONTENT_EXTENSIONS),this.setCurrentContentView(this.extensionsView),this.extensionsView.setExtensionUrl(e),TN8.Application.headerModel.trigger("change"),this.extensionsView.render()}}));return m}),define("views/ExitModalView",["javascripts/backbone-min","controllers/TestStateSaver"],function(e,t){"use strict";return e.View.extend({el:'<div id="save-exit-test-modal" class="modal hide in" style="display: none;" aria-live="assertive" role="dialog" aria-label="Exit Test Modal"/>',modalId:"#save-exit-test-modal",events:{},initialize:function(e){_.bindAll(this,"removeModal","processOptions","routeToLogout"),this.render()},render:function(){TN8.Application.itemController.stop(),this.template=_.template($(TN8.Application.combinedTpl).filter("#exittemplate").html());var e=this.getResumeRestrictionInfo();return this.$el.append(this.template(e)).modal({backdrop:"static",keyboard:!1,show:!0}).tabRing(),this.addListeners(),$(document).trigger("deepZoomLayer.getStatus",$.proxy(this._handleDeepZoomStatus,this)),$(document).trigger("tn.exitmodal.show"),this},_handleDeepZoomStatus:function(e){e&&this._doDeepZoomCoupling()},_doDeepZoomCoupling:function(){$(document).trigger("deepZoomLayer.setCoupling",{title:$.i18n?$.i18n.t("exitTestModal:exitTest"):"Exit Test",html:"#save-exit-test-modal",hideCallback:this.removeModal})},addListeners:function(){this.$el.find("#dismissModal").click(this.removeModal),this.$el.find("#returnLater").click(this.processOptions),$(document).on("deepZoomLevel.enter tn.error.modal.on TN8.Application.NavNext TN8.Application.NavPrev",this.removeModal)},getResumeRestrictionInfo:function(){var e={};return e.hasRR=TN8.Application.testDefProperties.hasResumeRestriction(),TN8.Application.testDefProperties._getTestDef()&&(e.RRtime=TN8.Application.testDefProperties._getTestDef().getReviewRestrictionTime()),e},removeModal:function(e,t){$(document).off("deepZoomLevel.enter tn.error.modal.on TN8.Application.NavNext TN8.Application.NavPrev",this.removeModal),this.$el&&this.$el.modal("hide").tabRing("off").remove(),t||$(document).trigger("tn.exitmodal.hide"),$(document).trigger("exitModal.hide")},processOptions:function(e){this.removeModal(null,!0),this.routeToLogout()},routeToLogout:function(){$(document).trigger("navigate.logoutTest")}})}),define("controllers/ExitController",["javascripts/backbone-min","views/ExitModalView","controllers/ApplicationStatusController"],function(e,t,n){"use strict";var i=e.Model.extend({initialize:function(e){_.bindAll(this,"handleExitNavigation","testStarted","testEnded","handleEmergencyExit"),$(document).off("tn.navigate.leaveTest",this.handleExitNavigation).on("tn.navigate.leaveTest",this.handleExitNavigation),$(document).off("navigate.EmergencyExit",this.handleEmergencyExit).on("navigate.EmergencyExit",this.handleEmergencyExit),$(document).off("inform.selectTestDone",this.testStarted).on("inform.selectTestDone",this.testStarted),$(document).off("cleanup.betweenTest",this.testEnded).on("cleanup.betweenTest",this.testEnded)},handleExitNavigation:function(e){e.preventDefault();var n=TN8.Application.currentContent,i=["home","availableTests","logout","login","settings"];this.isWaitingForSave()?TN8.throw("Unable to save response to server. ",3013):_.contains(i,n)?this.isTestStarted?$(document).trigger("TestEngineSaveIncomplete"):$(document).trigger("tn.route.to","logout"):new t},handleEmergencyExit:function(e,t){$(document).trigger("tn.loadingModal.on"),this.isTestStarted?$(document).trigger("TestEngineSaveIncomplete",[!0,t]):$(document).trigger("tn.route.to","logout")},isWaitingForSave:function(){var e=n.getStatus().ItemSaver;return 1===e},testStarted:function(){this.isTestStarted=!0},testEnded:function(){this.isTestStarted=!1}}),o=new i;return o}),define("util/EpatBlocker",[],function(){var e={};return e.on=function(e,t,n){var i=$("#epatReportContainer");if(i.length>0){var o=$('<div id="epatReportBlocker">'),s=$("#scorable-epat-iframe"),r=s.outerWidth(!0),a=s.outerHeight(!0);o.css({"background-color":"rgba(0, 255, 0, 0)",position:"absolute",width:r,height:a,top:0}),i.append(o),e.forEach(function(e){n?o[0].addEventListener(e,t,!0):o.on(e,t)})}},e.off=function(e,t,n){var i=$("#epatReportContainer"),o=$("#epatReportBlocker");i.length>0&&o.length>0&&(n&&e.forEach(function(e){o[0].removeEventListener(e,t,!0)}),o.remove())},e}),define("snitch",[],function(){var e=function(){function e(e){try{var o=n()?u:d;"string"==typeof e&&(e={error:e});try{var r=window.TestEngine&&window.TestEngine.getAuthentication();if(window.TestEngine&&TestEngine.getNativeComponent()&&"TN8Metrics"!==e.event&&(e.isProctor=TestEngine.getNativeComponent().isProxyActive()),r){var a=r.getCurrentForm();e.sessionToken=r.getSessionToken(),e.loginId=r.getLoginId(),e.securityLevel=r.getCurrentForm().getTestSecurityLevel(),e.customerCode=r.getContentCustomerCode(),a&&(e.testName=a.getTestName(),e.testNumber=a.getName(),e.formNumber=a.getNumber())}}catch(e){}if(e.agent=navigator.userAgent,e.unixTimeMillis=(new Date).getTime(),e.where=s(),e.origin=i(),window.TN8&&window.TN8.Application&&(e.cv=window.TN8.Application.clientVersion),window.ga){var l;ga(function(e){l=e.get("clientId")}),e.browserId=l}if(t(e))return;$.ajax({url:o,type:"POST",data:"writeMongo=true&writeSplunk=true&Log="+encodeURIComponent(JSON.stringify(e))})}catch(e){}}function t(e){if(!h)return void(h=e);var t=$.extend(!0,{},e),n=$.extend(!0,{},h),i=t.unixTimeMillis,o=n.unixTimeMillis;return delete t.unixTimeMillis,delete n.unixTimeMillis,h=e,_.isEqual(t,n)&&i-o<p}function n(){var e=i();return e.indexOf("dev")!==-1||e.indexOf("localhost")!==-1}function i(){return window.TestEngine&&TestEngine.isNativeComponentActive()?TestEngine.getNativeComponent().getSecureRemoteUrl():a()}function o(){return(new Date).getTime()}function s(){return r(/[^#]*$/.exec(document.URL)[0])}function r(e){return e.split("?")[0]}function a(){return window.location.origin}function l(){return"ontouchstart"in window||/Touch/.test(navigator.userAgent)||navigator.maxTouchPoints>0}function c(){var t=-1,n={};window.performance&&window.performance.timing&&(n=performance.timing,t=n.domContentLoadedEventEnd-n.navigationStart),t<0&&(t=void 0),e({event:"NavigationTiming",timing:t,hasTouch:l()})}var u="https://tn-logs.pearsondev.com/Logs",d="https://logs.testnav.com/Logs",h=null,p=1e3;return{actions:{},NavigationTiming:c,Error:function(t,n,i,o,s){var r={};try{r.xinfo=window.TestEngine.getAuthentication().getXInfo()}catch(e){}r.event="TN8Error",r.message=t,r.details=n,r.itemId=o,r.errType=i,r.extraData=s,e(r)},startTimer:function(e,t){this.actions[e]={startTime:o()}},stopTimer:function(t,n,i){if("undefined"!=typeof this.actions[t]&&"undefined"!=typeof this.actions[t].startTime){var s=o()-this.actions[t].startTime,r={event:t,timing:s,hasTouch:l(),itemId:i};"object"==typeof n&&$.extend(r,n),"firstItemLoadTime"===t&&(r.isPractice=TestEngine.getTestDefine()&&TestEngine.getTestDefine().isPracticeTest()),e(r),this.removeAction(t)}},removeAction:function(e){delete this.actions[e]},touchIsUsed:function(t){var n={event:"TouchIsUsed",type:t.type};e(n)},sendOut:function(t){e(t)},metrics:function(t){e({event:"TN8Metrics",metrics:t.metrics})}}};return e()}),define("controllers/SnitchController",["snitch"],function(e){return{init:function(){var t=function(){$(document).off("inform.loadFirstItem",t),$(document).off("tn.test.resume",t),e.startTimer("firstItemLoadTime",i())},n=function(){var t=window.TestEngine.getAuthentication().getXInfo();e.stopTimer("firstItemLoadTime",{xinfo:t},i()),$(document).off("ItemController.ItemLoaded",n)},i=function(){var e="";return window.TestEngine._navigation&&(e=window.TestEngine._navigation.getCurrentItem().getItemName()),e},o=function(t,n){e.Error("EWS number: "+n.num,n.msg,n.errtype,i())},s=function(t,n){e.Error("EWS "+n.msg+" button: "+n.num,n.msg,n.errtype,i())},r=function(t,n){n&&e.Error("Fatal Error : "+n.num,n.msg,n.errtype,i())},a=function(t,n){try{n._xinfo=window.TestEngine.getAuthentication().getXInfo()}catch(e){}e.Error("Error number: "+n.num,n.msg,n.errtype,i(),n.extraData)},l=function(t,n){e.Error("Error page: "+n.num,n.msg,n.errtype,n.itemid)},c=function(t){"pointerdown"===t.type&&t.originalEvent&&"touch"!==t.originalEvent.pointerType||($(document).off("touchstart pointerdown",c),e.touchIsUsed(t))},u=function(){TN8.fnOne("inform.loadFirstItem",t),TN8.fnOne("tn.test.resume",t),TN8.fnOne("ItemController.ItemLoaded",n),TN8.fnOn("touchstart pointerdown",c)},d=function(t,n){TN8.fnOne("tn.TICalculatorClosed",h),e.startTimer(n+"Opened",i())},h=function(t,n){e.stopTimer(n+"Opened","",i())},p=function(t,n){e.Error("CAT Navigate Retry Success","attempt: "+n,"Background",i())},f=function(t,n){e.metrics(n,i())},g=function(t,n){e.sendOut({event:"ttsError",data:n})},m=function(t,n){e.sendOut(n)},v=function(t,n){e.sendOut({event:"srfLoad",fixedSRF:!!n.fixedSRF&&n.fixedSRF,srfSessionToken:n.sessionToken,uploadedDirectly:!!n.direct&&n.direct})};TN8.fnOn("tn.error.growl tn.error.modal",a),TN8.fnOn("tn.ews.on",o),TN8.fnOn("tn.ews.button",s),TN8.fnOn("tn.error.fatal inform.requireError",r),TN8.fnOn("tn.errorPage",l),TN8.fnOn("tn.test.start",u),TN8.fnOn("tn.TICalculatorOpened",d),TN8.fnOn("tn.featureMetrics",f),TN8.fnOn("tn.retryNavigateSuccess",p),TN8.fnOn("tts.error",g),TN8.fnOn("snitch.sendOut",m),TN8.fnOn("tn.srfUploaded",v),e.NavigationTiming()}}}),define("tools/scriptInjector",[],function(){return{sources:[],hasExhibit:!1,failedRequire:!1,asyncRequire:function(e,t){var n=_.pluck(e,"src");this.sources=n.slice(0);var i=_.any(n,function(e){return/texttospeech-lib/.test(e)});i&&n.push(TN8.baseUrl+"public/javascripts/jquery.widget.aslvideo.js"),TN8.utils.loadLibraries(n,t,this.injectFailure)},injectScripts:function(e,t){this.asyncRequire(this.prepare(e),t)},scriptError:function(e){return this.failedRequire=_(this.sources).any(function(t){return new RegExp(t).test(e)}),this.failedRequire},injectFailure:function(e){try{e=JSON.stringify(e)}catch(t){e=t}TN8.throw("scriptInjector.injectScripts failed. Error message : "+e,TN8.errorType.INJECTION_SCRIPT_ERROR)},setExhibits:function(e){var t=$("<div />").html(e),n=$(t).find(".exhibits-list");this.hasExhibit=n.children&&n.children().length},prepare:function(e){return TN8.log("scriptInjector.preparing scripts: "+JSON.stringify(e),TN8.IMPORTANT),this.injectDependencies(e).map(this.adjustUrl)},injectDependencies:function(e){var t="public/javascripts/mathjax/MathJax.js?config=TeX-MML-AM_CHTML",n="public/javascripts/jquery.nicescroll.min.js",i=_.any(e,function(e){return/equationeditor/.test(e.src)}),o=!TN8.apip||"undefined"==typeof TN8.apip.apipObject||null===TN8.apip.apipObject,s=_.any(e,function(e){return/sbtable|sbgrid|sbee/.test(e.src)});return s&&e.unshift({key:"yui-sb-min",src:"public/javascripts/yahoo/yui-sb.min.js"},{key:"sbutils-util",src:"public/javascripts/sbutils/util.js"}),i&&e.unshift({key:"MathJax",src:t}),this.hasExhibit&&e.unshift({key:"scrolling",src:n}),e=this.removeToolScripts(e,o)},adjustUrl:function(e){var t=e.src;return TN8.baseUrl&&!/^https?:\/\//.test(t)&&(e.src=TN8.baseUrl+t),e},removeToolScripts:function(e,t){var n=[],i=["accommodations-lib.js","answereliminator-lib.js","answermasking-lib.js","calculatorToolbox-lib.js","contrastcontroller-lib.js","desmos-lib.js","dictionary-lib.js","highlightertool-lib.js","linereader-lib.js","magnifier-lib.js","measurementToolbox-lib.js","notepad-lib.js","sbtts.js","straightedge-lib.js","ticalccontroller-lib.js","toolcontroller-lib.js","jquery.pagedpassage.js","contextMenu.js"];return t&&i.push("texttospeech-lib.js"),e.forEach(function(e){var t=e.src.split("/"),o=t[t.length-1];i.indexOf(o)===-1&&n.push(e)}),n}}}),requirejs.config({waitSeconds:90,baseUrl:"js",paths:{javascripts:"../public/javascripts",tpl:"../tpl",TestEngine:"../lib/TestEngine",EngineDependantLibs:"../lib/EngineDependantLibs"},shim:{"javascripts/jquery":{exports:"$"},"javascripts/underscore-min":{exports:"_"},"javascripts/backbone-min":{deps:["javascripts/underscore-min","javascripts/jquery"],exports:"Backbone"},"javascripts/bootstrap":{deps:["javascripts/jquery-ui.min"]},"javascripts/jquery-ui.min":{deps:["javascripts/jquery"]},"javascripts/jquery.nicescroll.min":{deps:["javascripts/jquery"]},"javascripts/jquery.nativescroll":{deps:["javascripts/jquery"]},"javascripts/jquery.iscroll":{deps:["javascripts/jquery"]},"javascripts/jquery.jgrowl.min":{deps:["javascripts/jquery"]},"javascripts/jquery.cookie":{deps:["javascripts/jquery"]},"javascripts/local-jquery":{deps:["javascripts/jquery"]},"javascripts/jquery.ui.touch-punch.min":{deps:["javascripts/jquery-ui.min"]},"javascripts/i18next-latest":{deps:["javascripts/jquery"]},"tools/version":{deps:["javascripts/jquery"]},"texasinstruments/ti84p-min":{deps:[]},"ti30mv-min":{deps:[]},"ti108-min":{deps:[]},"javascripts/jQuery.XDomainRequest":{deps:["javascripts/jquery"]},"javascripts/jquery.widget.reviewdropdown":{deps:["javascripts/jquery-ui.min"]},"util/modalize":{deps:["javascripts/jquery-ui.min"]}}}),requirejs.tnRetryOnError=function(e){function t(){var e=t,n=[];TN8.log("require_main.dummyEWSCall ewsCallback 1013.",TN8.CRITICAL),setTimeout(function(){TN8.EWSController.ewsCallback({errorMsg:"1013",retryFunction:e,retryFunctionArgs:n,details:"Dummy EWS is calling"})},1e3)}function n(e){var t=e.src,n=t.indexOf("?");return n>0&&(t=t.substring(0,n)),t+"?"+a}function i(){var e=require.s.contexts._.registry,t=null;return _.each(e,function(e){e.depCount>0&&(t=e.factory)}),t}function o(e,t){var n=e,i=t;TN8.log("require_main.makeEWSCall ewsCallback 1009.",TN8.CRITICAL),TN8.EWSController.ewsCallback({errorMsg:"1009",retryFunction:n,retryFunctionArgs:i,details:"Dummy EWS is calling"})}var s=e.originalError&&(e.originalError.target||e.originalError.srcElement),r=!1;if(r){var a=(new Date).getMilliseconds(),l=n(s),c=i(),u=require,d=[[l],c];$(s).remove(),o(u,d)}else t()},requirejs.onError=function(e){"use strict";var t="";if("timeout"===e.requireType?t+="Error: Timeout loading script file(s): ":(t+="Error: General error loading script file(s): ",t+=e.requireType),e&&e.requireModules)for(var n=0;n<e.requireModules.length;n++)t+=" "+e.requireModules[n]+",";console.log(t),window.TN8&&window.TN8.log&&window.TestEngine&&(TN8.log("require_main.requireError.  error msg :"+e.message+"  requireType : "+t+" err stack: "+e.stack,TN8.CRITICAL),e.requireMap&&TN8.log("require_main.requireError.  File : "+e.requireMap.name+"  id:"+e.requireMap.id,TN8.CRITICAL)),window.TestEngine&&TestEngine.isNativeComponentActive()&&TN8&&TN8.Application&&TN8.Application.libsCssLoaded?requirejs.tnRetryOnError(e):require(["javascripts/jquery","javascripts/bootstrap"],function(e){e(document).trigger("tn.loadingModal.off"),e("#btn-reload-app , .close","#requireError").on("click",function(){window.location.href=window.location.pathname}),window.TestEngine&&window.TestEngine._isAppMode()?(e("#requireErrorApp").modal("show").tabRing(),e("#requireErrorApp").find(".modal-focus-anchor").focus(),e(document).trigger("inform.requireError",{num:"3125",msg:"Fatal Error: 3125",errtype:"Fatal"})):(e("#requireError").modal("show").tabRing(),e(document).trigger("inform.requireError",{num:"3001",msg:"Fatal Error: 3001",errtype:"Fatal"})),e("#btn-reload-app").focus()})},window.TN8={},require(["utils","util/shortcuts","tools/version","globalEvents","controllers/LanguageController","tools/error","util/browsercheck","javascripts/jquery","javascripts/underscore-min","javascripts/backbone-min","javascripts/bootstrap","javascripts/local-jquery","javascripts/i18next-latest","javascripts/jquery.jgrowl.min","javascripts/jQuery.XDomainRequest","controllers/ActionSubscriber","main","controllers/ExitController","util/Dispatcher","util/EpatBlocker","controllers/PnpController","controllers/SnitchController","tools/scriptInjector","TestEngineWaiter"],function(e,t,n,i,o,s,r){"use strict";function a(e){e.stopPropagation(),e.preventDefault()}document.addEventListener("drop",a,!1),document.addEventListener("dragenter",a,!1),document.addEventListener("dragover",a,!1),window.open("","_self"),window.TN8.Application=new(require("main")),window.TN8.Dispatcher=require("util/Dispatcher"),window.TN8.EpatBlocker=require("util/EpatBlocker"),window.TN8.mediaPlayerKey="yCfrS+BMzJcogJGlUWVOMLiVqAIe48cZObWGyA==",window.TN8.equationEditors=[],window.TN8.baseUrl="",s.applicationStatusInit(),window.TN8.apip={apipObject:null,ttsObject:null},$.ajaxSetup({timeout:5e3,cache:!0,crossDomain:!0}),$.jGrowl.defaults.sticky=!0;var l=e.detectBrowser(),c=e.detectOs();$("body").addClass(l+" "+c),Backbone.history.start();var u=function(){var e=window.location.hash,t=function(t){/end(test|Section)/.test(window.location.hash)&&/startSection/.test(e)&&(window.history.forward(),window.location.hash="startSection"),e=window.location.hash};window.addEventListener("hashchange",t)};u(),$("body").on("selectstart",window.handleSelect),t.blockShiftScrollNav(),window.onerror=function(e,t,n,i,o){$("body").attr("JSError",e);var s=require("tools/scriptInjector"),r={message:e,file:t,line:n,column:i,stack:o&&o.stack};return t?s.scriptError(t)?($(document).trigger("tn.loadingModal.off"),s.injectFailure(r)):TN8.throw(r,TN8.errorType.UNKNOWN_ERROR):TN8.throw(r,TN8.errorType.FILENAME_MISSING),!0};var d=function(){$("#loading-title, #progress-title").html($.i18n.t("loadingMsg"));var o=require("controllers/SnitchController");o.init();require(["controllers/EndTestSnitchController"]);$("#initialLoad").remove(),i.bindWindow(),t.addContext($(window)),t.unblock("ctrl+meta+f",!0),t.unblock("ctrl+meta+f"),t.unblock("meta+shift+f",!0),t.unblock("meta+shift+f"),t.unblock("f11",!0),t.unblock("f11");var s=function(e){return"text"===e.type||"textarea"===e.type||"password"===e.type||e.isContentEditable},r=function(e){$(e.target).off("focusout remove",$.proxy(r,this)),window.setTimeout(function(){s(document.activeElement)||$(".scrollProp").css({display:"none",height:0})},20)};if(TestEngine.isAndroidApp()&&$(document).on("focusin",function(e){var t=450;if(s(e.target)){if(0!==$(".pane-scrolling").length){var n=$(".left-pane"),i=$(".right-pane");0===n.children(".scrollProp").length&&n.append('<div class="scrollProp" style="display:none"></div>'),0===i.children(".scrollProp").length&&i.append('<div class="scrollProp" style="display:none"></div>')}$(".scrollProp").css({display:"block",height:t}),$(e.target).on("focusout remove",$.proxy(r,this))}}),$.jGrowl.defaults.beforeOpen=function(){this.find(".jGrowl-close").empty(),this.attr({role:"alert"}),this.find(".jGrowl-close").attr({"aria-label":"Close Alert",role:"button"}),this.find(".jGrowl-close").html("&times;")},$.jGrowl.defaults.afterOpen=function(e,t){$("#jGrowl").find(".jGrowl-closer").html("["+$.i18n.t("errorMessages:closeAll")+"]")},function(t){var n=t.jGrowl;t.jGrowl=function(){t.extend(t.jGrowl,n);var i=n.apply(this,arguments);return t("#jGrowl").one("jGrowl.afterOpen",function(){_.each(t(".jGrowl-close, .jGrowl-closer"),function(t){e.EnterAsClick(t)})}),t("#lastTabbable").before(t("#jGrowl")),i}}($),$("#loading").modal({keyboard:!1,show:!1}),Date.now||(Date.now=function(){return(new Date).valueOf()}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),TN8.sessionStart=new Date(0),location.href.indexOf("#version")>-1){var a=function(){$(document).trigger("tn.route.to","login")},l=function(){$(document).trigger("tn.route.to","login"),TN8.throw("",TN8.errorType.VERSION_UPDATE_FAILURE)};n.checkClient(a,l,l)}TN8.JwPlayerCount=0,window.isSelectable=function(){var e=$(document.activeElement);return e.is("input[type=text]")||e.is("textarea")||e.attr("contenteditable")?"true":"false"},window.isRichText=function(){var e=$(document.activeElement);return e.hasClass("rte-editbox")?"true":"false"},e.setMathJaxOptions(),$(document).trigger("tn.route.to","login")},h=null,p=function(){$.ajax({type:"GET",url:"/client/translationOutput.json",dataType:"json",success:function(e){null!==TN8.Application.config?f(e)():h=f(e)},error:function(e){TN8.log(e.status+" "+e.statusText+": translationOutput file is missing!!!",TN8.CRITICAL),TN8.throw("There is no config file",TN8.errorType.CONFIG_FILE_MISSING)}})},f=function(e){return function(){var t=["en","es"];o.init({supportedLanguages:t,programOverride:TN8.Application.config&&TN8.Application.config.language});var n=o.getLanguage();$.i18n.init({lng:n,preload:t,lngWhitelist:t,fallbackNS:"generalWords",useCookie:!1,resStore:e,fallbackLng:"en"},function(e,t){if(TN8.log("translation :"+e,TN8.CRITICAL),e)TN8.log("Translation lib has error "+e,TN8.CRITICAL),TN8.throw("There is no config file",TN8.errorType.CONFIG_FILE_MISSING);else{var n=function(){var e=r.check();e.then(function(e){e&&(TN8.Application.postInitialization(),d())})};require("TestEngineWaiter").waitForEngine(n)}})}};$(document).ready(function(){var e=$("<div style='box-sizing: border-box;'></div>");e.outerWidth(),$.support.cors=!0,TN8.Application.config=null,$.ajax({type:"GET",url:"/client/config.json",dataType:"json",success:function(e){TN8.Application.config=e,h&&h()},error:function(){var e=function(){TN8.log("There is no config file",TN8.CRITICAL);var e=TestEngine.checkForSecureMode()||TestEngine._isSystemBrowserMode,t=TestEngine._isAppMode&&TestEngine._isAppMode();e&&!t?TestEngine.ThrowErrorOnParent(TN8.errorType.CONFIG_FILE_MISSING):TN8.throw("There is no config file",TN8.errorType.CONFIG_FILE_MISSING)};require("TestEngineWaiter").waitForEngine(e)}}),p()})}),define("require_main",function(){});
